import{r as t,j as e,R as Me}from"./index-Cr9tIA47.js";var da={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oa=y=>y.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ee=(y,A)=>{const s=t.forwardRef(({color:i="currentColor",size:v=24,strokeWidth:u=2,absoluteStrokeWidth:o,children:b,...T},w)=>t.createElement("svg",{ref:w,...da,width:v,height:v,stroke:i,strokeWidth:o?Number(u)*24/Number(v):u,className:`lucide lucide-${oa(y)}`,...T},[...A.map(([$,d])=>t.createElement($,d)),...(Array.isArray(b)?b:[b])||[]]));return s.displayName=`${y}`,s},Le=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ts=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),oe=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Yt=ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Qt=ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Se=ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),de=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),xa=ee("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]),Ye=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),be=ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),it=ee("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),xt=ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),pe=ee("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),ma=ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Ys=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Bs=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Vs=ee("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]),Cs=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),ne=ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ws=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ha=ee("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),se=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ua=ee("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Xt=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Tt=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),rt=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ga=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ie=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Kt=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),pa=ee("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),vs=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Zt=ee("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),vt=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ze=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ne=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),wt=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),je=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),re=ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),zs=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ps=ee("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]),ct=ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),ba=ee("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),tt=ee("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),ja=ee("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Ms=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),$s=ee("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),ya=ee("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),St=ee("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),js=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),ea=ee("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),fa=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Gs=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Dt=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Na=ee("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),va=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),mt=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),wa=ee("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),Sa=ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),$t=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),$a=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ps=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),as=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),at=ee("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),ka=ee("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),Fe=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),kt=ee("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),sa=ee("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]),Et=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),As=ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),ut=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Ca=ee("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),ta=ee("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),gt=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Aa=ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),aa=ee("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Rt=ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),ms=ee("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),jt=ee("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Pa=ee("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]),We=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ct=ee("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Lt=ee("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),At=ee("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),la=ee("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),ve=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ra=ee("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Ds=ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),ws=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ys=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Je=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Es=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),na=ee("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Xe=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Js=ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Ta=ee("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),He=ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Da=ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),dt=ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Fs=ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Ea=ee("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Pt=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Ie=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ht=ee("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),pt=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),yt=ee("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]),Ra=ee("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Ce=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),_a=ee("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Rs=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),lt=ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),he=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),xs=ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),is=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Us=ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Xs=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),es=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ft=ee("Users2",[["path",{d:"M14 19a6 6 0 0 0-12 0",key:"vej9p1"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["path",{d:"M22 19a6 6 0 0 0-6-6 4 4 0 1 0 0-8",key:"hqbn22"}]]),me=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ot=ee("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),ke=ee("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Fa=ee("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Ia=ee("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),ia=ee("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Bt=ee("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Qs=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Qe=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ss=ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),La=({loginForm:y,setLoginForm:A,handleLogin:s})=>{const[i,v]=t.useState(!1),[u,o]=t.useState({name:"",email:"",password:"",showPassword:!1}),b=["https://images.unsplash.com/photo-1523240795612-9a054b0db644?q=80&w=2060&auto=format&fit=crop","https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=2060&auto=format&fit=crop","https://images.unsplash.com/photo-1523580846011-d3a5bc25702b?q=80&w=2060&auto=format&fit=crop"],[T,w]=t.useState(0);t.useEffect(()=>{const x=setInterval(()=>{w(a=>(a+1)%b.length)},5e3);return()=>clearInterval(x)},[b.length]);const $=x=>x.endsWith(".admin@gmail.com")?"admin":x.endsWith(".teacher@gmail.com")?"teacher":x.endsWith(".parent@gmail.com")?"parent":x.endsWith(".student@gmail.com")?"student":null,d=async()=>{const{name:x,email:a,password:l}=u;if(!x||!a||!l){alert("Please fill in all fields");return}const n=$(a);if(!n){alert("Registration failed. Your email address is not authorized for registration. Please contact the school administrator.");return}try{const S=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x,email:a,password:l,role:n})}),N=await S.json();if(!S.ok)throw new Error(N.msg||"Registration failed");alert("✅ Registration successful! You can now login with your credentials."),v(!1),o({name:"",email:"",password:"",showPassword:!1})}catch(h){console.error("Backend registration failed, trying localStorage fallback:",h);try{const S=JSON.parse(localStorage.getItem("registeredUsers")||"[]");if(S.find(g=>g.email===a)){alert("Email already registered. Please use a different email or login instead.");return}const N={id:Date.now(),name:x,email:a,password:l,role:n,createdAt:new Date().toISOString()};S.push(N),localStorage.setItem("registeredUsers",JSON.stringify(S)),alert("✅ Registration successful! You can now login with your credentials."),v(!1),o({name:"",email:"",password:"",showPassword:!1})}catch(S){console.error("LocalStorage registration error:",S),alert("❌ Registration failed: Unable to register. Please try again or contact support.")}}};return e.jsxs("div",{className:"min-h-screen relative flex items-center justify-center p-4",style:{backgroundImage:`url('${b[T]}')`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900/70 via-black/60 to-gray-900/70"}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-blue-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:e.jsx($s,{className:"w-10 h-10 text-blue-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Smart School"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"AI-Powered Management System"})]}),e.jsxs("div",{className:"flex mb-6 bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{type:"button",onClick:()=>v(!1),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ${i?"text-gray-600 hover:text-gray-800":"bg-white text-blue-600 shadow-sm"}`,children:[e.jsx(ps,{className:"w-4 h-4 inline mr-2"}),"Login"]}),e.jsxs("button",{type:"button",onClick:()=>v(!0),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ${i?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(Xs,{className:"w-4 h-4 inline mr-2"}),"Register"]})]}),i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name",value:u.name,onChange:x=>o({...u,name:x.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",value:u.email,onChange:x=>o({...u,email:x.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:u.showPassword?"text":"password",required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Create a password",value:u.password,onChange:x=>o({...u,password:x.target.value})}),e.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>o({...u,showPassword:!u.showPassword}),children:u.showPassword?e.jsx(wt,{className:"w-5 h-5"}):e.jsx(je,{className:"w-5 h-5"})})]})]}),e.jsx("button",{type:"button",onClick:d,className:"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transform hover:scale-105 transition-all duration-200",children:"Create Account"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",value:y.email,onChange:x=>A({...y,email:x.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:y.showPassword?"text":"password",required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",value:y.password,onChange:x=>A({...y,password:x.target.value})}),e.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>A({...y,showPassword:!y.showPassword}),children:y.showPassword?e.jsx(wt,{className:"w-5 h-5"}):e.jsx(je,{className:"w-5 h-5"})})]})]}),e.jsx("button",{type:"button",onClick:s,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transform hover:scale-105 transition-all duration-200",children:"Sign In"})]})]})]})},ks=({title:y,value:A,icon:s,trend:i,color:v="blue"})=>e.jsx("div",{className:`bg-white rounded-xl shadow-lg p-6 border-l-4 border-${v}-500 overflow-hidden`,children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-gray-600 text-sm truncate",title:y,children:y}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 truncate",title:String(A),children:A}),i&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-sm text-green-500",children:i})]})]}),e.jsx("div",{className:`bg-${v}-100 rounded-full p-3`,children:e.jsx(s,{className:`w-6 h-6 text-${v}-600`})})]})}),_t=({aiInsights:y})=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"bg-purple-100 rounded-full p-2 mr-3",children:e.jsx(de,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"AI Insights"})]}),e.jsx("div",{className:"space-y-3",children:y.map((A,s)=>{const i=typeof A=="string"?A:A.message,v=typeof A=="object"?A.priority:void 0,u=typeof A=="object"?A.type:void 0,o=v==="high"?"bg-red-100 text-red-800":v==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800";return e.jsxs("div",{className:"flex items-start",children:[e.jsx(se,{className:"w-4 h-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("p",{children:i}),(v||u)&&e.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[u&&e.jsx("span",{className:"text-xs text-gray-500 capitalize",children:u}),v&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${o}`,children:v})]})]})]},s)})})]}),bt=({userRole:y,setActiveTab:A,darkMode:s=!1})=>{const i=[{id:"profile",label:"Complete your profile",icon:es,desc:"Add photo, contact and emergency info",tab:"profile"},{id:"messaging",label:"Check new messages",icon:re,desc:"Review recent communications",tab:"messaging"}],v={admin:[{id:"payments",label:"Review pending payments",icon:vs,desc:"Approve or reconcile fees",tab:"payments"},{id:"users",label:"Review system users",icon:He,desc:"Verify user permissions",tab:"users"}],teacher:[{id:"assignments",label:"Grade recent assignments",icon:re,desc:"Post grades and feedback",tab:"assignments"},{id:"attendance",label:"Take attendance",icon:es,desc:"Mark student attendance",tab:"attendance"}],student:[],parent:[{id:"payments",label:"Pay outstanding fees",icon:vs,desc:"Multiple payment options available",tab:"fee-statements"},{id:"children",label:"Review child's progress",icon:re,desc:"Check grades and attendance",tab:"children"}]},u=d=>{A&&d.tab&&A(d.tab)},o=[...i,...v[y]||[]],b=s?"bg-gray-800 border-gray-700":"bg-white border-gray-200",T=s?"text-white":"text-gray-800",w=s?"text-gray-300":"text-gray-600",$=s?"text-gray-400":"text-gray-500";return e.jsxs("div",{className:`${b} rounded-xl shadow-lg p-6 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:`text-lg font-semibold flex items-center ${T}`,children:[e.jsx(oe,{className:"w-5 h-5 mr-2 text-amber-600"}),"Required Actions"]}),e.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-amber-50 text-amber-700 border border-amber-200",children:[o.length," items"]})]}),e.jsx("div",{className:"space-y-3",children:o.map(d=>e.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(d.icon,{className:"w-5 h-5 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${T}`,children:d.label}),e.jsx("p",{className:`text-xs ${w}`,children:d.desc})]})]}),e.jsx("button",{onClick:()=>u(d),className:"text-sm px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:"Open"})]},d.id))}),e.jsxs("div",{className:`mt-4 flex items-center text-xs ${$}`,children:[e.jsx(ha,{className:"w-4 h-4 mr-1 text-green-600"}),"Complete these to unlock all features"]})]})},Ft=({userRole:y,darkMode:A=!1})=>{const[s,i]=t.useState([]),[v,u]=t.useState(!0),o=A?"bg-gray-800 border border-gray-700":"bg-white",b=A?"text-white":"text-gray-900",T=A?"text-gray-300":"text-gray-600",w=A?"text-gray-400":"text-gray-500";t.useEffect(()=>{$()},[]);const $=async()=>{try{const a=localStorage.getItem("token"),n=await fetch("http://localhost:5000/api/analytics/top-performing-students",{headers:{Authorization:`Bearer ${a}`}});if(n.ok){const h=await n.json();i(h.students||[])}else i([])}catch(a){console.error("Error fetching top students:",a),i([])}finally{u(!1)}},d=a=>{switch(a){case 1:return e.jsx(Zt,{className:"w-5 h-5 text-yellow-500"});case 2:return e.jsx(at,{className:"w-5 h-5 text-gray-400"});case 3:return e.jsx(at,{className:"w-5 h-5 text-orange-500"});default:return e.jsx(Ie,{className:"w-4 h-4 text-blue-500"})}},x=a=>{switch(a){case 1:return"bg-gradient-to-r from-yellow-400 to-yellow-600";case 2:return"bg-gradient-to-r from-gray-300 to-gray-500";case 3:return"bg-gradient-to-r from-orange-400 to-orange-600";default:return"bg-gradient-to-r from-blue-400 to-blue-600"}};return v?e.jsx("div",{className:`${o} rounded-xl shadow-lg p-4`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((a,l)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4 mb-1"}),e.jsx("div",{className:"h-2 bg-gray-200 rounded w-1/2"})]})]},l))})]})}):e.jsxs("div",{className:`${o} rounded-xl shadow-lg p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:`text-base font-semibold ${b} flex items-center`,children:[e.jsx(Se,{className:"w-4 h-4 mr-2 text-yellow-600"}),"Top 5 Students"]}),e.jsxs("button",{className:`text-xs ${T} hover:${b} transition-colors flex items-center`,children:["View All",e.jsx(rt,{className:"w-3 h-3 ml-1"})]})]}),s.length>0?e.jsx("div",{className:"space-y-3",children:s.map((a,l)=>e.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("div",{className:`w-8 h-8 rounded-full ${x(l+1)} flex items-center justify-center text-white font-bold text-xs shadow-lg flex-shrink-0 mt-0.5`,children:l+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("h4",{className:`font-semibold ${b} text-sm leading-tight`,children:a.name}),e.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[d(l+1),e.jsx("p",{className:`text-xs ${T}`,children:a.class})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[e.jsxs("span",{className:`font-medium ${b}`,children:["GPA: ",a.gpa]}),e.jsxs("span",{className:"font-medium text-green-600",children:[a.attendance,"%"]}),e.jsxs("span",{className:"font-medium text-blue-600 flex items-center",children:[e.jsx(he,{className:"w-3 h-3 mr-1"}),a.improvement]})]})]}),e.jsx("div",{className:"text-right flex-shrink-0 mt-0.5",children:e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a.gpa>=4?"bg-green-100 text-green-600":a.gpa>=3.5?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"}`,children:e.jsx(es,{className:"w-4 h-4"})})})]},a.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Se,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:`${T}`,children:"No performance data available"}),e.jsx("p",{className:`text-xs ${w}`,children:"Student performance data will appear here once available"})]}),s.length>0&&e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-lg font-bold ${b}`,children:(s.reduce((a,l)=>a+l.gpa,0)/s.length).toFixed(1)}),e.jsx("p",{className:`text-xs ${w}`,children:"Avg GPA"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:`text-lg font-bold ${b}`,children:[Math.round(s.reduce((a,l)=>a+l.attendance,0)/s.length),"%"]}),e.jsx("p",{className:`text-xs ${w}`,children:"Avg Attend"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:Math.round(s.reduce((a,l)=>a+parseFloat(l.improvement),0)/s.length*10)/10}),e.jsx("p",{className:`text-xs ${w}`,children:"Avg Improve"})]})]})})]})},Ba=({aiInsights:y,setActiveTab:A,darkMode:s=!1})=>{const[i,v]=t.useState({totalUsers:0,activeUsers:0,totalRevenue:0,systemHealth:"good",storageUsed:0,lastBackup:null}),[u,o]=t.useState([]),[b,T]=t.useState([]),[w,$]=t.useState("overview"),d=s?"bg-gray-800 border border-gray-700":"bg-white",x=s?"text-white":"text-gray-900",a=s?"text-gray-300":"text-gray-600";t.useEffect(()=>{l(),n(),h()},[]);const l=async()=>{try{const N=await(await fetch("/api/admin/system-stats")).json();N.success&&v(N.data)}catch(S){console.error("Error loading system stats:",S)}},n=async()=>{try{const N=await(await fetch("/api/admin/recent-activities")).json();N.success&&o(N.data||[])}catch(S){console.error("Error loading recent activities:",S)}},h=async()=>{try{const N=await(await fetch("/api/admin/system-alerts")).json();N.success&&T(N.data||[])}catch(S){console.error("Error loading system alerts:",S)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(bt,{userRole:"admin",setActiveTab:A,darkMode:s}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ks,{title:"Total Students",value:"0",icon:me,trend:"0%",color:"blue"}),e.jsx(ks,{title:"Active Teachers",value:"0",icon:es,trend:"0%",color:"green"}),e.jsx(ks,{title:"Attendance Rate",value:"0%",icon:ie,trend:"0%",color:"orange"}),e.jsx(ks,{title:"Revenue (UGX)",value:"0",icon:ze,trend:"0%",color:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(_t,{aiInsights:y}),e.jsx(Ft,{userRole:"admin",darkMode:s}),e.jsxs("div",{className:`${d} rounded-xl shadow-lg p-6 overflow-hidden`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${x}`,children:"Recent Activities"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`flex items-center p-3 rounded-lg ${s?"bg-blue-900/20 border border-blue-800":"bg-blue-50"}`,children:[e.jsx(Xs,{className:"w-5 h-5 text-blue-600 mr-3"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${x} truncate`,children:"New teacher registered"}),e.jsx("p",{className:`text-xs ${a} break-words`,children:"0"})]})]}),e.jsxs("div",{className:`flex items-center p-3 rounded-lg ${s?"bg-green-900/20 border border-green-800":"bg-green-50"}`,children:[e.jsx(se,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${x} truncate`,children:"Fees payment received"}),e.jsx("p",{className:`text-xs ${a} break-words`,children:"UGX 0 via MTN Mobile Money"})]})]}),e.jsxs("div",{className:`flex items-center p-3 rounded-lg ${s?"bg-yellow-900/20 border border-yellow-800":"bg-yellow-50"}`,children:[e.jsx(oe,{className:"w-5 h-5 text-yellow-600 mr-3"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${x} truncate`,children:"AI Alert: At-risk student"}),e.jsx("p",{className:`text-xs ${a} break-words`,children:"0"})]})]})]})]})]})]})},It=({userRole:y,isOpen:A,onClose:s})=>{const[i,v]=t.useState("chat"),[u,o]=t.useState([]),[b,T]=t.useState(""),[w,$]=t.useState(""),[d,x]=t.useState(""),[a,l]=t.useState(""),n=[{id:"math",name:"Mathematics",icon:Cs,color:"blue"},{id:"science",name:"Science",icon:sa,color:"green"},{id:"english",name:"English",icon:be,color:"purple"},{id:"history",name:"History",icon:fa,color:"orange"},{id:"geography",name:"Geography",icon:Ms,color:"teal"},{id:"art",name:"Art",icon:gt,color:"pink"},{id:"music",name:"Music",icon:ta,color:"indigo"}],h=[{value:"beginner",label:"Beginner",description:"Just starting out"},{value:"intermediate",label:"Intermediate",description:"Some knowledge"},{value:"advanced",label:"Advanced",description:"Strong foundation"}],S=[{value:"homework",label:"Homework Help",description:"Get help with assignments"},{value:"exam-prep",label:"Exam Preparation",description:"Prepare for upcoming tests"},{value:"concept-explanation",label:"Concept Explanation",description:"Understand difficult topics"},{value:"practice-problems",label:"Practice Problems",description:"Work through exercises"},{value:"study-strategy",label:"Study Strategy",description:"Improve study methods"}],N=()=>{if(!b.trim())return;const r={id:Date.now(),type:"user",content:b,timestamp:new Date};o(p=>[...p,r]),T(""),setTimeout(()=>{const p=g(b,y),k={id:Date.now()+1,type:"ai",content:p,timestamp:new Date};o(m=>[...m,k])},1e3)},g=(r,p)=>{const k={student:["I understand you're working on this problem. Let me break it down step by step for you.","Great question! This is a common concept that many students find challenging. Let me explain it clearly.","I can help you with that! Let's work through this together using a systematic approach.","That's an excellent observation! Let me show you how to approach this type of problem.","I see what you're trying to do. Here's a better way to think about this concept."],parent:["I can help you understand how to support your child's learning in this area.","This is a great question about your child's education. Let me provide some guidance.","I understand your concern. Here are some strategies that work well for parents.","Let me explain this concept so you can better help your child at home.","Here's how you can create a supportive learning environment for this topic."],teacher:["I can help you design an effective lesson plan for this topic.","Here are some proven teaching strategies for this concept.","Let me suggest some engaging activities that work well in the classroom.","I can help you differentiate instruction for students at different levels.","Here are some assessment strategies that align with this learning objective."]},m=k[p]||k.student;return m[Math.floor(Math.random()*m.length)]},c=(r,p,k)=>{$(r),x(p),l(k),v("chat");const m={id:Date.now(),type:"ai",content:`Welcome! I'm your AI tutor. I see you want help with ${r} at ${p} level for ${k}. How can I assist you today?`,timestamp:new Date};o([m])};return A?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(pe,{className:"w-6 h-6 mr-2 text-purple-600"}),"AI Tutor Assistant"]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[y==="student"&&"Get personalized help with your studies",y==="parent"&&"Support your child's learning journey",y==="teacher"&&"Enhance your teaching with AI assistance"]})]}),e.jsxs("div",{className:"flex h-[calc(90vh-120px)]",children:[e.jsx("div",{className:"w-1/3 border-r border-gray-200 p-4 overflow-y-auto",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Quick Start"}),e.jsx("div",{className:"space-y-3",children:n.map(r=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(r.icon,{className:`w-4 h-4 text-${r.color}-600`}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:r.name})]}),e.jsx("div",{className:"ml-6 space-y-1",children:h.map(p=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-gray-600",children:p.label}),e.jsx("div",{className:"ml-2 space-y-1",children:S.map(k=>e.jsx("button",{onClick:()=>c(r.name,p.label,k.label),className:"block w-full text-left text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 p-1 rounded",children:k.label},k.value))})]},p.value))})]},r.id))})]})})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:u.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(pe,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Start a conversation with your AI tutor"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Select a subject and goal from the sidebar, or type your question below"})]}):u.map(r=>e.jsx("div",{className:`flex ${r.type==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${r.type==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:e.jsxs("div",{className:"flex items-start space-x-2",children:[r.type==="ai"&&e.jsx(pe,{className:"w-4 h-4 mt-0.5 text-purple-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:r.content}),e.jsx("p",{className:`text-xs mt-1 ${r.type==="user"?"text-blue-100":"text-gray-500"}`,children:r.timestamp.toLocaleTimeString()})]})]})})},r.id))}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:b,onChange:r=>T(r.target.value),onKeyPress:r=>r.key==="Enter"&&N(),placeholder:"Ask me anything about your studies...",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}),e.jsxs("button",{onClick:N,disabled:!b.trim(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(Es,{className:"w-4 h-4"}),e.jsx("span",{children:"Send"})]})]})})]})]})]})}):null},Ma=({aiInsights:y,setActiveTab:A,darkMode:s})=>{const[i,v]=t.useState(!1),[u,o]=t.useState(null),b={classes:[],pendingTasks:{grading:0},recentActivity:[],upcomingDeadlines:[]};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(bt,{userRole:"teacher",setActiveTab:A,darkMode:s}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:()=>A&&A("online-class"),className:"px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl flex items-center space-x-2",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Conduct Online Class"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ks,{title:"My Classes",value:b.classes.length,icon:be,color:"blue",subtitle:"Active classes"}),e.jsx(ks,{title:"Total Students",value:b.classes.reduce((T,w)=>T+w.students,0),icon:me,color:"green",subtitle:"Across all classes"}),e.jsx(ks,{title:"Pending Grades",value:b.pendingTasks.grading,icon:re,color:"orange",subtitle:"Assignments to grade"}),e.jsx(ks,{title:"Deadlines",value:b.upcomingDeadlines.length,icon:ie,color:"purple",subtitle:"This week"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2 text-blue-600"}),"Today's Schedule"]}),e.jsx("button",{onClick:()=>A&&A("class-schedules"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Full Timetable"})]}),e.jsx("div",{className:"space-y-4",children:b.classes.map((T,w)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${w===0?"bg-blue-100 text-blue-600":w===1?"bg-green-100 text-green-600":w===2?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:e.jsx(be,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:T.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[T.room," • ",T.students," students"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`text-sm font-medium ${w===0?"text-blue-600":w===1?"text-green-600":w===2?"text-purple-600":"text-orange-600"}`,children:T.time}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:T.subject})]})]},T.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ce,{className:"w-5 h-5 mr-2 text-green-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>A&&A("grading"),className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg hover:shadow-md transition-all group",children:[e.jsx(is,{className:"w-6 h-6 text-blue-600 mb-2 group-hover:scale-110 transition-transform"}),e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Upload Marks"})]}),e.jsxs("button",{onClick:()=>A&&A("attendance"),className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg hover:shadow-md transition-all group",children:[e.jsx(ie,{className:"w-6 h-6 text-green-600 mb-2 group-hover:scale-110 transition-transform"}),e.jsx("p",{className:"text-sm font-medium text-green-800",children:"View Attendance"})]}),e.jsxs("button",{onClick:()=>A&&A("lesson-planning"),className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg hover:shadow-md transition-all group",children:[e.jsx(re,{className:"w-6 h-6 text-purple-600 mb-2 group-hover:scale-110 transition-transform"}),e.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Create Lesson"})]}),e.jsxs("button",{onClick:()=>A&&A("parent-communication"),className:"p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg hover:shadow-md transition-all group",children:[e.jsx(Fe,{className:"w-6 h-6 text-orange-600 mb-2 group-hover:scale-110 transition-transform"}),e.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Message Parents"})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold",children:"AI Teaching Assistant"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Enhance your teaching with AI support"})]})]}),e.jsxs("button",{onClick:()=>v(!0),className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-semibold hover:bg-purple-50 transition-colors flex items-center space-x-2",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Try AI Assistant"})]})]})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(_t,{aiInsights:y}),e.jsx(Ft,{userRole:"teacher",darkMode:s}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(oe,{className:"w-5 h-5 mr-2 text-red-600"}),"Upcoming Deadlines"]}),e.jsx("div",{className:"space-y-3",children:b.upcomingDeadlines.map((T,w)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.task}),e.jsx("p",{className:"text-xs text-gray-600",children:T.date})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded ${T.priority==="high"?"bg-red-100 text-red-800":T.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:T.priority})]},w))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ye,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recent Activity"]}),e.jsx("div",{className:"space-y-3",children:b.recentActivity.map((T,w)=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${T.status==="pending"?"bg-orange-500":"bg-green-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.title}),e.jsx("p",{className:"text-xs text-gray-600",children:T.time})]})]},w))})]})]})]}),e.jsx(It,{userRole:"teacher",isOpen:i,onClose:()=>v(!1)})]})},ca=({userRole:y,currentUser:A,darkMode:s=!1,setActiveTab:i})=>{const[v,u]=t.useState([]),[o,b]=t.useState(!0),[T,w]=t.useState("current_term"),$={current_term:[{id:1,name:"Sarah Johnson",class:"S4A",avatar:"SJ",engagementScore:95,tests:8,assignments:12,projects:3,overallPerformance:92,rank:1,streak:15,badges:["Top Performer","Consistent","Active Participant"]},{id:2,name:"Michael Chen",class:"S4B",avatar:"MC",engagementScore:89,tests:7,assignments:10,projects:2,overallPerformance:88,rank:2,streak:12,badges:["High Achiever","Dedicated"]},{id:3,name:"Emily Rodriguez",class:"S4A",avatar:"ER",engagementScore:87,tests:6,assignments:11,projects:2,overallPerformance:85,rank:3,streak:10,badges:["Consistent","Hard Worker"]},{id:4,name:"David Kim",class:"S4C",avatar:"DK",engagementScore:84,tests:5,assignments:9,projects:2,overallPerformance:82,rank:4,streak:8,badges:["Improving","Active"]},{id:5,name:"Lisa Wang",class:"S4B",avatar:"LW",engagementScore:81,tests:4,assignments:8,projects:1,overallPerformance:79,rank:5,streak:6,badges:["Rising Star"]}],last_month:[{id:1,name:"Michael Chen",class:"S4B",avatar:"MC",engagementScore:96,tests:9,assignments:14,projects:4,overallPerformance:94,rank:1,streak:18,badges:["Top Performer","Consistent","Active Participant"]},{id:2,name:"Sarah Johnson",class:"S4A",avatar:"SJ",engagementScore:93,tests:8,assignments:13,projects:3,overallPerformance:91,rank:2,streak:16,badges:["High Achiever","Dedicated"]},{id:3,name:"Emily Rodriguez",class:"S4A",avatar:"ER",engagementScore:89,tests:7,assignments:12,projects:2,overallPerformance:87,rank:3,streak:14,badges:["Consistent","Hard Worker"]},{id:4,name:"David Kim",class:"S4C",avatar:"DK",engagementScore:86,tests:6,assignments:10,projects:2,overallPerformance:84,rank:4,streak:12,badges:["Improving","Active"]},{id:5,name:"Lisa Wang",class:"S4B",avatar:"LW",engagementScore:83,tests:5,assignments:9,projects:1,overallPerformance:81,rank:5,streak:10,badges:["Rising Star"]}]};t.useEffect(()=>{setTimeout(()=>{u($[T]||[]),b(!1)},1e3)},[T]);const d=h=>{switch(h){case 1:return e.jsx(xs,{className:"w-6 h-6 text-yellow-500"});case 2:return e.jsx(Ie,{className:"w-6 h-6 text-gray-400"});case 3:return e.jsx(Ie,{className:"w-6 h-6 text-orange-500"});default:return e.jsx("span",{className:"w-6 h-6 flex items-center justify-center text-sm font-bold text-gray-500",children:h})}},x=h=>h>=90?"text-green-600 bg-green-100":h>=80?"text-blue-600 bg-blue-100":h>=70?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",a=s?"bg-gray-800 border-gray-700":"bg-white border-gray-200",l=s?"text-white":"text-gray-900",n=s?"text-gray-400":"text-gray-500";return o?e.jsx("div",{className:`${a} rounded-xl shadow-lg p-6 border`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(h=>e.jsx("div",{className:"h-16 bg-gray-300 rounded"},h))})]})}):e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-6 border overflow-hidden`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(xs,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${l}`,children:"Top 5 Most Active Students"}),e.jsx("p",{className:`text-sm ${n}`,children:"Ranked by lesson engagement & performance"})]})]}),e.jsxs("select",{value:T,onChange:h=>w(h.target.value),className:`px-3 py-1 text-sm border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-700"}`,children:[e.jsx("option",{value:"current_term",children:"Current Term"}),e.jsx("option",{value:"last_month",children:"Last Month"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-4 justify-center",children:v.map((h,S)=>e.jsxs("div",{className:`p-4 rounded-lg border transition-all hover:shadow-md w-48 flex-shrink-0 ${s?"border-gray-600 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex-shrink-0",children:d(h.rank)}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:h.avatar})]}),e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h4",{className:`font-semibold ${l} text-sm mb-1`,children:h.name}),e.jsx("p",{className:`text-xs ${n} mb-2`,children:h.class}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${x(h.engagementScore)}`,children:[h.engagementScore,"% engaged"]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(re,{className:"w-3 h-3 text-blue-500"}),e.jsx("span",{className:n,children:"Tests"})]}),e.jsx("span",{className:l,children:h.tests})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(be,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:n,children:"Assignments"})]}),e.jsx("span",{className:l,children:h.assignments})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ce,{className:"w-3 h-3 text-purple-500"}),e.jsx("span",{className:n,children:"Projects"})]}),e.jsx("span",{className:l,children:h.projects})]})]}),e.jsxs("div",{className:"text-center pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:`text-lg font-bold ${l} mb-1`,children:[h.overallPerformance,"%"]}),e.jsx("div",{className:`text-xs ${n} mb-2`,children:"Overall"}),e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(he,{className:"w-3 h-3 text-green-500"}),e.jsxs("span",{className:"text-xs text-green-600",children:[h.streak," day streak"]})]})]})]},h.id))}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:`text-sm font-medium ${l} mb-3`,children:"Achievement Badges"}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-20 overflow-y-auto",children:["Top Performer","Consistent","Active Participant","High Achiever","Dedicated","Hard Worker","Improving","Rising Star"].map(h=>e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s?"bg-gray-700 text-gray-300 border border-gray-600":"bg-gray-100 text-gray-700 border border-gray-200"}`,children:h},h))})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>{i?i("leaderboard"):alert("Full leaderboard feature coming soon!")},className:`w-full py-2 px-4 rounded-lg text-sm font-medium transition-colors ${s?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"View Full Leaderboard"})})]})},Ga=({aiInsights:y,setActiveTab:A,darkMode:s=!1,currentUser:i})=>{const[v,u]=t.useState([]),[o,b]=t.useState(new Date),[T,w]=t.useState(!1),[$,d]=t.useState(null),[x,a]=t.useState(!1),[l,n]=t.useState({clarity:0,organization:0,participation:0,fairness:0,support:0}),[h,S]=t.useState("");t.useEffect(()=>{new Date().getDay();const B=[{time:"08:00",subject:"Mathematics",teacher:"Mr. Johnson",room:"Room 101",type:"class",duration:40},{time:"08:50",subject:"English",teacher:"Ms. Smith",room:"Room 102",type:"class",duration:40},{time:"09:40",subject:"Break",teacher:"",room:"",type:"break",duration:20},{time:"10:00",subject:"Physics",teacher:"Dr. Brown",room:"Lab 1",type:"class",duration:40},{time:"10:50",subject:"Chemistry",teacher:"Prof. Wilson",room:"Lab 2",type:"class",duration:40},{time:"11:40",subject:"Lunch Break",teacher:"",room:"",type:"break",duration:40},{time:"12:20",subject:"Biology",teacher:"Dr. Davis",room:"Lab 3",type:"class",duration:40},{time:"13:10",subject:"History",teacher:"Mr. Taylor",room:"Room 103",type:"class",duration:40},{time:"14:00",subject:"Geography",teacher:"Ms. Anderson",room:"Room 104",type:"class",duration:40}],f=[{time:"15:00",subject:"Mathematics Review",teacher:"AI Tutor",room:"Online",type:"study",duration:60},{time:"16:00",subject:"Physics Practice",teacher:"AI Tutor",room:"Online",type:"study",duration:45},{time:"17:00",subject:"English Reading",teacher:"AI Tutor",room:"Online",type:"study",duration:30}],R=[...B,...f];u(R);const D=setInterval(()=>{b(new Date)},6e4);return()=>clearInterval(D)},[]);const N=()=>{const B=new Date().toTimeString().slice(0,5);for(let f=0;f<v.length;f++){const R=v[f],D=R.time,L=g(D,R.duration);if(B>=D&&B<=L)return{...R,index:f}}return null},g=(z,B)=>{const[f,R]=z.split(":").map(Number),D=f*60+R+B,L=Math.floor(D/60),j=D%60;return`${L.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`},c=()=>{const B=new Date().toTimeString().slice(0,5);for(let f=0;f<v.length;f++){const R=v[f];if(R.time>B)return{...R,index:f}}return null},r=N(),p=c(),k=[{id:1,name:"Mr. Johnson",subject:"Mathematics",avatar:"MJ",lastRated:null},{id:2,name:"Ms. Smith",subject:"English",avatar:"MS",lastRated:"2024-01-10"},{id:3,name:"Dr. Brown",subject:"Physics",avatar:"DB",lastRated:null},{id:4,name:"Prof. Wilson",subject:"Chemistry",avatar:"PW",lastRated:"2024-01-08"},{id:5,name:"Dr. Davis",subject:"Biology",avatar:"DD",lastRated:null},{id:6,name:"Mr. Taylor",subject:"History",avatar:"MT",lastRated:"2024-01-05"},{id:7,name:"Ms. Anderson",subject:"Geography",avatar:"MA",lastRated:null}],m=[{key:"clarity",label:"Clarity and Explanation",description:"How clearly does the teacher explain concepts?"},{key:"organization",label:"Organization and Preparation",description:"How well-prepared and organized are the lessons?"},{key:"participation",label:"Participation and Engagement",description:"How well does the teacher encourage student participation?"},{key:"fairness",label:"Fairness and Respect",description:"How fair and respectful is the teacher?"},{key:"support",label:"Support and Availability",description:"How supportive and available is the teacher for help?"}],C=z=>{d(z),w(!0),n({clarity:0,organization:0,participation:0,fairness:0,support:0}),S("")},J=()=>{alert(`✅ Rating submitted for ${$.name}! Thank you for your feedback.`),w(!1),d(null)},_=({rating:z,onRatingChange:B,disabled:f=!1})=>e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(R=>e.jsx("button",{onClick:()=>!f&&B(R),disabled:f,className:`w-6 h-6 ${R<=z?"text-yellow-400":"text-gray-300"} ${f?"cursor-default":"cursor-pointer hover:text-yellow-300"}`,children:e.jsx(Ie,{className:"w-full h-full fill-current"})},R))});return e.jsxs("div",{className:"space-y-6",children:[e.jsx(bt,{userRole:"student",setActiveTab:A,darkMode:s}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ne,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Today's Schedule"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-blue-700",children:o.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("div",{className:"text-lg font-bold text-blue-600",children:o.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),r&&e.jsx("div",{className:"bg-blue-600 text-white rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-lg",children:["Currently: ",r.subject]}),e.jsx("p",{className:"text-blue-100",children:r.type==="class"?`With ${r.teacher}`:r.type==="study"?"AI Study Session":"Break Time"}),r.room&&e.jsxs("p",{className:"text-blue-100 text-sm",children:[e.jsx(as,{className:"w-4 h-4 inline mr-1"}),r.room]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-blue-100",children:"Until"}),e.jsx("div",{className:"text-lg font-bold",children:g(r.time,r.duration)})]})]})}),p&&!r&&e.jsx("div",{className:"bg-green-100 border border-green-300 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-green-800",children:["Next: ",p.subject]}),e.jsx("p",{className:"text-green-700",children:p.type==="class"?`With ${p.teacher}`:p.type==="study"?"AI Study Session":"Break Time"}),p.room&&e.jsxs("p",{className:"text-green-700 text-sm",children:[e.jsx(as,{className:"w-4 h-4 inline mr-1"}),p.room]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-green-700",children:"Starts at"}),e.jsx("div",{className:"text-lg font-bold text-green-800",children:p.time})]})]})}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:v.map((z,B)=>{const f=r&&r.index===B,R=new Date().toTimeString().slice(0,5)>g(z.time,z.duration);return e.jsxs("div",{className:`p-3 rounded-lg border transition-colors ${f?"bg-blue-100 border-blue-300":R?"bg-gray-100 border-gray-200 opacity-60":"bg-white border-gray-200 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${z.type==="class"?"bg-blue-500":z.type==="study"?"bg-purple-500":"bg-gray-400"}`}),e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium ${f?"text-blue-800":R?"text-gray-500":"text-gray-800"}`,children:z.subject}),e.jsx("p",{className:`text-sm ${f?"text-blue-600":R?"text-gray-400":"text-gray-600"}`,children:z.type==="class"?z.teacher:z.type==="study"?"AI Study Session":"Break"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-sm font-medium ${f?"text-blue-800":R?"text-gray-500":"text-gray-700"}`,children:z.time}),e.jsxs("div",{className:`text-xs ${f?"text-blue-600":R?"text-gray-400":"text-gray-500"}`,children:[z.duration," min"]})]})]}),z.room&&z.type!=="break"&&e.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[e.jsx(as,{className:"w-3 h-3 mr-1"}),z.room]})]},B)})}),e.jsxs("div",{className:"mt-4 flex space-x-3",children:[e.jsxs("button",{onClick:()=>A&&A("timetable"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:"View Full Timetable"})]}),e.jsxs("button",{onClick:()=>A&&A("study-timetable"),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[e.jsx(be,{className:"w-4 h-4"}),e.jsx("span",{children:"AI Study Schedule"})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:()=>A&&A("online-class"),className:"px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl flex items-center space-x-2",children:[e.jsx(ke,{className:"w-5 h-5"}),e.jsx("span",{children:"Join Online Class"})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(oe,{className:"w-6 h-6 text-yellow-600"}),e.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"Fee Balance Reminder"})]}),e.jsx("p",{className:"text-yellow-800 mb-4",children:"You have an outstanding balance of UGX 0. Next payment is due on [Due Date]."}),e.jsx("div",{className:"flex space-x-3",children:e.jsxs("button",{onClick:()=>A&&A("fee-balance"),className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors flex items-center space-x-2",children:[e.jsx(ze,{className:"w-4 h-4"}),e.jsx("span",{children:"View Fee Balance"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(he,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Attendance Progress"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Keep up the great attendance! You're on track for excellent performance."})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"85%"}),e.jsx("div",{className:"text-sm text-green-700",children:"This Month"}),e.jsx("div",{className:"w-32 bg-green-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"85%"}})})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Present Days"})]}),e.jsx("div",{className:"text-lg font-bold text-green-600 mt-1",children:"17/20"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Target"})]}),e.jsx("div",{className:"text-lg font-bold text-purple-600 mt-1",children:"90%"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Streak"})]}),e.jsx("div",{className:"text-lg font-bold text-orange-600 mt-1",children:"5 days"})]})]}),e.jsx("div",{className:"mt-4 flex space-x-3",children:e.jsxs("button",{onClick:()=>A&&A("attendance"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{children:"View Attendance"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(ks,{title:"GPA",value:"0.0",icon:Se,color:"blue"}),e.jsx(ks,{title:"Attendance",value:"0%",icon:ie,trend:"0%",color:"green"}),e.jsx(ks,{title:"Fee Balance",value:"UGX 0",icon:ze,color:"purple"})]}),e.jsx("div",{className:"w-full",children:e.jsx(_t,{aiInsights:y})}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"AI Tutor Assistant"}),e.jsx("p",{className:"text-purple-100",children:"Get personalized help with your studies"})]})]}),e.jsxs("button",{onClick:()=>a(!0),className:"bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-purple-50 transition-colors flex items-center space-x-2",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Try AI Tutor"})]})]})})}),e.jsx("div",{className:"w-full",children:e.jsx(ca,{userRole:"student",currentUser:i,darkMode:s,setActiveTab:A})}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(re,{className:"w-6 h-6 text-purple-600"}),e.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Assignment Quick Actions"})]}),e.jsx("button",{onClick:()=>A&&A("exam-schedule"),className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:"View All →"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center border border-purple-100",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"3"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center border border-purple-100",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:"1"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overdue"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center border border-purple-100",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"2"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Submitted"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center border border-purple-100",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:"1"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Graded"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>A&&A("exam-schedule"),className:"bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-3",children:[e.jsx(re,{className:"w-5 h-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"View Assignments"}),e.jsx("div",{className:"text-sm text-blue-100",children:"See all your assignments"})]})]}),e.jsxs("button",{onClick:()=>A&&A("submit-assignment"),className:"bg-green-600 text-white p-4 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-3",children:[e.jsx(is,{className:"w-5 h-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Submit Assignment"}),e.jsx("div",{className:"text-sm text-green-100",children:"Upload your work"})]})]}),e.jsxs("button",{onClick:()=>A&&A("exam-schedule"),className:"bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-3",children:[e.jsx(ne,{className:"w-5 h-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Due Dates"}),e.jsx("div",{className:"text-sm text-purple-100",children:"Check deadlines"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-md font-medium text-purple-900 mb-3",children:"Recent Assignments"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-purple-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Physics Lab Report"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Due: Jan 12, 2024"})]})]}),e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:"Overdue"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-purple-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Mathematics Problem Set"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Due: Jan 15, 2024"})]})]}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:"Pending"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-purple-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:"English Essay"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Due: Jan 18, 2024"})]})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Pending"})]})]})]})]})}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ie,{className:"w-6 h-6 text-orange-600"}),e.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Rate Your Teachers"})]}),e.jsx("div",{className:"text-sm text-orange-700",children:"Help improve teaching quality"})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-orange-800 text-sm mb-4",children:"Your feedback helps teachers improve and helps parents make informed decisions. All ratings are submitted to admin for analysis and remain confidential."})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(z=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-100 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-orange-600 font-semibold text-sm",children:z.avatar})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:z.name}),e.jsx("p",{className:"text-sm text-gray-600",children:z.subject})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-gray-500",children:z.lastRated?`Last rated: ${z.lastRated}`:"Not rated yet"}),e.jsxs("button",{onClick:()=>C(z),className:"px-3 py-1 bg-orange-600 text-white text-sm rounded-lg hover:bg-orange-700 transition-colors flex items-center space-x-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),e.jsx("span",{children:"Rate"})]})]})]},z.id))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-orange-700",children:["💡 ",e.jsx("strong",{children:"Tip:"})," Rate teachers based on clarity, organization, engagement, fairness, and support"]})})]})}),T&&$&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 max-w-2xl w-full max-h-96 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:["Rate ",$.name]}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:"space-y-6",children:[m.map(z=>e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:z.label}),e.jsx("p",{className:"text-sm text-gray-600",children:z.description})]}),e.jsx(_,{rating:l[z.key],onRatingChange:B=>n(f=>({...f,[z.key]:B}))})]},z.key)),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Comments (Optional)"}),e.jsx("textarea",{value:h,onChange:z=>S(z.target.value),placeholder:"Share any additional feedback about this teacher...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:J,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors flex items-center space-x-2",children:[e.jsx(Es,{className:"w-4 h-4"}),e.jsx("span",{children:"Submit Rating"})]})]})]})]})}),e.jsx(It,{userRole:"student",isOpen:x,onClose:()=>a(!1)})]})},Ua=({aiInsights:y,setActiveTab:A,darkMode:s=!1,currentUser:i})=>{const[v,u]=t.useState(0),[o,b]=t.useState([]),[T,w]=t.useState(!1),[$,d]=t.useState([{id:1,name:"Mr. Johnson",subject:"Mathematics",avatar:"MJ",overallRating:4.2,totalRatings:45,criteria:{clarity:4.3,organization:4.1,participation:4,fairness:4.4,support:4.2},recentComments:["Very clear explanations","Well organized lessons","Always available for help"]},{id:2,name:"Ms. Smith",subject:"English",avatar:"MS",overallRating:4.5,totalRatings:38,criteria:{clarity:4.6,organization:4.4,participation:4.7,fairness:4.3,support:4.5},recentComments:["Excellent at encouraging participation","Very supportive teacher","Makes English fun and engaging"]},{id:3,name:"Dr. Brown",subject:"Physics",avatar:"DB",overallRating:3.8,totalRatings:32,criteria:{clarity:3.9,organization:3.7,participation:3.6,fairness:4,support:3.8},recentComments:["Good explanations but could be clearer","Well prepared lessons","Fair grading system"]},{id:4,name:"Prof. Wilson",subject:"Chemistry",avatar:"PW",overallRating:4,totalRatings:28,criteria:{clarity:4.1,organization:4,participation:3.9,fairness:4,support:4},recentComments:["Clear explanations","Good lab demonstrations","Helpful during office hours"]},{id:5,name:"Dr. Davis",subject:"Biology",avatar:"DD",overallRating:4.3,totalRatings:41,criteria:{clarity:4.4,organization:4.2,participation:4.3,fairness:4.3,support:4.2},recentComments:["Excellent teacher","Very engaging lessons","Always willing to help"]},{id:6,name:"Mr. Taylor",subject:"History",avatar:"MT",overallRating:4.1,totalRatings:35,criteria:{clarity:4.2,organization:4,participation:4.1,fairness:4.1,support:4},recentComments:["Makes history interesting","Good storytelling","Fair and respectful"]},{id:7,name:"Ms. Anderson",subject:"Geography",avatar:"MA",overallRating:4.4,totalRatings:29,criteria:{clarity:4.5,organization:4.3,participation:4.4,fairness:4.4,support:4.3},recentComments:["Very clear explanations","Great use of maps and visuals","Encourages questions"]}]),x=s?"bg-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50",a=s?"bg-gray-800 border-gray-700":"bg-white border-gray-100",l=s?"text-white":"text-gray-800",n=s?"text-gray-300":"text-gray-600",h=s?"text-gray-400":"text-gray-500";t.useEffect(()=>{b([])},[]);const S=o[v]||{name:"No Child Selected",currentGPA:0,attendance:0,age:0};return e.jsxs("div",{className:`min-h-screen ${x}`,children:[e.jsxs("div",{className:"max-w-5xl mx-auto px-2 sm:px-3 lg:px-4 py-3 space-y-3 sm:space-y-4",children:[e.jsx("div",{className:`rounded-lg shadow-sm p-2 sm:p-3 text-white ${s?"bg-gradient-to-r from-gray-700 to-gray-800 border border-gray-600":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-base sm:text-lg font-bold truncate",children:"Parent Dashboard"}),e.jsx("p",{className:"text-blue-100 text-xs truncate",children:"Track your children's progress"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 rounded px-2 py-1",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs font-bold",children:o.length}),e.jsx("div",{className:"text-xs text-blue-100",children:"Kids"})]}),e.jsx("div",{className:"w-px h-4 bg-white/40"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs font-bold",children:new Date().getDate()}),e.jsx("div",{className:"text-xs text-blue-100",children:"Today"})]})]})]})}),e.jsx(bt,{userRole:"parent",setActiveTab:A,darkMode:s}),e.jsx("div",{className:`rounded-lg shadow-sm border p-4 ${a}`,children:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold",children:"AI Tutor Assistant"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Get help with your child's studies"})]})]}),e.jsxs("button",{onClick:()=>w(!0),className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-semibold hover:bg-purple-50 transition-colors flex items-center space-x-2",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Try AI Tutor"})]})]})})}),e.jsxs("div",{className:`rounded-lg shadow-sm border p-2 sm:p-3 ${a}`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(me,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("h3",{className:`text-sm sm:text-base font-bold ${l}`,children:"My Children"})]}),o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(es,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:`${n}`,children:"No children registered"}),e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"}`,children:"Contact the school to add your children"})]}):e.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-1",children:o.map((N,g)=>e.jsx("button",{onClick:()=>u(g),className:`flex-shrink-0 rounded-lg border-2 transition-all p-2 min-w-[140px] ${v===g?s?"border-blue-400 bg-blue-900/30 shadow-sm":"border-blue-500 bg-blue-50 shadow-sm":s?"border-gray-600 hover:border-blue-400 bg-gray-700":"border-gray-200 hover:border-blue-300 bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(es,{className:"w-4 h-4 text-gray-400"})}),v===g&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 rounded-full p-0.5",children:e.jsx(se,{className:"w-2 h-2 text-white"})})]}),e.jsxs("div",{className:"text-left flex-1 min-w-0",children:[e.jsx("p",{className:`font-bold text-xs truncate ${s?"text-white":"text-gray-900"}`,children:N.name}),e.jsx("p",{className:"text-blue-600 text-xs truncate",children:N.class}),e.jsxs("div",{className:"flex items-center mt-0.5 space-x-1",children:[e.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:N.currentGPA}),e.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[N.attendance,"%"]})]})]})]})},N.id))})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-1.5 sm:gap-2",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded p-2 text-white text-center",children:[e.jsx(Se,{className:"w-3 h-3 mx-auto mb-1 text-white"}),e.jsx("div",{className:"text-sm sm:text-base font-bold",children:S.currentGPA||"0.0"}),e.jsx("div",{className:"text-xs text-blue-100",children:"GPA"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded p-2 text-white text-center",children:[e.jsx(ie,{className:"w-3 h-3 mx-auto mb-1 text-white"}),e.jsxs("div",{className:"text-sm sm:text-base font-bold",children:[S.attendance||0,"%"]}),e.jsx("div",{className:"text-xs text-green-100",children:"Attend"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded p-2 text-white text-center cursor-pointer",onClick:()=>A("payments"),children:[e.jsx(vs,{className:"w-3 h-3 mx-auto mb-1 text-white"}),e.jsx("div",{className:"text-sm sm:text-base font-bold",children:"UGX 0"}),e.jsx("div",{className:"text-xs text-white/80",children:"Fee Balance"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded p-2 text-white text-center",children:[e.jsx(es,{className:"w-3 h-3 mx-auto mb-1 text-white"}),e.jsx("div",{className:"text-sm sm:text-base font-bold",children:S.age||0}),e.jsx("div",{className:"text-xs text-purple-100",children:"Age"})]})]}),e.jsxs("div",{className:`rounded-lg shadow-sm border p-3 ${a}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(he,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:`text-base font-semibold ${l}`,children:[S.name,"'s Attendance Progress"]}),e.jsx("p",{className:`text-sm ${n}`,children:"Track attendance performance and encourage regular attendance"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-xl font-bold ${l}`,children:[S.attendance||0,"%"]}),e.jsx("div",{className:`text-sm ${h}`,children:"This Month"}),e.jsx("div",{className:"w-24 bg-green-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${S.attendance||0}%`}})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:`rounded-lg p-2 border ${s?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ne,{className:"w-3 h-3 text-blue-500"}),e.jsx("span",{className:`text-xs font-medium ${n}`,children:"Present"})]}),e.jsx("div",{className:`text-sm font-bold ${l} mt-1`,children:"17/20"})]}),e.jsxs("div",{className:`rounded-lg p-2 border ${s?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ce,{className:"w-3 h-3 text-purple-500"}),e.jsx("span",{className:`text-xs font-medium ${n}`,children:"Target"})]}),e.jsx("div",{className:`text-sm font-bold ${l} mt-1`,children:"90%"})]}),e.jsxs("div",{className:`rounded-lg p-2 border ${s?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(he,{className:"w-3 h-3 text-orange-500"}),e.jsx("span",{className:`text-xs font-medium ${n}`,children:"Streak"})]}),e.jsx("div",{className:`text-sm font-bold ${l} mt-1`,children:"5 days"})]})]}),e.jsx("div",{className:"mt-3 flex space-x-2",children:e.jsxs("button",{onClick:()=>A("child-attendance"),className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-1 text-sm",children:[e.jsx(ie,{className:"w-3 h-3"}),e.jsx("span",{children:"View Details"})]})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm border p-3 ${a}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(Ie,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-base font-semibold ${l}`,children:"Teacher Ratings Analysis"}),e.jsx("p",{className:`text-sm ${n}`,children:"See how teachers are rated by students"})]})]}),e.jsxs("button",{onClick:()=>A("teacher-ratings"),className:"text-orange-600 hover:text-orange-800 text-sm font-medium flex items-center space-x-1",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:"View All"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:`text-sm font-medium ${l} mb-3`,children:"Top Rated Teachers"}),e.jsx("div",{className:"space-y-2",children:$.sort((N,g)=>g.overallRating-N.overallRating).slice(0,3).map((N,g)=>e.jsx("div",{className:`rounded-lg p-3 border ${s?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-orange-600 font-semibold text-sm",children:N.avatar})}),e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium ${l}`,children:N.name}),e.jsx("p",{className:`text-sm ${n}`,children:N.subject})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ie,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:`font-bold ${l}`,children:N.overallRating})]}),e.jsxs("div",{className:`text-xs ${n}`,children:[N.totalRatings," ratings"]})]})]})},N.id))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:`text-sm font-medium ${l} mb-3`,children:"Rating Criteria Overview"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:`rounded-lg p-2 border ${s?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[e.jsx(de,{className:"w-3 h-3 text-blue-500"}),e.jsx("span",{className:`text-xs font-medium ${n}`,children:"Clarity"})]}),e.jsx("div",{className:`text-sm font-bold ${l}`,children:($.reduce((N,g)=>N+g.criteria.clarity,0)/$.length).toFixed(1)})]}),e.jsxs("div",{className:`rounded-lg p-2 border ${s?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[e.jsx(de,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:`text-xs font-medium ${n}`,children:"Organization"})]}),e.jsx("div",{className:`text-sm font-bold ${l}`,children:($.reduce((N,g)=>N+g.criteria.organization,0)/$.length).toFixed(1)})]}),e.jsxs("div",{className:`rounded-lg p-2 border ${s?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[e.jsx(de,{className:"w-3 h-3 text-purple-500"}),e.jsx("span",{className:`text-xs font-medium ${n}`,children:"Engagement"})]}),e.jsx("div",{className:`text-sm font-bold ${l}`,children:($.reduce((N,g)=>N+g.criteria.participation,0)/$.length).toFixed(1)})]}),e.jsxs("div",{className:`rounded-lg p-2 border ${s?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[e.jsx(de,{className:"w-3 h-3 text-orange-500"}),e.jsx("span",{className:`text-xs font-medium ${n}`,children:"Fairness"})]}),e.jsx("div",{className:`text-sm font-bold ${l}`,children:($.reduce((N,g)=>N+g.criteria.fairness,0)/$.length).toFixed(1)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${l} mb-3`,children:"Recent Student Feedback"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:$.flatMap(N=>N.recentComments.map(g=>({teacher:N.name,comment:g}))).slice(0,3).map((N,g)=>e.jsx("div",{className:`rounded-lg p-2 border ${s?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(es,{className:"w-3 h-3 text-blue-600"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("p",{className:`text-sm ${n}`,children:[e.jsxs("span",{className:"font-medium",children:[N.teacher,":"]})," ",N.comment]})})]})},g))})]}),e.jsx("div",{className:"mt-4 flex space-x-2",children:e.jsxs("button",{onClick:()=>A("teacher-ratings"),className:"bg-orange-600 text-white px-3 py-1.5 rounded-lg hover:bg-orange-700 transition-colors flex items-center space-x-1 text-sm",children:[e.jsx(de,{className:"w-3 h-3"}),e.jsx("span",{children:"View Detailed Analysis"})]})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm border p-3 ${a}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ne,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:`text-base font-semibold ${l}`,children:[S.name,"'s Daily Schedule"]}),e.jsx("p",{className:`text-sm ${n}`,children:"Today's classes and activities"})]})]}),e.jsxs("button",{onClick:()=>A("timetable"),className:"bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-1 text-sm",children:[e.jsx(je,{className:"w-3 h-3"}),e.jsx("span",{children:"View Full Timetable"})]})]}),e.jsx("div",{className:"space-y-2",children:[{time:"08:00",subject:"Mathematics",teacher:"Mr. Johnson",room:"Room 101",type:"class"},{time:"09:00",subject:"English",teacher:"Ms. Smith",room:"Room 102",type:"class"},{time:"10:00",subject:"Break",teacher:"",room:"",type:"break"},{time:"10:15",subject:"Science",teacher:"Dr. Brown",room:"Lab 1",type:"class"},{time:"11:15",subject:"History",teacher:"Mr. Taylor",room:"Room 103",type:"class"},{time:"12:15",subject:"Lunch",teacher:"",room:"",type:"break"},{time:"13:15",subject:"Geography",teacher:"Ms. Anderson",room:"Room 104",type:"class"},{time:"14:15",subject:"Physical Education",teacher:"Coach Wilson",room:"Sports Hall",type:"activity"}].map((N,g)=>e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${N.type==="break"?s?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200":s?"bg-gray-800 border-gray-600":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${N.type==="break"?"bg-yellow-100":"bg-blue-100"}`,children:e.jsx(ie,{className:`w-4 h-4 ${N.type==="break"?"text-yellow-600":"text-blue-600"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${l}`,children:N.time}),e.jsx("p",{className:`text-sm ${n}`,children:N.subject}),N.teacher&&e.jsxs("p",{className:`text-xs ${s?"text-gray-400":"text-gray-500"}`,children:[N.teacher," • ",N.room]})]})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.type==="break"?"bg-yellow-100 text-yellow-800":N.type==="activity"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:N.type==="break"?"Break":N.type==="activity"?"Activity":"Class"})]},g))})]}),e.jsx(Ft,{userRole:"parent",darkMode:s}),e.jsx(ca,{userRole:"parent",currentUser:i,darkMode:s,setActiveTab:A}),o.length===0&&e.jsxs("div",{className:`rounded-xl shadow-lg border p-8 text-center ${a}`,children:[e.jsx(oe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:`text-xl font-bold mb-2 ${l}`,children:"No Data Available"}),e.jsx("p",{className:`${n} mb-6`,children:"Your children's data will appear here once they are registered in the system."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>A("children"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Manage Children"}),e.jsx("button",{onClick:()=>A("messaging"),className:`px-6 py-3 rounded-lg transition-colors font-medium ${s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Contact School"})]})]})]}),e.jsx(It,{userRole:"parent",isOpen:T,onClose:()=>w(!1)})]})},za={},Oa=import.meta&&za?"http://localhost:5000/api":"/api";class qa{constructor(){this.baseURL=Oa}async request(A,s={}){const i=`${this.baseURL}${A}`,v={headers:{"Content-Type":"application/json",...s.headers},...s};try{const u=await fetch(i,v),o=await u.json();if(!u.ok)throw new Error(o.message||`HTTP error! status: ${u.status}`);return o}catch(u){throw console.error(`API Error (${A}):`,u),u}}async healthCheck(){return this.request("/health")}async testDatabase(){return this.request("/test-db")}async getUsers(){return this.request("/users")}async getStudents(){return this.request("/students")}async getAttendance(){return this.request("/attendance")}async getPayments(){return this.request("/payments")}async getProfile(A){return this.request(`/profile/${A}`)}async addAttendance(A){return this.request("/attendance",{method:"POST",body:JSON.stringify(A)})}async addPayment(A){return this.request("/payments",{method:"POST",body:JSON.stringify(A)})}async getFeeBalance(A){return this.request(`/fee-balance/${A}`)}async getFeeStructure(){return this.request("/fee-structure")}async getPaymentPlans(A){return this.request(`/payment-plans/${A}`)}async createPaymentPlan(A){return this.request("/payment-plans",{method:"POST",body:JSON.stringify(A)})}async updatePaymentPlan(A,s){return this.request(`/payment-plans/${A}`,{method:"PUT",body:JSON.stringify(s)})}async deletePaymentPlan(A){return this.request(`/payment-plans/${A}`,{method:"DELETE"})}async get(A){return this.request(A)}async post(A,s){return this.request(A,{method:"POST",body:JSON.stringify(s)})}async put(A,s){return this.request(A,{method:"PUT",body:JSON.stringify(s)})}async delete(A){return this.request(A,{method:"DELETE"})}}const Ns=new qa,{healthCheck:Nr,testDatabase:vr,getUsers:wr,getStudents:Sr,getAttendance:$r,getPayments:kr,getFeeBalance:Cr,getFeeStructure:Ar,getPaymentPlans:Pr,createPaymentPlan:Tr,updatePaymentPlan:Dr,deletePaymentPlan:Er,get:Rr,post:_r,put:Fr,delete:Ir}=Ns,Mt=({userRole:y,currentUser:A})=>{var o;const[s,i]=t.useState(null),[v,u]=t.useState(!0);return t.useEffect(()=>{(async()=>{try{u(!0);const T=await Ns.getAttendance();if(T.success&&T.data&&T.data.length>0){const w=T.data,$=w.filter(l=>{const n=new Date(l.date).toDateString(),h=new Date().toDateString();return n===h}),d=$.filter(l=>l.status==="present").length,x=$.filter(l=>l.status==="absent").length,a=d+x||w.length;i({todayPresent:d,todayAbsent:x,totalStudents:a,attendanceRate:a>0?(d/a*100).toFixed(1):0,recentScans:w.slice(0,10).map(l=>({id:l.id,name:l.student_name,time:new Date(l.check_in_time||l.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),method:l.method||"Biometric",status:l.status}))})}else i({todayPresent:0,todayAbsent:0,totalStudents:0,attendanceRate:0,recentScans:[]})}catch(T){console.error("Failed to connect to Python backend:",T),i({todayPresent:0,todayAbsent:0,totalStudents:0,attendanceRate:0,recentScans:[]})}finally{u(!1)}})()},[]),v?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Attendance Management"}),e.jsx("p",{className:"text-gray-600",children:"Track and manage student attendance with real-time data"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Present Today"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:(s==null?void 0:s.todayPresent)||0})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Absent Today"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:(s==null?void 0:s.todayAbsent)||0})]}),e.jsx("div",{className:"bg-red-100 rounded-full p-3",children:e.jsx(oe,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.totalStudents)||0})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[(s==null?void 0:s.attendanceRate)||0,"%"]})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(ie,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:(o=s==null?void 0:s.recentScans)==null?void 0:o.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${b.status==="present"?"bg-green-500":b.status==="late"?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:b.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[b.method," • ",b.time]})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b.status==="present"?"bg-green-100 text-green-800":b.status==="late"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:b.status})]},b.id))})]})]})},Ha=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("overview"),[u,o]=t.useState([]),[b,T]=t.useState(!1),[w,$]=t.useState(!1),[d,x]=t.useState(null),[a,l]=t.useState(!0),[n,h]=t.useState(null),[S,N]=t.useState({studentClass:"",term:"1",boarding:!1,meals:!0,books:!0,activities:!0,transport:!1,uniform:!1,customFees:[]}),[g,c]=t.useState([]),[r,p]=t.useState(null),[k,m]=t.useState({year:new Date().getFullYear(),term:"all",status:"all"}),[C,J]=t.useState({name:"",totalAmount:"",installmentCount:3,startDate:"",frequency:"monthly",description:"",isActive:!0}),_=s?"bg-gray-900":"bg-gray-50",z=s?"bg-gray-800 border-gray-700":"bg-white border-gray-200",B=s?"text-white":"text-gray-900",f=s?"text-gray-300":"text-gray-600",R=s?"text-gray-400":"text-gray-500",D=s?"border-gray-700":"border-gray-200",L=s?"hover:bg-gray-700":"hover:bg-gray-50";t.useEffect(()=>{j(),O(),Z()},[]);const j=async()=>{try{l(!0);const Y=await Ns.getPaymentPlans(A==null?void 0:A.id);Y.success?o(Y.plans||[]):o([{id:1,name:"Term 1 Payment Plan",totalAmount:45e4,paidAmount:15e4,remainingAmount:3e5,installmentCount:3,completedInstallments:1,startDate:"2024-01-15",frequency:"monthly",status:"active",installments:[{id:1,amount:15e4,dueDate:"2024-01-15",status:"paid",paidDate:"2024-01-14"},{id:2,amount:15e4,dueDate:"2024-02-15",status:"pending",paidDate:null},{id:3,amount:15e4,dueDate:"2024-03-15",status:"pending",paidDate:null}]},{id:2,name:"Annual Fee Plan",totalAmount:12e5,paidAmount:3e5,remainingAmount:9e5,installmentCount:4,completedInstallments:1,startDate:"2024-01-01",frequency:"quarterly",status:"active",installments:[{id:1,amount:3e5,dueDate:"2024-01-01",status:"paid",paidDate:"2023-12-28"},{id:2,amount:3e5,dueDate:"2024-04-01",status:"pending",paidDate:null},{id:3,amount:3e5,dueDate:"2024-07-01",status:"pending",paidDate:null},{id:4,amount:3e5,dueDate:"2024-10-01",status:"pending",paidDate:null}]}])}catch(Y){console.error("Error fetching payment plans:",Y),o([])}finally{l(!1)}},O=async()=>{try{const Y=await Ns.getFeeStructure();Y.success?h(Y.feeStructure):h({tuition:3e5,boarding:2e5,meals:1e5,books:5e4,activities:3e4,total:68e4})}catch(Y){console.error("Error fetching fee structure:",Y)}},M=Y=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(Y),P=(Y,V)=>Math.ceil(Y/V),Q=Y=>{switch(Y){case"paid":return"text-green-600 bg-green-50 border-green-200";case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"overdue":return"text-red-600 bg-red-50 border-red-200";case"active":return"text-blue-600 bg-blue-50 border-blue-200";case"completed":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},q=async()=>{if(!C.name||!C.totalAmount||!C.startDate){alert("Please fill in all required fields");return}try{const Y=P(C.totalAmount,C.installmentCount),V=[];for(let ae=0;ae<C.installmentCount;ae++){const Pe=new Date(C.startDate);C.frequency==="monthly"?Pe.setMonth(Pe.getMonth()+ae):C.frequency==="quarterly"?Pe.setMonth(Pe.getMonth()+ae*3):C.frequency==="termly"&&Pe.setMonth(Pe.getMonth()+ae*4),V.push({id:ae+1,amount:Y,dueDate:Pe.toISOString().split("T")[0],status:"pending",paidDate:null})}const E={...C,totalAmount:parseFloat(C.totalAmount),paidAmount:0,remainingAmount:parseFloat(C.totalAmount),completedInstallments:0,status:"active",installments:V},K=await Ns.createPaymentPlan(E);K.success?(o(ae=>[...ae,{...E,id:K.planId}]),v("overview"),te(),alert("Payment plan created successfully!")):alert("Failed to create payment plan")}catch(Y){console.error("Error creating payment plan:",Y),alert("Error creating payment plan")}},te=()=>{J({name:"",totalAmount:"",installmentCount:3,startDate:"",frequency:"monthly",description:"",isActive:!0})},Z=async()=>{try{c([{id:1,studentName:"John Doe",studentId:"STU001",term:"Term 1",year:2024,totalAmount:68e4,paidAmount:45e4,balance:23e4,status:"partial",dueDate:"2024-03-15",generatedDate:"2024-01-15",payments:[{date:"2024-01-15",amount:2e5,method:"Bank Transfer",reference:"TXN001"},{date:"2024-02-15",amount:25e4,method:"Mobile Money",reference:"TXN002"}]},{id:2,studentName:"John Doe",studentId:"STU001",term:"Term 2",year:2024,totalAmount:68e4,paidAmount:68e4,balance:0,status:"paid",dueDate:"2024-06-15",generatedDate:"2024-04-15",payments:[{date:"2024-04-15",amount:34e4,method:"Bank Transfer",reference:"TXN003"},{date:"2024-05-15",amount:34e4,method:"Mobile Money",reference:"TXN004"}]}])}catch(Y){console.error("Error fetching payment statements:",Y),c([])}},I=()=>{if(!n)return 0;let Y=0;return Y+={P1:25e4,P2:26e4,P3:27e4,P4:28e4,P5:29e4,P6:3e5,S1:32e4,S2:33e4,S3:34e4,S4:35e4,S5:36e4,S6:38e4}[S.studentClass]||3e5,S.boarding&&(Y+=2e5),S.meals&&(Y+=1e5),S.books&&(Y+=5e4),S.activities&&(Y+=3e4),S.transport&&(Y+=8e4),S.uniform&&(Y+=12e4),S.customFees.forEach(E=>{Y+=E.amount||0}),Y},F=Y=>{const V=`
PAYMENT STATEMENT
=================

Student: ${Y.studentName}
Student ID: ${Y.studentId}
Term: ${Y.term} ${Y.year}
Generated: ${Y.generatedDate}
Due Date: ${Y.dueDate}

FEE BREAKDOWN:
Total Amount: ${M(Y.totalAmount)}
Paid Amount: ${M(Y.paidAmount)}
Balance: ${M(Y.balance)}
Status: ${Y.status.toUpperCase()}

PAYMENT HISTORY:
${Y.payments.map(Pe=>`${Pe.date} - ${M(Pe.amount)} (${Pe.method}) - Ref: ${Pe.reference}`).join(`
`)}

Generated by Smart School Management System
    `.trim(),E=new Blob([V],{type:"text/plain"}),K=URL.createObjectURL(E),ae=document.createElement("a");ae.href=K,ae.download=`statement_${Y.studentId}_${Y.term}_${Y.year}.txt`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(K)},G=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:`${z} rounded-xl shadow-lg p-6 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${B}`,children:"Active Plans"}),e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ne,{className:"w-6 h-6 text-blue-600"})})]}),e.jsx("p",{className:`text-3xl font-bold ${B}`,children:u.filter(Y=>Y.status==="active").length}),e.jsx("p",{className:`text-sm ${R}`,children:"Payment plans in progress"})]}),e.jsxs("div",{className:`${z} rounded-xl shadow-lg p-6 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${B}`,children:"Total Outstanding"}),e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-red-600"})})]}),e.jsx("p",{className:`text-3xl font-bold ${B}`,children:M(u.reduce((Y,V)=>Y+V.remainingAmount,0))}),e.jsx("p",{className:`text-sm ${R}`,children:"Remaining to be paid"})]}),e.jsxs("div",{className:`${z} rounded-xl shadow-lg p-6 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${B}`,children:"Next Payment"}),e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-green-600"})})]}),e.jsx("p",{className:`text-3xl font-bold ${B}`,children:(()=>{const Y=u.flatMap(V=>V.installments).filter(V=>V.status==="pending").sort((V,E)=>new Date(V.dueDate)-new Date(E.dueDate))[0];return Y?M(Y.amount):"N/A"})()}),e.jsx("p",{className:`text-sm ${R}`,children:"Due next"})]})]}),e.jsxs("div",{className:`${z} rounded-xl shadow-lg border`,children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`text-xl font-semibold ${B}`,children:"Your Payment Plans"}),e.jsxs("button",{onClick:()=>v("create"),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:"Create Plan"})]})]})}),e.jsx("div",{className:"p-6",children:u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ne,{className:`w-16 h-16 mx-auto mb-4 ${R}`}),e.jsx("h3",{className:`text-lg font-medium ${B} mb-2`,children:"No Payment Plans"}),e.jsx("p",{className:`${f} mb-4`,children:"Create a payment plan to manage your school fees in installments"}),e.jsx("button",{onClick:()=>v("create"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Plan"})]}):e.jsx("div",{className:"space-y-4",children:u.map(Y=>e.jsxs("div",{className:`p-4 rounded-lg border ${D} ${L} transition-colors`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold ${B}`,children:Y.name}),e.jsxs("p",{className:`text-sm ${f}`,children:[Y.completedInstallments,"/",Y.installmentCount," installments completed"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Q(Y.status)}`,children:Y.status}),e.jsx("button",{onClick:()=>{x(Y),$(!0)},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ms,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${R}`,children:"Total Amount"}),e.jsx("p",{className:`font-semibold ${B}`,children:M(Y.totalAmount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${R}`,children:"Paid Amount"}),e.jsx("p",{className:"font-semibold text-green-600",children:M(Y.paidAmount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${R}`,children:"Remaining"}),e.jsx("p",{className:"font-semibold text-red-600",children:M(Y.remainingAmount)})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Y.paidAmount/Y.totalAmount*100}%`}})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:`text-sm ${R}`,children:[Y.frequency," installments • Started ",new Date(Y.startDate).toLocaleDateString()]}),e.jsx("button",{onClick:()=>v("details"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Details →"})]})]},Y.id))})})]})]}),le=()=>e.jsxs("div",{className:`${z} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h3",{className:`text-xl font-semibold ${B} mb-6`,children:"Create Payment Plan"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${f} mb-2`,children:"Plan Name *"}),e.jsx("input",{type:"text",value:C.name,onChange:Y=>J(V=>({...V,name:Y.target.value})),placeholder:"e.g., Term 1 Payment Plan",className:`w-full px-3 py-2 border ${D} rounded-lg ${z} ${B} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${f} mb-2`,children:"Total Amount (UGX) *"}),e.jsx("input",{type:"number",value:C.totalAmount,onChange:Y=>J(V=>({...V,totalAmount:Y.target.value})),placeholder:"450000",className:`w-full px-3 py-2 border ${D} rounded-lg ${z} ${B} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${f} mb-2`,children:"Number of Installments"}),e.jsxs("select",{value:C.installmentCount,onChange:Y=>J(V=>({...V,installmentCount:parseInt(Y.target.value)})),className:`w-full px-3 py-2 border ${D} rounded-lg ${z} ${B} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:2,children:"2 installments"}),e.jsx("option",{value:3,children:"3 installments"}),e.jsx("option",{value:4,children:"4 installments"}),e.jsx("option",{value:6,children:"6 installments"}),e.jsx("option",{value:12,children:"12 installments"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${f} mb-2`,children:"Payment Frequency"}),e.jsxs("select",{value:C.frequency,onChange:Y=>J(V=>({...V,frequency:Y.target.value})),className:`w-full px-3 py-2 border ${D} rounded-lg ${z} ${B} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"termly",children:"Termly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${f} mb-2`,children:"Start Date *"}),e.jsx("input",{type:"date",value:C.startDate,onChange:Y=>J(V=>({...V,startDate:Y.target.value})),className:`w-full px-3 py-2 border ${D} rounded-lg ${z} ${B} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${f} mb-2`,children:"Description (Optional)"}),e.jsx("textarea",{value:C.description,onChange:Y=>J(V=>({...V,description:Y.target.value})),placeholder:"Additional notes about this payment plan...",rows:3,className:`w-full px-3 py-2 border ${D} rounded-lg ${z} ${B} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),C.totalAmount&&C.installmentCount&&e.jsxs("div",{className:`p-4 rounded-lg border ${D} bg-blue-50 dark:bg-blue-900/20`,children:[e.jsx("h4",{className:`font-semibold ${B} mb-2`,children:"Payment Preview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${R}`,children:"Total Amount"}),e.jsx("p",{className:`font-semibold ${B}`,children:M(C.totalAmount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${R}`,children:"Installment Amount"}),e.jsx("p",{className:`font-semibold ${B}`,children:M(P(C.totalAmount,C.installmentCount))})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${R}`,children:"Frequency"}),e.jsx("p",{className:`font-semibold ${B}`,children:C.frequency})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>v("overview"),className:`px-4 py-2 border ${D} ${f} rounded-lg ${L} transition-colors`,children:"Cancel"}),e.jsx("button",{onClick:q,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Plan"})]})]})]}),H=()=>e.jsxs("div",{className:`${z} rounded-xl shadow-lg p-6 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-xl font-semibold ${B}`,children:"Fee Calculator"}),e.jsx(Cs,{className:"w-6 h-6 text-blue-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${B} mb-2`,children:"Student Class"}),e.jsxs("select",{value:S.studentClass,onChange:Y=>N(V=>({...V,studentClass:Y.target.value})),className:`w-full px-3 py-2 border ${D} rounded-lg ${z} ${B} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"",children:"Select Class"}),e.jsx("option",{value:"P1",children:"Primary 1"}),e.jsx("option",{value:"P2",children:"Primary 2"}),e.jsx("option",{value:"P3",children:"Primary 3"}),e.jsx("option",{value:"P4",children:"Primary 4"}),e.jsx("option",{value:"P5",children:"Primary 5"}),e.jsx("option",{value:"P6",children:"Primary 6"}),e.jsx("option",{value:"S1",children:"Secondary 1"}),e.jsx("option",{value:"S2",children:"Secondary 2"}),e.jsx("option",{value:"S3",children:"Secondary 3"}),e.jsx("option",{value:"S4",children:"Secondary 4"}),e.jsx("option",{value:"S5",children:"Secondary 5"}),e.jsx("option",{value:"S6",children:"Secondary 6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${B} mb-2`,children:"Term"}),e.jsxs("select",{value:S.term,onChange:Y=>N(V=>({...V,term:Y.target.value})),className:`w-full px-3 py-2 border ${D} rounded-lg ${z} ${B} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"1",children:"Term 1"}),e.jsx("option",{value:"2",children:"Term 2"}),e.jsx("option",{value:"3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-medium ${B} mb-4`,children:"Optional Fees"}),e.jsx("div",{className:"space-y-3",children:[{key:"boarding",label:"Boarding",amount:2e5},{key:"meals",label:"Meals",amount:1e5},{key:"books",label:"Books & Supplies",amount:5e4},{key:"activities",label:"Extra Activities",amount:3e4},{key:"transport",label:"Transport",amount:8e4},{key:"uniform",label:"Uniform",amount:12e4}].map(Y=>e.jsxs("label",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:S[Y.key],onChange:V=>N(E=>({...E,[Y.key]:V.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:`${B}`,children:Y.label})]}),e.jsx("span",{className:`${f}`,children:M(Y.amount)})]},Y.key))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${z} rounded-xl border p-6`,children:[e.jsx("h4",{className:`text-lg font-semibold ${B} mb-4`,children:"Fee Breakdown"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`${f}`,children:"Base Tuition"}),e.jsx("span",{className:`${B} font-medium`,children:M(S.studentClass?S.studentClass.startsWith("P")?25e4+(parseInt(S.studentClass.slice(1))-1)*1e4:32e4+(parseInt(S.studentClass.slice(1))-1)*1e4:3e5)})]}),S.boarding&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`${f}`,children:"Boarding"}),e.jsx("span",{className:`${B} font-medium`,children:M(2e5)})]}),S.meals&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`${f}`,children:"Meals"}),e.jsx("span",{className:`${B} font-medium`,children:M(1e5)})]}),S.books&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`${f}`,children:"Books & Supplies"}),e.jsx("span",{className:`${B} font-medium`,children:M(5e4)})]}),S.activities&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`${f}`,children:"Extra Activities"}),e.jsx("span",{className:`${B} font-medium`,children:M(3e4)})]}),S.transport&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`${f}`,children:"Transport"}),e.jsx("span",{className:`${B} font-medium`,children:M(8e4)})]}),S.uniform&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`${f}`,children:"Uniform"}),e.jsx("span",{className:`${B} font-medium`,children:M(12e4)})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`text-lg font-semibold ${B}`,children:"Total Fees"}),e.jsx("span",{className:"text-xl font-bold text-blue-600",children:M(I())})]})})]})]}),e.jsxs("div",{className:`${z} rounded-xl border p-6`,children:[e.jsx("h4",{className:`text-lg font-semibold ${B} mb-4`,children:"Payment Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("span",{className:`${B}`,children:"Full Payment"}),e.jsx("span",{className:`font-semibold ${B}`,children:M(I())})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("span",{className:`${B}`,children:"2 Installments"}),e.jsx("span",{className:`font-semibold ${B}`,children:M(Math.ceil(I()/2))})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("span",{className:`${B}`,children:"3 Installments"}),e.jsx("span",{className:`font-semibold ${B}`,children:M(Math.ceil(I()/3))})]})]})]})]})]})]}),xe=()=>e.jsxs("div",{className:`${z} rounded-xl shadow-lg p-6 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-xl font-semibold ${B}`,children:"Payment Statements"}),e.jsx(re,{className:"w-6 h-6 text-blue-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${B} mb-2`,children:"Year"}),e.jsxs("select",{value:k.year,onChange:Y=>m(V=>({...V,year:parseInt(Y.target.value)})),className:`w-full px-3 py-2 border ${D} rounded-lg ${z} ${B} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:2024,children:"2024"}),e.jsx("option",{value:2023,children:"2023"}),e.jsx("option",{value:2022,children:"2022"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${B} mb-2`,children:"Term"}),e.jsxs("select",{value:k.term,onChange:Y=>m(V=>({...V,term:Y.target.value})),className:`w-full px-3 py-2 border ${D} rounded-lg ${z} ${B} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"all",children:"All Terms"}),e.jsx("option",{value:"1",children:"Term 1"}),e.jsx("option",{value:"2",children:"Term 2"}),e.jsx("option",{value:"3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${B} mb-2`,children:"Status"}),e.jsxs("select",{value:k.status,onChange:Y=>m(V=>({...V,status:Y.target.value})),className:`w-full px-3 py-2 border ${D} rounded-lg ${z} ${B} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"partial",children:"Partial"}),e.jsx("option",{value:"unpaid",children:"Unpaid"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[g.filter(Y=>!(k.year!==Y.year||k.term!=="all"&&!Y.term.includes(k.term)||k.status!=="all"&&Y.status!==k.status)).map(Y=>e.jsx("div",{className:`${z} border rounded-lg p-4 hover:shadow-md transition-shadow`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsxs("h4",{className:`text-lg font-semibold ${B}`,children:[Y.term," ",Y.year]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="paid"?"bg-green-100 text-green-800":Y.status==="partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:Y.status.toUpperCase()})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:`${f}`,children:"Total:"}),e.jsx("span",{className:`${B} font-medium ml-1`,children:M(Y.totalAmount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${f}`,children:"Paid:"}),e.jsx("span",{className:`${B} font-medium ml-1`,children:M(Y.paidAmount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${f}`,children:"Balance:"}),e.jsx("span",{className:`${B} font-medium ml-1`,children:M(Y.balance)})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${f}`,children:"Due:"}),e.jsx("span",{className:`${B} font-medium ml-1`,children:Y.dueDate})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>p(Y),className:"px-3 py-1 text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Details"}),e.jsxs("button",{onClick:()=>F(Y),className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Download"})]})]})]})},Y.id)),g.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(re,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:`${f}`,children:"No payment statements found"})]})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${z} rounded-xl shadow-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-xl font-semibold ${B}`,children:"Statement Details"}),e.jsx("button",{onClick:()=>p(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:`${f}`,children:"Student:"}),e.jsx("span",{className:`${B} font-medium ml-1`,children:r.studentName})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${f}`,children:"Student ID:"}),e.jsx("span",{className:`${B} font-medium ml-1`,children:r.studentId})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${f}`,children:"Term:"}),e.jsxs("span",{className:`${B} font-medium ml-1`,children:[r.term," ",r.year]})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${f}`,children:"Due Date:"}),e.jsx("span",{className:`${B} font-medium ml-1`,children:r.dueDate})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:`font-semibold ${B} mb-2`,children:"Payment History"}),e.jsx("div",{className:"space-y-2",children:r.payments.map((Y,V)=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:`${B}`,children:Y.date}),e.jsxs("span",{className:`${f} ml-2`,children:["(",Y.method,")"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`${B} font-medium`,children:M(Y.amount)}),e.jsxs("div",{className:`text-xs ${R}`,children:["Ref: ",Y.reference]})]})]},V))})]})]})]})})]});return a?e.jsx("div",{className:`${_} min-h-screen p-6`,children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):e.jsx("div",{className:`${_} min-h-screen p-6`,children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold ${B} mb-2`,children:"Fee Payment Plans"}),e.jsx("p",{className:`${f}`,children:"Create and manage installment payment plans for school fees"})]}),e.jsx("div",{className:`${z} rounded-xl shadow-lg mb-6 border`,children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:he},{id:"create",label:"Create Plan",icon:ve},{id:"calculator",label:"Fee Calculator",icon:Cs},{id:"statements",label:"Statements",icon:re}].map(Y=>e.jsxs("button",{onClick:()=>v(Y.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===Y.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(Y.icon,{className:"w-4 h-4"}),e.jsx("span",{children:Y.label})]},Y.id))})})}),i==="overview"&&G(),i==="create"&&le(),i==="calculator"&&H(),i==="statements"&&xe()]})})},Gt=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("overview"),[u,o]=t.useState([]),[b,T]=t.useState(!1),[w,$]=t.useState(null),[d,x]=t.useState(null),[a,l]=t.useState(!0),[n,h]=t.useState([]),[S,N]=t.useState(""),[g,c]=t.useState(!1);t.useEffect(()=>{(async()=>{try{l(!0);const _=await Ns.healthCheck();console.log("Python Backend Status:",_);const z=await Ns.getPayments();console.log("Payment Data:",z),z.success&&(o(z.payments),x(z.summary));const f=await(await fetch("http://localhost:5000/api/bank-accounts")).json();if(f.success&&h(f.data||[]),A!=null&&A.id){const D=await(await fetch(`http://localhost:5000/api/students/${A.id}`)).json();D.success&&D.student&&N(D.student.admission_number||D.student.student_id||"")}}catch(_){console.error("Failed to fetch payment data:",_),o([]),x({total_payments:0,total_paid:0,total_pending:0,payment_success_rate:0}),h([])}finally{l(!1)}})()},[A]);const r=J=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(J);if(a)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const p=s?"bg-gray-900":"bg-gray-50",k=s?"bg-gray-800 border-gray-700":"bg-white border-gray-200",m=s?"text-white":"text-gray-900",C=s?"text-gray-300":"text-gray-600";return e.jsx("div",{className:`${p} min-h-screen p-6`,children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold ${m} mb-2`,children:"Payment Management"}),e.jsx("p",{className:`${C}`,children:"Manage your school fee payments and view transaction history"})]}),e.jsx("div",{className:`${k} rounded-xl shadow-lg mb-6 border`,children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:he},{id:"payment-plans",label:"Payment Plans",icon:ne},{id:"history",label:"Payment History",icon:ie},{id:"methods",label:"Payment Methods",icon:vs}].map(J=>e.jsxs("button",{onClick:()=>v(J.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===J.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(J.icon,{className:"w-4 h-4"}),e.jsx("span",{children:J.label})]},J.id))})})}),i==="payment-plans"&&y==="parent"?e.jsx(Ha,{userRole:y,currentUser:A,darkMode:s}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg p-6 mb-8 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Fee Balance Overview"}),e.jsx("p",{className:"text-blue-100",children:"Current outstanding fees and payment status"})]}),e.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-3",children:e.jsx(ze,{className:"w-8 h-8 text-white"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Current Balance"}),e.jsx("p",{className:"text-2xl font-bold",children:"UGX 450,000"})]}),e.jsx(oe,{className:"w-6 h-6 text-yellow-300"})]})}),e.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Overdue Amount"}),e.jsx("p",{className:"text-2xl font-bold",children:"UGX 150,000"})]}),e.jsx(ie,{className:"w-6 h-6 text-red-300"})]})}),e.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Next Due Date"}),e.jsx("p",{className:"text-lg font-semibold",children:"Dec 15, 2024"})]}),e.jsx(se,{className:"w-6 h-6 text-green-300"})]})})]}),e.jsx("div",{className:"mt-4 p-3 bg-white bg-opacity-10 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-100",children:[e.jsx("strong",{children:"Payment Status:"})," You have outstanding fees for Term 3. Please make payment to avoid late fees."]})})]}),d&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Payments"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d.total_payments})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(vs,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Paid"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:r(d.total_paid)})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r(d.total_pending)})]}),e.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:e.jsx(ie,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[d.payment_success_rate,"%"]})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(ze,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Fee Breakdown"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Full Statement"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tuition Fees - Term 3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Due: Dec 15, 2024"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"UGX 300,000"}),e.jsx("p",{className:"text-sm text-red-600",children:"Outstanding"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Examination Fees"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Due: Nov 30, 2024"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"UGX 50,000"}),e.jsx("p",{className:"text-sm text-green-600",children:"Paid"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Development Levy"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Due: Jan 15, 2025"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"UGX 100,000"}),e.jsx("p",{className:"text-sm text-yellow-600",children:"Pending"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Late Payment Fee"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Applied: Nov 1, 2024"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"UGX 15,000"}),e.jsx("p",{className:"text-sm text-red-600",children:"Overdue"})]})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Total Outstanding"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:"UGX 415,000"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment History"}),e.jsxs("button",{onClick:()=>{const J=`data:text/csv;charset=utf-8,Date,Description,Amount,Status
`+u.map(z=>`${z.date},${z.description},${z.amount},${z.status}`).join(`
`),_=document.createElement("a");_.setAttribute("href",encodeURI(J)),_.setAttribute("download",`payment_history_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(_),_.click(),document.body.removeChild(_)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Export"]})]}),e.jsx("div",{className:"space-y-4",children:u.length>0?u.map(J=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${J.status==="completed"?"bg-green-500":J.status==="pending"?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:r(J.amount)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[J.method," • ",J.fee_type]}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(J.initiated_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${J.status==="completed"?"bg-green-100 text-green-800":J.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:J.status}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:e.jsx(je,{className:"w-4 h-4"})})]})]},J.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ze,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No payment history yet"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Your payment transactions will appear here"})]})})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Quick Payment Options"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border-2 border-yellow-200 rounded-xl hover:border-yellow-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Fs,{className:"w-6 h-6 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"MTN Mobile Money"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Dial *165#"})]})]}),e.jsx("button",{onClick:()=>{$("mtn"),T(!0)},className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:"Pay with MTN"})]}),e.jsxs("div",{className:"p-4 border-2 border-red-200 rounded-xl hover:border-red-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Fs,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Airtel Money"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Dial *185#"})]})]}),e.jsx("button",{onClick:()=>{$("airtel"),T(!0)},className:"w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Pay with Airtel"})]}),e.jsxs("div",{className:"p-4 border-2 border-blue-200 rounded-xl hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Bs,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Stanbic Bank"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Bank transfer"})]})]}),e.jsx("button",{onClick:()=>{$("stanbic"),T(!0)},className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Pay via Stanbic"})]}),e.jsxs("div",{className:"p-4 border-2 border-purple-200 rounded-xl hover:border-purple-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Bs,{className:"w-6 h-6 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Centenary Bank"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Bank transfer"})]})]}),e.jsx("button",{onClick:()=>{$("centenary"),T(!0)},className:"w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors",children:"Pay via Centenary"})]}),e.jsxs("div",{className:"p-4 border-2 border-green-200 rounded-xl hover:border-green-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Bs,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Equity Bank"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Bank transfer"})]})]}),e.jsx("button",{onClick:()=>{$("equity"),T(!0)},className:"w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors",children:"Pay via Equity"})]}),e.jsxs("div",{className:"p-4 border-2 border-orange-200 rounded-xl hover:border-orange-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Bs,{className:"w-6 h-6 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"UBA Uganda"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Bank transfer"})]})]}),e.jsx("button",{onClick:()=>{$("uba"),T(!0)},className:"w-full bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Pay via UBA"})]})]})]}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[w==="mtn"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:e.jsx(Fs,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"MTN Mobile Money"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Complete your payment"})]})]}),e.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"font-semibold text-yellow-900 mb-2",children:"Payment Instructions"}),e.jsxs("ol",{className:"space-y-2 text-sm text-yellow-800",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold mr-2",children:"1."})," Dial *165# on your MTN phone"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold mr-2",children:"2."}),' Select "School Pay"']}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold mr-2",children:"3."})," Enter your Student Number"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold mr-2",children:"4."})," Select the fee to pay"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold mr-2",children:"5."})," Enter your PIN to confirm"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("a",{href:"tel:*165#",className:"block w-full bg-yellow-500 text-white py-3 rounded-lg font-semibold hover:bg-yellow-600 transition-colors text-center",children:"📱 Dial *165# Now"}),S&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Student Number:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:S,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-gray-300 rounded-lg font-mono font-bold text-lg"}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(S),alert("Student Number copied to clipboard!")},className:"px-4 py-2 bg-yellow-500 text-white rounded-lg font-semibold hover:bg-yellow-600 transition-colors",children:"Copy"})]})]})]}),e.jsx("button",{onClick:()=>T(!1),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Close"})]}),w==="airtel"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:e.jsx(Fs,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Airtel Money"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Complete your payment"})]})]}),e.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"font-semibold text-red-900 mb-2",children:"Payment Instructions"}),e.jsxs("ol",{className:"space-y-2 text-sm text-red-800",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold mr-2",children:"1."})," Dial *185# on your Airtel phone"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold mr-2",children:"2."}),' Select "School Pay"']}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold mr-2",children:"3."})," Enter your Student Number"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold mr-2",children:"4."})," Select the fee to pay"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold mr-2",children:"5."})," Enter your PIN to confirm"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("a",{href:"tel:*185#",className:"block w-full bg-red-500 text-white py-3 rounded-lg font-semibold hover:bg-red-600 transition-colors text-center",children:"📱 Dial *185# Now"}),S&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Student Number:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:S,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-gray-300 rounded-lg font-mono font-bold text-lg"}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(S),c(!0),setTimeout(()=>c(!1),3e3)},className:"px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition-colors",children:"Copy"})]})]})]}),e.jsx("button",{onClick:()=>T(!1),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Close"})]}),(w==="stanbic"||w==="centenary"||w==="equity"||w==="uba")&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(Bs,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[w==="stanbic"&&"Stanbic Bank",w==="centenary"&&"Centenary Bank",w==="equity"&&"Equity Bank",w==="uba"&&"UBA Uganda"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Account details"})]})]}),e.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"mb-6",children:(()=>{const _={stanbic:n.find(z=>z.bank_name.toLowerCase().includes("stanbic")),centenary:n.find(z=>z.bank_name.toLowerCase().includes("centenary")),equity:n.find(z=>z.bank_name.toLowerCase().includes("equity")),uba:n.find(z=>z.bank_name.toLowerCase().includes("uba"))}[w];if(_){const B={stanbic:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-900",label:"text-blue-600"},centenary:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-900",label:"text-purple-600"},equity:{bg:"bg-green-50",border:"border-green-200",text:"text-green-900",label:"text-green-600"},uba:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-900",label:"text-orange-600"}}[w];return e.jsx("div",{className:`${B.bg} border ${B.border} rounded-lg p-6`,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${B.label} font-medium mb-1`,children:"Account Name"}),e.jsx("p",{className:`text-lg font-semibold ${B.text}`,children:_.account_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${B.label} font-medium mb-1`,children:"Account Number"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`text-2xl font-mono font-bold ${B.text}`,children:_.account_number}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(_.account_number),alert("Account number copied!")},className:"text-sm px-3 py-1 bg-white rounded hover:bg-gray-100",children:"Copy"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${B.label} font-medium mb-1`,children:"Branch"}),e.jsx("p",{className:`text-sm ${B.text}`,children:_.branch})]}),_.swift_code&&e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${B.label} font-medium mb-1`,children:"Swift Code"}),e.jsx("p",{className:`text-sm font-mono ${B.text}`,children:_.swift_code})]})]})})}else return e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsx(Bs,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Bank account not configured"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Contact administration for payment details"})]})})()}),S&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("span",{className:"font-semibold",children:"Important:"})," Please use your Student Number ",e.jsx("span",{className:"font-mono font-bold",children:S})," as the payment reference"]})}),e.jsx("button",{onClick:()=>T(!1),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Close"})]})]})}),g&&e.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Student Number copied to clipboard!"})]})]})]})})},Ut=({userRole:y,currentUser:A,darkMode:s=!1})=>{var O,M;const[i,v]=t.useState(null),[u,o]=t.useState(null),[b,T]=t.useState(""),[w,$]=t.useState(!0),[d,x]=t.useState(""),[a,l]=t.useState("overview"),[n,h]=t.useState([]),[S,N]=t.useState(""),[g,c]=t.useState(!1),[r,p]=t.useState(!1),[k,m]=t.useState(""),[C,J]=t.useState(!1),_=s?"bg-gray-800 border border-gray-700":"bg-white",z=s?"text-white":"text-gray-900",B=s?"text-gray-300":"text-gray-600",f=s?"text-gray-400":"text-gray-500";t.useEffect(()=>{R()},[]);const R=async()=>{try{v(null),o(null)}catch(P){console.error("Error fetching analytics data:",P),v(null),o(null)}finally{$(!1)}},D=()=>{if(!S.trim())return;const P={id:Date.now(),type:"user",message:S,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};h([...n,P]),N("")},L=async P=>{if(!P){c(!0);return}J(!0),setTimeout(()=>{const Q=`
🎓 AI Performance Analysis for Student: ${P}

📊 Overall Performance: 78% (Good)

📈 Strengths:
• Mathematics: Excellent problem-solving skills
• Science: Strong analytical thinking
• Consistent attendance (95%)

⚠️ Areas for Improvement:
• English: Writing skills need development
• Time management during exams
• Participation in class discussions

🎯 AI Recommendations:
1. Extra tutoring in English composition
2. Practice timed exam simulations
3. Encourage active class participation
4. Consider peer study groups

📅 Predicted Performance:
• Next Term: 82% (if recommendations followed)
• UNEB Readiness: 75% (Moderate)

💡 Personalized Study Plan:
• 2 hours/day focused study
• Weekly progress assessments
• Monthly parent-teacher reviews
      `.trim();m(Q),p(!0),J(!1)},2e3)},j=(P,Q,q)=>{const te=[Q.join(","),...q.map(G=>Q.map(le=>JSON.stringify(G[le]??"")).join(","))].join(`
`),Z=new Blob([te],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(Z),F=document.createElement("a");F.href=I,F.download=P,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(I)};return w?e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})}):e.jsx("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:`${_} rounded-3xl shadow-2xl p-8 mb-8`,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 rounded-2xl p-4",children:e.jsx(pe,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${z}`,children:"AI Analytics Dashboard"}),e.jsx("p",{className:`${B} mt-2`,children:"Advanced analytics with AI-powered insights and predictions"})]})]})}),e.jsx("div",{className:`${_} rounded-2xl shadow-xl mb-8`,children:e.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"overview",label:"Overview",icon:de},{id:"charts",label:"Charts & Graphs",icon:Ct},{id:"chat",label:"AI Assistant",icon:Fe},{id:"predictions",label:"Predictions",icon:pe}].map(P=>e.jsxs("button",{onClick:()=>l(P.id),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 font-medium transition-colors ${a===P.id?"border-b-2 border-blue-500 text-blue-600 bg-blue-50":`${B} hover:${s?"text-white":"text-gray-900"}`}`,children:[e.jsx(P.icon,{className:"w-5 h-5"}),e.jsx("span",{children:P.label})]},P.id))})}),a==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:`${_} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${f} text-sm font-medium`,children:"Total Students"}),e.jsx("p",{className:`${z} text-3xl font-bold mt-2`,children:"0"})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:`${_} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${f} text-sm font-medium`,children:"Average Performance"}),e.jsx("p",{className:`${z} text-3xl font-bold mt-2 text-green-600`,children:"0"})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(he,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:`${_} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${f} text-sm font-medium`,children:"At Risk Students"}),e.jsx("p",{className:`${z} text-3xl font-bold mt-2 text-red-600`,children:"0"})]}),e.jsx("div",{className:"bg-red-100 rounded-full p-3",children:e.jsx(oe,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:`${_} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${f} text-sm font-medium`,children:"Attendance Rate"}),e.jsx("p",{className:`${z} text-3xl font-bold mt-2 text-purple-600`,children:"0"})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(Ce,{className:"w-6 h-6 text-purple-600"})})]})})]}),i&&e.jsxs("div",{className:`${_} rounded-2xl shadow-xl p-8`,children:[e.jsx("h3",{className:`text-xl font-semibold ${z} mb-6`,children:"Performance Insights"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:(O=i.performance_insights)==null?void 0:O.map((P,Q)=>e.jsxs("div",{className:`border rounded-xl p-6 ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:`font-semibold ${z}`,children:P.student_name}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${P.trend==="improving"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.trend})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${B}`,children:"Current Average:"}),e.jsxs("span",{className:`font-medium ${z}`,children:[P.current_average,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${B}`,children:"Previous Average:"}),e.jsxs("span",{className:`${f}`,children:[P.previous_average,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${B} text-sm`,children:"Recommendation:"}),e.jsx("p",{className:`${f} text-sm mt-1`,children:P.recommendation})]})]})]},Q))})]})]}),a==="charts"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:`${_} rounded-2xl shadow-xl p-8`,children:[e.jsx("h3",{className:`text-xl font-semibold ${z} mb-6`,children:"Subject Performance Overview"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium ${B} mb-4`,children:"Average Scores by Subject"}),e.jsx("div",{className:"space-y-4",children:(i==null?void 0:i.subject_performance)&&Object.entries(i.subject_performance).map(([P,Q])=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-20 text-sm ${B}`,children:P}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500",style:{width:`${Q.average}%`}})}),e.jsxs("div",{className:`w-12 text-sm font-medium ${z}`,children:[Q.average,"%"]})]},P))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium ${B} mb-4`,children:"Pass Rate Distribution"}),e.jsx("div",{className:"space-y-4",children:(i==null?void 0:i.subject_performance)&&Object.entries(i.subject_performance).map(([P,Q])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:`font-medium ${z}`,children:P}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${Q.pass_rate}%`}})}),e.jsxs("span",{className:`text-sm ${B}`,children:[Q.pass_rate,"%"]})]})]},P))})]})]})]}),e.jsxs("div",{className:`${_} rounded-2xl shadow-xl p-8`,children:[e.jsx("h3",{className:`text-xl font-semibold ${z} mb-6`,children:"Weekly Attendance Patterns"}),e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(P=>e.jsx("div",{className:`text-center text-sm font-medium ${B}`,children:P},P))}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:Array.from({length:35},(P,Q)=>{const q=Math.floor(Math.random()*40)+60;return e.jsx("div",{className:`h-8 rounded ${q>=90?"bg-green-500":q>=80?"bg-yellow-500":q>=70?"bg-orange-500":"bg-red-500"}`,title:`${q}% attendance`},Q)})}),e.jsxs("div",{className:"flex items-center justify-center mt-4 space-x-4 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),e.jsx("span",{className:f,children:"Low (<70%)"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),e.jsx("span",{className:f,children:"Fair (70-80%)"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),e.jsx("span",{className:f,children:"Good (80-90%)"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),e.jsx("span",{className:f,children:"Excellent (>90%)"})]})]})]})]}),a==="chat"&&e.jsxs("div",{className:`${_} rounded-2xl shadow-xl p-8`,children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(xt,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h3",{className:`text-xl font-semibold ${z}`,children:"AI Analytics Assistant"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:`border rounded-xl h-96 flex flex-col ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:n.map(P=>e.jsx("div",{className:`flex ${P.type==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${P.type==="user"?"bg-blue-500 text-white":`${s?"bg-gray-700 text-white":"bg-gray-100 text-gray-900"}`}`,children:[e.jsx("p",{className:"text-sm",children:P.message}),e.jsx("p",{className:`text-xs mt-1 ${P.type==="user"?"text-blue-100":f}`,children:P.timestamp})]})},P.id))}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:S,onChange:P=>N(P.target.value),onKeyPress:P=>P.key==="Enter"&&D(),placeholder:"Ask me about analytics, trends, or predictions...",className:`flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`}),e.jsx("button",{onClick:D,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Send"})]})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:`font-medium ${B}`,children:"Quick Actions"}),e.jsx("div",{className:"space-y-2",children:["Show performance trends","Identify at-risk students","Generate attendance report","Predict exam outcomes","Analyze subject performance","Compare class averages"].map((P,Q)=>e.jsx("button",{onClick:()=>N(P),className:`w-full text-left p-3 rounded-lg border transition-colors ${s?"border-gray-600 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50"}`,children:e.jsx("span",{className:`text-sm ${B}`,children:P})},Q))})]})]})]}),a==="predictions"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:`${_} rounded-2xl shadow-xl p-8`,children:[e.jsx("h3",{className:`text-xl font-semibold ${z} mb-6`,children:"AI Predictions & Insights"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(M=i==null?void 0:i.ai_predictions)==null?void 0:M.map((P,Q)=>e.jsxs("div",{className:`border rounded-xl p-6 ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:`p-2 rounded-full ${P.type==="exam_performance"?"bg-green-100":P.type==="at_risk"?"bg-red-100":"bg-blue-100"}`,children:P.type==="exam_performance"?e.jsx(Se,{className:"w-5 h-5 text-green-600"}):P.type==="at_risk"?e.jsx(oe,{className:"w-5 h-5 text-red-600"}):e.jsx(he,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h4",{className:`font-semibold ${z} ml-3 capitalize`,children:P.type.replace("_"," ")})]}),e.jsx("p",{className:`${B} text-sm`,children:P.message})]},Q))})]}),e.jsxs("div",{className:`${_} rounded-2xl shadow-xl p-8`,children:[e.jsx("h3",{className:`text-xl font-semibold ${z} mb-6`,children:"Student Performance Analysis"}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("input",{type:"text",value:b,onChange:P=>T(P.target.value),placeholder:"Enter student ID or name",className:`flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`}),e.jsx("button",{onClick:()=>L(b),disabled:C||!b,className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white px-6 py-3 rounded-xl hover:from-purple-600 hover:to-blue-700 transition-all duration-300 disabled:opacity-50",children:C?"Analyzing...":"Analyze Performance"})]}),e.jsx("p",{className:`text-sm ${f}`,children:"Enter a student ID or name to get AI-powered performance analysis, predictions, and recommendations."})]})]}),y==="parent"&&a==="overview"&&e.jsxs("div",{className:`${_} rounded-xl shadow-lg p-6 mt-8`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${z}`,children:"Child Analytics"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>{var q;const P=d||((q=parentChildren[0])==null?void 0:q.id),Q=(sampleGpaTrends[P]||[]).map(te=>({month:te.month,gpa:te.gpa}));j(`gpa_trend_${P}.csv`,["month","gpa"],Q)},className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"})," Export GPA CSV"]}),e.jsxs("button",{onClick:()=>{var te;const P=d||((te=parentChildren[0])==null?void 0:te.id),q=(sampleAttendanceHeatmap[P]||[]).map((Z,I)=>({index:I+1,attendance:Z}));j(`attendance_heatmap_${P}.csv`,["index","attendance"],q)},className:"flex items-center px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"})," Export Attendance CSV"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6",children:[].map(P=>{var Q;return e.jsxs("button",{onClick:()=>x(P.id),className:`p-3 rounded-lg border-2 text-left transition-all ${(d||((Q=parentChildren[0])==null?void 0:Q.id))===P.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:`font-medium ${z}`,children:P.name}),e.jsxs("div",{className:`text-xs ${f}`,children:["ID: ",P.id]})]},P.id)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:`border rounded-lg p-4 ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("h4",{className:`font-medium mb-3 flex items-center ${B}`,children:[e.jsx(he,{className:"w-4 h-4 mr-2 text-purple-600"})," GPA Trend (last 5 months)"]}),e.jsx("div",{className:"h-48 flex items-end space-x-3",children:[].map((P,Q)=>e.jsxs("div",{className:"flex flex-col items-center justify-end flex-1",children:[e.jsx("div",{className:`w-full bg-gradient-to-t from-blue-500 to-blue-400 rounded-t ${P.gpa>=3.5?"from-green-500 to-green-400":""}`,style:{height:`${P.gpa/4*100}%`},title:`${P.month}: ${P.gpa.toFixed(1)}`}),e.jsx("span",{className:"text-xs text-gray-600 mt-1",children:P.month})]},Q))})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[e.jsx(me,{className:"w-4 h-4 mr-2 text-green-600"})," Attendance Heatmap (5 weeks)"]}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:[].map((P,Q)=>e.jsx("div",{className:`w-8 h-8 rounded ${P>=95?"bg-green-500":P>=90?"bg-green-400":P>0?"bg-yellow-400":"bg-gray-200"}`,title:`Day ${Q+1}: ${P}%`},Q))}),e.jsxs("div",{className:"flex items-center justify-end mt-3 space-x-2 text-xs text-gray-600",children:[e.jsx("span",{className:"w-3 h-3 rounded bg-gray-200 inline-block"}),e.jsx("span",{children:"Absent"}),e.jsx("span",{className:"w-3 h-3 rounded bg-yellow-400 inline-block ml-2"}),e.jsx("span",{children:"Late"}),e.jsx("span",{className:"w-3 h-3 rounded bg-green-500 inline-block ml-2"}),e.jsx("span",{children:"Present"})]})]})]})]}),(i==null?void 0:i.insights)&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(pe,{className:"w-5 h-5 mr-2 text-purple-600"}),"AI Insights Dashboard"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.insights.map((P,Q)=>e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-4 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:P.title}),P.type==="performance"&&e.jsx(he,{className:"w-5 h-5 text-blue-600"}),P.type==="attendance"&&e.jsx(me,{className:"w-5 h-5 text-green-600"}),P.type==="class_overview"&&e.jsx(be,{className:"w-5 h-5 text-purple-600"}),P.type==="academic_integrity"&&e.jsx(re,{className:"w-5 h-5 text-red-600"})]}),P.score!==void 0&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Score"}),e.jsxs("span",{className:"font-bold",children:[P.score.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${P.score>=80?"bg-green-500":P.score>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(P.score,100)}%`}})})]}),P.total_students&&e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:["Total Students: ",e.jsx("span",{className:"font-medium",children:P.total_students})]}),P.top_performers&&e.jsxs("p",{children:["Top Performers: ",e.jsx("span",{className:"font-medium",children:P.top_performers})]}),P.at_risk_students&&e.jsxs("p",{children:["At Risk: ",e.jsx("span",{className:"font-medium text-red-600",children:P.at_risk_students})]})]}),P.plagiarism_rate!==void 0&&e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:["Plagiarism Rate: ",e.jsxs("span",{className:"font-medium",children:[P.plagiarism_rate.toFixed(1),"%"]})]}),e.jsxs("p",{children:["Total Submissions: ",e.jsx("span",{className:"font-medium",children:P.total_submissions})]}),e.jsxs("p",{children:["Flagged: ",e.jsx("span",{className:"font-medium text-red-600",children:P.flagged_submissions})]})]})]},Q))})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`max-w-md w-full max-h-[90vh] ${_} rounded-lg shadow-xl flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:`text-lg font-semibold ${z}`,children:"🎓 AI Student Performance Analysis"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"analysis-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${B}`,children:"Student ID or Name *"}),e.jsx("input",{type:"text",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter student ID or full name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${B}`,children:"Analysis Type *"}),e.jsxs("select",{className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Analysis Type"}),e.jsx("option",{value:"comprehensive",children:"Comprehensive Analysis"}),e.jsx("option",{value:"academic",children:"Academic Performance Only"}),e.jsx("option",{value:"behavioral",children:"Behavioral Analysis"}),e.jsx("option",{value:"predictive",children:"Predictive Analysis"}),e.jsx("option",{value:"comparative",children:"Comparative Analysis"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${B}`,children:"Time Period"}),e.jsxs("select",{className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"current",children:"Current Term"}),e.jsx("option",{value:"year",children:"This Academic Year"}),e.jsx("option",{value:"semester",children:"This Semester"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${B}`,children:"Include Subjects"}),e.jsx("div",{className:"space-y-2",children:["Mathematics","English","Science","History","Geography","Physics","Chemistry","Biology"].map(P=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:`text-sm ${B}`,children:P})]},P))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${B}`,children:"Additional Notes"}),e.jsx("textarea",{rows:"3",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Any specific areas to focus on or concerns..."})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:`flex-1 py-2 px-4 rounded-lg border ${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"}),e.jsx("button",{type:"submit",form:"analysis-form",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Run Analysis"})]})})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`max-w-2xl w-full max-h-[90vh] ${_} rounded-lg shadow-xl flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:`text-lg font-semibold ${z}`,children:"🎓 AI Analysis Results"}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsx("div",{className:`whitespace-pre-line ${z} text-sm leading-relaxed`,children:k})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:`flex-1 py-2 px-4 rounded-lg border ${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Close"}),e.jsx("button",{type:"button",onClick:()=>{const P=new Blob([k],{type:"text/plain"}),Q=URL.createObjectURL(P),q=document.createElement("a");q.href=Q,q.download="ai-analysis-result.txt",q.click(),URL.revokeObjectURL(Q)},className:"flex-1 py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Download Report"})]})})]})})]})})},Va=({studentId:y,userRole:A,darkMode:s=!1})=>{const[i,v]=t.useState([]),[u,o]=t.useState(!0),[b,T]=t.useState(!1),[w,$]=t.useState({achievement_type:"academic",title:"",description:"",achievement_date:"",award_level:"school"}),d=s?"bg-gray-800":"bg-white",x=s?"text-white":"text-gray-900",a=s?"text-gray-300":"text-gray-600";t.useEffect(()=>{l()},[y]);const l=async()=>{try{const g=localStorage.getItem("token"),r=await fetch(`http://localhost:5000/api/achievements/student/${y}`,{headers:{Authorization:`Bearer ${g}`}});if(r.ok){const p=await r.json();v(p.achievements||[])}}catch(g){console.error("Error fetching achievements:",g)}finally{o(!1)}},n=async()=>{try{const g=localStorage.getItem("token"),p=await(await fetch("http://localhost:5000/api/achievements/create",{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({...w,student_id:y})})).json();p.success?(alert("✅ Achievement added successfully!"),l(),T(!1),$({achievement_type:"academic",title:"",description:"",achievement_date:"",award_level:"school"})):alert(`❌ Failed: ${p.message}`)}catch(g){console.error("Error adding achievement:",g),alert("Failed to add achievement")}},h=g=>{switch(g){case"academic":return e.jsx(Se,{className:"w-6 h-6 text-blue-600"});case"sports":return e.jsx(xs,{className:"w-6 h-6 text-yellow-600"});case"leadership":return e.jsx(Ie,{className:"w-6 h-6 text-purple-600"});case"arts":return e.jsx(at,{className:"w-6 h-6 text-pink-600"});default:return e.jsx(Se,{className:"w-6 h-6 text-gray-600"})}},S=g=>{switch(g){case"international":return"bg-purple-100 text-purple-800";case"national":return"bg-blue-100 text-blue-800";case"regional":return"bg-green-100 text-green-800";case"district":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};if(u)return e.jsx("div",{className:`${d} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})});const N={total:i.length,academic:i.filter(g=>g.achievement_type==="academic").length,sports:i.filter(g=>g.achievement_type==="sports").length,leadership:i.filter(g=>g.achievement_type==="leadership").length,totalPoints:i.reduce((g,c)=>g+(c.points_awarded||0),0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:`${d} rounded-xl shadow-lg p-4`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${a}`,children:"Total Achievements"}),e.jsx("p",{className:`text-2xl font-bold ${x}`,children:N.total})]}),e.jsx(xs,{className:"w-8 h-8 text-yellow-600"})]})}),e.jsx("div",{className:`${d} rounded-xl shadow-lg p-4`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${a}`,children:"Academic"}),e.jsx("p",{className:`text-2xl font-bold ${x}`,children:N.academic})]}),e.jsx(Se,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:`${d} rounded-xl shadow-lg p-4`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${a}`,children:"Sports"}),e.jsx("p",{className:`text-2xl font-bold ${x}`,children:N.sports})]}),e.jsx(xs,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:`${d} rounded-xl shadow-lg p-4`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${a}`,children:"Total Points"}),e.jsx("p",{className:`text-2xl font-bold ${x}`,children:N.totalPoints})]}),e.jsx(Ie,{className:"w-8 h-8 text-purple-600"})]})})]}),e.jsxs("div",{className:`${d} rounded-xl shadow-lg p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:`text-xl font-bold ${x} flex items-center`,children:[e.jsx(xs,{className:"w-6 h-6 mr-2 text-yellow-600"}),"Achievements & Awards"]}),A==="teacher"||A==="admin"?e.jsxs("button",{onClick:()=>T(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Achievement"]}):null]}),i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xs,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:a,children:"No achievements yet"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Keep working hard and achievements will appear here!"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(g=>e.jsxs("div",{className:`border ${s?"border-gray-700":"border-gray-200"} rounded-lg p-4 hover:shadow-md transition-shadow`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[h(g.achievement_type),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold ${x}`,children:g.title}),e.jsx("p",{className:`text-sm ${a}`,children:g.category})]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S(g.award_level)}`,children:g.award_level})]}),g.description&&e.jsx("p",{className:`text-sm ${a} mb-3`,children:g.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),new Date(g.achievement_date).toLocaleDateString()]}),g.certificate_issued&&e.jsxs("span",{className:"flex items-center text-green-600",children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"Certified"]})]}),g.points_awarded>0&&e.jsxs("div",{className:"mt-2 text-sm font-medium text-blue-600",children:["+",g.points_awarded," points"]})]},g.id))})]}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${d} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4`,children:[e.jsx("h4",{className:`text-lg font-semibold mb-4 ${x}`,children:"Add New Achievement"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${a}`,children:"Type"}),e.jsxs("select",{value:w.achievement_type,onChange:g=>$({...w,achievement_type:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"academic",children:"Academic"}),e.jsx("option",{value:"sports",children:"Sports"}),e.jsx("option",{value:"leadership",children:"Leadership"}),e.jsx("option",{value:"arts",children:"Arts"}),e.jsx("option",{value:"community_service",children:"Community Service"}),e.jsx("option",{value:"attendance",children:"Attendance"}),e.jsx("option",{value:"behavior",children:"Behavior"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${a}`,children:"Award Level"}),e.jsxs("select",{value:w.award_level,onChange:g=>$({...w,award_level:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"school",children:"School"}),e.jsx("option",{value:"district",children:"District"}),e.jsx("option",{value:"regional",children:"Regional"}),e.jsx("option",{value:"national",children:"National"}),e.jsx("option",{value:"international",children:"International"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${a}`,children:"Title"}),e.jsx("input",{type:"text",value:w.title,onChange:g=>$({...w,title:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Best Student Award"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${a}`,children:"Description"}),e.jsx("textarea",{value:w.description,onChange:g=>$({...w,description:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Achievement details..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${a}`,children:"Achievement Date"}),e.jsx("input",{type:"date",value:w.achievement_date,onChange:g=>$({...w,achievement_date:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Achievement"})]})]})})]})},Wa=({userRole:y,currentUser:A})=>{const[s,i]=t.useState(null),[v,u]=t.useState(null),[o,b]=t.useState(!0),[T,w]=t.useState(!1),[$,d]=t.useState({}),[x,a]=t.useState(!1),l=Me.useRef(null),n=y==="admin";t.useEffect(()=>{(async()=>{try{b(!0);const g=await Ns.healthCheck();console.log("Python Backend Status:",g);const c=await Ns.getProfile(A.id);console.log("Profile Data:",c),c.success&&(i(c.profile),u(c.user),d({full_name:c.user.full_name,email:c.user.email,phone:c.user.phone,date_of_birth:c.profile.date_of_birth||"",gender:c.profile.gender||"",nationality:c.profile.nationality||"",religion:c.profile.religion||"",address:c.profile.address||""}))}catch(g){console.error("Failed to fetch profile:",g);const c={id:null,user_id:A.id,profile_photo_url:null,date_of_birth:null,gender:null,nationality:null,religion:null,address:null,class_level:null,stream:null,created_at:null},r={id:A.id,full_name:A.name,email:A.email||"",phone:"",role:A.role};i(c),u(r),d({full_name:r.full_name,email:r.email,phone:"",date_of_birth:"",gender:"",nationality:"",religion:"",address:""})}finally{b(!1)}})()},[A,y]);const h=async()=>{try{console.log("Saving profile:",$),u({...v,...$}),i({...s,...$}),w(!1),alert("Profile updated successfully!")}catch(N){console.error("Failed to save profile:",N),alert("Failed to save profile. Please try again.")}},S=async N=>{const g=N.target.files[0];if(g){if(!g.type.startsWith("image/")){alert("Please select an image file (PNG, JPG, JPEG, GIF)");return}if(g.size>5*1024*1024){alert("File size must be less than 5MB");return}a(!0);try{const c=new FormData;c.append("photo",g);const r=localStorage.getItem("token"),k=await(await fetch("/api/profile/photo",{method:"POST",headers:{Authorization:`Bearer ${r}`},body:c})).json();k.success?(i(m=>({...m,profile_photo_url:k.photo_url||k.file_path})),alert("Profile photo updated successfully!")):alert(k.message||"Failed to upload photo")}catch(c){console.error("Error uploading photo:",c),alert("Error uploading photo. Please try again.")}finally{a(!1)}}};return o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Profile Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage your personal information and account settings"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:s!=null&&s.profile_photo_url?e.jsx("img",{src:s.profile_photo_url,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):e.jsx(es,{className:"w-12 h-12 text-gray-400"})}),e.jsx("button",{onClick:()=>{var N;return(N=l.current)==null?void 0:N.click()},disabled:x,className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition-colors disabled:opacity-50",children:x?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(Ws,{className:"w-4 h-4"})}),e.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:S,className:"hidden"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:v==null?void 0:v.full_name}),e.jsx("p",{className:"text-gray-600 capitalize",children:v==null?void 0:v.role}),e.jsx("p",{className:"text-sm text-gray-500",children:v==null?void 0:v.email})]})]}),n&&e.jsxs("button",{onClick:()=>w(!T),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),T?"Cancel":"Edit Profile"]}),!n&&e.jsx("div",{className:"text-sm text-gray-500 italic",children:"Only admins can edit profiles"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:$.full_name||"",onChange:N=>d({...$,full_name:N.target.value}),disabled:!T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:$.email||"",onChange:N=>d({...$,email:N.target.value}),disabled:!T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:$.phone||"",onChange:N=>d({...$,phone:N.target.value}),disabled:!T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),e.jsx("input",{type:"date",value:$.date_of_birth||"",onChange:N=>d({...$,date_of_birth:N.target.value}),disabled:!T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),e.jsxs("select",{value:$.gender||"",onChange:N=>d({...$,gender:N.target.value}),disabled:!T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nationality"}),e.jsx("input",{type:"text",value:$.nationality||"",onChange:N=>d({...$,nationality:N.target.value}),disabled:!T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Religion"}),e.jsx("input",{type:"text",value:$.religion||"",onChange:N=>d({...$,religion:N.target.value}),disabled:!T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("textarea",{value:$.address||"",onChange:N=>d({...$,address:N.target.value}),disabled:!T,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50"})]}),y==="student"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Level"}),e.jsx("input",{type:"text",value:(s==null?void 0:s.class_level)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stream"}),e.jsx("input",{type:"text",value:(s==null?void 0:s.stream)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]})]}),T&&e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsxs("button",{onClick:h,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}),y==="student"&&A&&e.jsx("div",{className:"mt-8",children:e.jsx(Va,{studentId:A.id||1,userRole:y,darkMode:!1})})]})},zt=({userRole:y,currentUser:A,darkMode:s=!1,notifications:i,setNotifications:v})=>{const[u,o]=t.useState("chat"),[b,T]=t.useState([]),[w,$]=t.useState([]),[d,x]=t.useState(null),[a,l]=t.useState([]),[n,h]=t.useState(!0),[S,N]=t.useState(0),[g,c]=t.useState(!1),[r,p]=t.useState(!1),[k,m]=t.useState(new Set),[C,J]=t.useState(""),[_,z]=t.useState(""),[B,f]=t.useState({}),[R,D]=t.useState(!1),[L,j]=t.useState({name:"",description:"",members:[],isMonitored:!0,monitorRole:"teacher"}),[O,M]=t.useState([]),[P,Q]=t.useState({isInCall:!1,callType:null,callParticipants:[],callId:null,isMuted:!1,isVideoOff:!1,isScreenSharing:!1}),[q,te]=t.useState(!1),[Z,I]=t.useState(null),[F,G]=t.useState(i||[]),[le,H]=t.useState(0),[xe,Y]=t.useState(!1),[V,E]=t.useState(!1),[K,ae]=t.useState({type:"system",recipient:"",subject:"",message:"",category:"general",priority:"medium"}),[Pe,Ee]=t.useState(!1),[Te,ss]=t.useState(!1),[bs,cs]=t.useState({type:"message",content:"",recipients:[],isPublic:!1}),[Ge,ls]=t.useState({file:null,description:"",recipients:[],isPublic:!1}),Ke=t.useRef(null),ds=t.useRef(null),rs=s?"bg-gray-900":"bg-gray-50",Ae=s?"bg-gray-800 border-gray-700":"bg-white border-gray-200",ye=s?"text-white":"text-gray-900",fe=s?"text-gray-300":"text-gray-600",Ve=s?"text-gray-400":"text-gray-500",we=s?"border-gray-700":"border-gray-200",Ue=s?"hover:bg-gray-700":"hover:bg-gray-50";console.log("MessagingPanel - User Role:",y,"Current User:",A),console.log("Call feature available for:",y==="parent"||y==="teacher"?"YES":"NO"),t.useEffect(()=>{(async()=>{try{h(!0);const ge=await Ns.healthCheck();console.log("Python Backend Status:",ge),$([{id:1,name:"John Teacher",role:"teacher",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",online:!0,lastSeen:"Online",unreadCount:2,subject:"Mathematics"},{id:2,name:"Sarah Parent",role:"parent",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",online:!1,lastSeen:"2 hours ago",unreadCount:0},{id:3,name:"Mike Admin",role:"admin",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",online:!0,lastSeen:"Online",unreadCount:1}]),x(null),l([]),await qs()}catch(ge){console.error("Failed to fetch messaging data:",ge),$([]),x(null),l([]),G([])}finally{h(!1)}})();const ce=setInterval(()=>{Be(),os()},3e3);return()=>clearInterval(ce)},[u]),t.useEffect(()=>{Is()},[a]);const Is=()=>{var W;(W=Ke.current)==null||W.scrollIntoView({behavior:"smooth"})},Be=()=>{m(W=>{const ce=new Set(W);return w.forEach(ge=>{Math.random()>.7&&(ge.online?ce.add(ge.id):ce.delete(ge.id))}),ce})},os=()=>{d&&Math.random()>.8&&(f(W=>({...W,[d.id]:!0})),setTimeout(()=>{f(W=>({...W,[d.id]:!1}))},2e3))},ts=async()=>{if(!_.trim()||!d)return;const W={id:Date.now(),sender_id:(A==null?void 0:A.id)||2,sender_name:(A==null?void 0:A.name)||"You",content:_.trim(),timestamp:new Date().toISOString(),is_own:!0,message_type:"text",read_status:"sent"};l(ce=>[...ce,W]),z("");try{const ce=localStorage.getItem("token"),fs=await(await fetch("http://localhost:5000/api/messaging/send",{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify({recipient_id:d.id,content:W.content,message_type:"text"})})).json();fs.success?l(gs=>gs.map(qe=>qe.id===W.id?{...qe,read_status:"delivered",id:fs.message_id}:qe)):l(gs=>gs.map(qe=>qe.id===W.id?{...qe,read_status:"failed"}:qe))}catch(ce){console.error("Send message error:",ce),l(ge=>ge.map(_e=>_e.id===W.id?{..._e,read_status:"failed"}:_e))}},_s=W=>{z(W.target.value),ds.current&&clearTimeout(ds.current),p(!0),ds.current=setTimeout(()=>{p(!1)},1e3)},Ks=W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),ts())},Hs=async()=>{if(!L.name.trim()||L.members.length===0){alert("Please provide group name and select at least one member");return}try{const W=localStorage.getItem("token"),_e=await(await fetch("http://localhost:5000/api/messaging/groups",{method:"POST",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify({name:L.name,description:L.description,member_ids:L.members,is_monitored:L.isMonitored,monitor_role:L.monitorRole})})).json();_e.success?(alert("✅ Group created successfully!"),D(!1),j({name:"",description:"",members:[],isMonitored:!0,monitorRole:"teacher"}),et()):alert(`❌ Failed to create group: ${_e.message}`)}catch(W){alert("Error creating group"),console.error("Create group error:",W)}},Os=async()=>{try{const W=localStorage.getItem("token"),ge=await fetch("http://localhost:5000/api/messaging/available-members",{headers:{Authorization:`Bearer ${W}`}});if(ge.ok){const _e=await ge.json();M(_e.members||[])}else M([])}catch(W){console.error("Error fetching available members:",W),M([])}},Zs=async()=>{const W=prompt(`Send to which group?
Options: student, teacher, parent, admin`);if(!W)return;const ce=prompt("Enter message subject:");if(!ce)return;const ge=prompt("Enter message content:");if(ge)try{const _e=localStorage.getItem("token"),qe=await(await fetch("http://localhost:5000/api/messaging/broadcast",{method:"POST",headers:{Authorization:`Bearer ${_e}`,"Content-Type":"application/json"},body:JSON.stringify({recipient_role:W,subject:ce,content:ge})})).json();qe.success?alert(`✅ Message broadcast to ${qe.sent_count} recipients`):alert(`❌ Broadcast failed: ${qe.message}`)}catch(_e){alert("Error broadcasting message"),console.error("Broadcast error:",_e)}},et=async()=>{try{const W=localStorage.getItem("token"),ge=await fetch("http://localhost:5000/api/messaging/contacts",{headers:{Authorization:`Bearer ${W}`}});if(ge.ok){let _e;if((ge.headers.get("content-type")||"").includes("application/json")){const gs=await ge.json();$(gs.contacts||[])}else $([])}else $([])}catch(W){console.error("Error fetching contacts:",W),$([])}},qs=async()=>{try{const W=localStorage.getItem("token"),ge=await fetch("http://localhost:5000/api/notifications/",{headers:{Authorization:`Bearer ${W}`}});if(ge.ok){const gs=((await ge.json()).notifications||[]).map(qe=>({id:qe.id,type:qe.type||"system",title:qe.title||qe.subject||"Notification",message:qe.message||qe.content||"",category:qe.category||"general",priority:qe.priority||"medium",created_at:qe.created_at||qe.timestamp,read_at:qe.read_at||(qe.is_read?new Date().toISOString():null)}));G(gs),H(gs.filter(qe=>!qe.read_at).length),v&&v(gs)}else G([]),H(0)}catch(W){console.error("Error fetching notifications:",W),G([]),H(0)}},X=async W=>{try{const ce=localStorage.getItem("token");if((await fetch(`http://localhost:5000/api/notifications/${W}/read`,{method:"POST",headers:{Authorization:`Bearer ${ce}`}})).ok){const fs=F.map(gs=>gs.id===W?{...gs,read_at:new Date().toISOString()}:gs);G(fs),H(gs=>Math.max(0,gs-1)),v&&v(fs)}}catch(ce){console.error("Error marking notification as read:",ce)}},ue=async()=>{if(!K.recipient||!K.message){alert("Please fill in recipient and message fields");return}E(!0);try{const W=localStorage.getItem("token"),ce="http://localhost:5000",ge={type:K.type,recipient:K.recipient,message:K.message,category:K.category,priority:K.priority};K.type==="email"&&(ge.subject=K.subject||"Smart School Notification"),K.type==="system"&&(ge.title=K.subject||"System Notification");const fs=await(await fetch(`${ce}/api/notifications/send`,{method:"POST",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify(ge)})).json();fs.success?(alert("✅ Notification sent successfully!"),ae({type:"system",recipient:"",subject:"",message:"",category:"general",priority:"medium"}),Y(!1),qs()):alert(`❌ Failed to send notification: ${fs.message}`)}catch(W){alert("Error sending notification"),console.error("Send notification error:",W)}finally{E(!1)}},De=async()=>{if(!bs.content.trim()){alert("Please enter content to share");return}try{const W=localStorage.getItem("token"),_e=await(await fetch("http://localhost:5000/api/messaging/share",{method:"POST",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify({type:bs.type,content:bs.content,recipient_ids:bs.recipients,is_public:bs.isPublic})})).json();_e.success?(alert("✅ Content shared successfully!"),cs({type:"message",content:"",recipients:[],isPublic:!1}),Ee(!1)):alert(`❌ Failed to share content: ${_e.message}`)}catch(W){alert("Error sharing content"),console.error("Share error:",W)}},hs=async()=>{if(!Ge.file){alert("Please select a file to upload");return}try{const W=localStorage.getItem("token"),ce="http://localhost:5000",ge=new FormData;ge.append("file",Ge.file),ge.append("description",Ge.description),ge.append("recipient_ids",JSON.stringify(Ge.recipients)),ge.append("is_public",Ge.isPublic);const fs=await(await fetch(`${ce}/api/messaging/upload`,{method:"POST",headers:{Authorization:`Bearer ${W}`},body:ge})).json();fs.success?(alert("✅ File uploaded and shared successfully!"),ls({file:null,description:"",recipients:[],isPublic:!1}),ss(!1)):alert(`❌ Failed to upload file: ${fs.message}`)}catch(W){alert("Error uploading file"),console.error("Upload error:",W)}},U=async(W,ce="audio")=>{if(!d){alert("Please select a contact to call");return}try{const ge=`call_${Date.now()}`;Q({isInCall:!0,callType:ce,callParticipants:[A.id,W],callId:ge,isMuted:!1,isVideoOff:!1,isScreenSharing:!1}),te(!0);const _e={callId:ge,callerId:A.id,callerName:A.name,recipientId:W,callType:ce,timestamp:new Date().toISOString()};console.log("Initiating call:",_e),setTimeout(()=>{I({callId:ge,callerName:A.name,callType:ce,timestamp:new Date})},1e3)}catch(ge){console.error("Error initiating call:",ge),alert("Failed to initiate call")}},Re=W=>{Q(ce=>({...ce,isInCall:!0,callId:W})),I(null),te(!0)},$e=()=>{I(null)},Ze=()=>{Q({isInCall:!1,callType:null,callParticipants:[],callId:null,isMuted:!1,isVideoOff:!1,isScreenSharing:!1}),te(!1),I(null)},Oe=()=>{Q(W=>({...W,isMuted:!W.isMuted}))},us=()=>{Q(W=>({...W,isVideoOff:!W.isVideoOff}))},ns=()=>{Q(W=>({...W,isScreenSharing:!W.isScreenSharing}))},Ls=W=>{switch(W){case"email":return e.jsx(ps,{className:"w-4 h-4"});case"sms":return e.jsx(Fe,{className:"w-4 h-4"});case"system":return e.jsx(Ye,{className:"w-4 h-4"});default:return e.jsx(Ye,{className:"w-4 h-4"})}},nt=W=>{switch(W){case"high":case"urgent":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return n?e.jsx("div",{className:`${Ae} rounded-xl shadow-lg p-6 border`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:`h-4 ${s?"bg-gray-700":"bg-gray-200"} rounded w-1/4 mb-4`}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:`h-3 ${s?"bg-gray-700":"bg-gray-200"} rounded`}),e.jsx("div",{className:`h-3 ${s?"bg-gray-700":"bg-gray-200"} rounded w-5/6`})]})]})}):e.jsxs("div",{className:`min-h-screen ${rs} p-4`,children:[e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:`${Ae} rounded-2xl shadow-2xl border overflow-hidden`,style:{height:"calc(100vh - 8rem)"},children:e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:`w-80 min-w-80 max-w-96 border-r ${we} flex flex-col`,children:[e.jsxs("div",{className:`p-4 border-b ${we}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:`text-xl font-bold ${ye} flex-shrink-0`,children:"Messages"}),e.jsxs("div",{className:"flex items-center space-x-1 overflow-x-auto scrollbar-hide",children:[(y==="parent"||y==="teacher")&&e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[e.jsx("button",{onClick:()=>{w.length>0?U(w[0].id,"audio"):alert("No contacts available for calling")},className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",title:"Quick Voice Call",children:e.jsx(We,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{w.length>0?U(w[0].id,"video"):alert("No contacts available for calling")},className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",title:"Quick Video Call",children:e.jsx(ke,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[e.jsx("button",{onClick:()=>c(!0),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",title:"New Message",children:e.jsx(ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ee(!0),className:"p-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors shadow-sm",title:"Share Content",children:e.jsx(Js,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ss(!0),className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-sm",title:"Upload File",children:e.jsx(is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>D(!0),className:"p-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors shadow-sm",title:"Create Group",children:e.jsx(me,{className:"w-4 h-4"})}),y==="student"&&e.jsx("button",{onClick:()=>{D(!0),Os()},className:"p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",title:"Create Group",children:e.jsx(Xs,{className:"w-4 h-4"})}),(y==="admin"||y==="teacher")&&e.jsx("button",{onClick:Zs,className:"p-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors shadow-sm",title:"Broadcast Message",children:e.jsx(me,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${Ve}`}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:C,onChange:W=>J(W.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${we} ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]})]}),e.jsxs("div",{className:`flex border-b ${we} overflow-x-auto scrollbar-hide`,children:[e.jsx("button",{onClick:()=>o("chat"),className:`flex-shrink-0 py-4 px-4 text-sm font-medium transition-colors min-w-0 ${u==="chat"?"text-blue-600 border-b-2 border-blue-500 bg-blue-50 dark:bg-blue-900/20":`${fe} hover:${ye} hover:bg-gray-50 dark:hover:bg-gray-700`}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 whitespace-nowrap",children:[e.jsx(Fe,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"Chats"})]})}),e.jsx("button",{onClick:()=>o("notifications"),className:`flex-shrink-0 py-4 px-4 text-sm font-medium transition-colors min-w-0 ${u==="notifications"?"text-blue-600 border-b-2 border-blue-500 bg-blue-50 dark:bg-blue-900/20":`${fe} hover:${ye} hover:bg-gray-50 dark:hover:bg-gray-700`}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 whitespace-nowrap",children:[e.jsx(Ye,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"Notifications"}),le>0&&e.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1 font-medium flex-shrink-0",children:le})]})}),e.jsx("button",{onClick:()=>o("inbox"),className:`flex-shrink-0 py-4 px-4 text-sm font-medium transition-colors min-w-0 ${u==="inbox"?"text-blue-600 border-b-2 border-blue-500 bg-blue-50 dark:bg-blue-900/20":`${fe} hover:${ye} hover:bg-gray-50 dark:hover:bg-gray-700`}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 whitespace-nowrap",children:[e.jsx(Na,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"Inbox"}),S>0&&e.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1 font-medium flex-shrink-0",children:S})]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:u==="chat"?e.jsx("div",{className:"space-y-2 p-3",children:w.filter(W=>W.name.toLowerCase().includes(C.toLowerCase())||W.role.toLowerCase().includes(C.toLowerCase())).map(W=>e.jsx("div",{onClick:()=>{x(W),l([])},className:`p-4 rounded-xl cursor-pointer transition-all duration-200 ${(d==null?void 0:d.id)===W.id?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 shadow-sm":`${Ue} hover:shadow-sm`}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{src:W.avatar,alt:W.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200 dark:border-gray-600"}),W.online&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-800"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:`font-semibold ${ye} truncate`,children:W.name}),W.unreadCount>0&&e.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-1 ml-2 font-medium",children:W.unreadCount})]}),e.jsxs("p",{className:`text-sm ${fe} capitalize mb-1`,children:[W.role," ",W.subject&&`• ${W.subject}`]}),e.jsx("p",{className:`text-xs ${Ve}`,children:W.lastSeen})]}),(y==="parent"||y==="teacher")&&e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[e.jsx("button",{onClick:ce=>{ce.stopPropagation(),U(W.id,"audio")},className:"p-2 rounded-lg bg-green-100 text-green-600 hover:bg-green-200 transition-colors shadow-sm",title:"Voice Call",children:e.jsx(We,{className:"w-4 h-4"})}),e.jsx("button",{onClick:ce=>{ce.stopPropagation(),U(W.id,"video")},className:"p-2 rounded-lg bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors shadow-sm",title:"Video Call",children:e.jsx(ke,{className:"w-4 h-4"})})]})]})},W.id))}):u==="notifications"?e.jsxs("div",{className:"space-y-1 p-2",children:[e.jsx("div",{className:`p-3 rounded-lg ${Ae} border ${we} mb-3`,children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded",children:[e.jsx("p",{className:`text-xs ${fe}`,children:"Total"}),e.jsx("p",{className:`text-lg font-bold ${ye}`,children:F.length})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-2 rounded",children:[e.jsx("p",{className:`text-xs ${fe}`,children:"Unread"}),e.jsx("p",{className:`text-lg font-bold ${ye}`,children:le})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded",children:[e.jsx("p",{className:`text-xs ${fe}`,children:"Read"}),e.jsx("p",{className:`text-lg font-bold ${ye}`,children:F.length-le})]})]})}),e.jsxs("div",{className:"p-2 space-y-2",children:[y!=="student"&&e.jsx("button",{onClick:()=>Y(!0),className:`w-full p-3 rounded-lg border-2 border-dashed ${we} ${Ue} transition-colors`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Ye,{className:"w-4 h-4"}),e.jsx("span",{className:`text-sm ${fe}`,children:"Send Notification"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>Ee(!0),className:`p-3 rounded-lg border-2 border-dashed ${we} ${Ue} transition-colors`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsx("span",{className:`text-xs ${fe}`,children:"Share"})]})}),e.jsx("button",{onClick:()=>ss(!0),className:`p-3 rounded-lg border-2 border-dashed ${we} ${Ue} transition-colors`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(is,{className:"w-4 h-4"}),e.jsx("span",{className:`text-xs ${fe}`,children:"Upload"})]})})]})]}),e.jsx("div",{className:"space-y-1",children:F.slice(0,10).map(W=>e.jsx("div",{onClick:()=>!W.read_at&&X(W.id),className:`p-3 rounded-lg cursor-pointer transition-all ${W.read_at?`${Ae} border ${we}`:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`p-2 rounded-full ${nt(W.priority)}`,children:Ls(W.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:`font-medium ${ye} truncate`,children:W.title}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${nt(W.priority)}`,children:W.priority}),W.read_at?e.jsx(se,{className:"w-3 h-3 text-green-600"}):e.jsx(Ts,{className:"w-3 h-3 text-blue-600"})]})]}),e.jsx("p",{className:`text-sm ${fe} mb-1 line-clamp-2`,children:W.message}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 space-x-2",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(ie,{className:"w-3 h-3 mr-1"}),new Date(W.created_at).toLocaleDateString()]}),e.jsxs("span",{className:"capitalize",children:[W.type," • ",W.category]})]})]})]})},W.id))})]}):e.jsx("div",{className:"p-4",children:e.jsx("p",{className:`text-center ${Ve}`,children:"Inbox view - Legacy messages"})})})]}),e.jsx("div",{className:"flex-1 flex flex-col",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`p-4 border-b ${we} flex items-center justify-between`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{src:d.avatar,alt:d.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200 dark:border-gray-600"}),d.online&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-800"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:`font-semibold ${ye} text-lg`,children:d.name}),e.jsxs("p",{className:`text-sm ${fe} flex items-center`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${d.online?"bg-green-500":"bg-gray-400"}`}),d.online?"Online":d.lastSeen,B[d.id]&&e.jsx("span",{className:"text-blue-600 ml-2 font-medium",children:"typing..."})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[(y==="parent"||y==="teacher")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>U(d.id,"audio"),className:"p-3 rounded-xl bg-green-100 text-green-600 hover:bg-green-200 transition-colors shadow-sm",title:"Voice Call",children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>U(d.id,"video"),className:"p-3 rounded-xl bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors shadow-sm",title:"Video Call",children:e.jsx(ke,{className:"w-5 h-5"})})]}),e.jsx("button",{className:`p-3 rounded-xl ${Ue} ${fe} hover:${ye} transition-colors`,children:e.jsx(Ca,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.map(W=>e.jsx("div",{className:`flex ${W.is_own?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md ${W.is_own?"order-2":"order-1"}`,children:[!W.is_own&&e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("img",{src:d.avatar,alt:d.name,className:"w-6 h-6 rounded-full object-cover"}),e.jsx("span",{className:`text-xs ${Ve}`,children:W.sender_name})]}),e.jsx("div",{className:`px-4 py-2 rounded-2xl ${W.is_own?"bg-blue-600 text-white":s?"bg-gray-700 text-gray-100":"bg-gray-100 text-gray-900"}`,children:e.jsx("p",{className:"text-sm",children:W.content})}),e.jsxs("div",{className:`flex items-center mt-1 ${W.is_own?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:`text-xs ${Ve}`,children:new Date(W.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),W.is_own&&e.jsxs("div",{className:"ml-2",children:[W.read_status==="sent"&&e.jsx(ie,{className:"w-3 h-3 text-gray-400"}),W.read_status==="delivered"&&e.jsx(se,{className:"w-3 h-3 text-gray-400"}),W.read_status==="read"&&e.jsx(se,{className:"w-3 h-3 text-blue-500"}),W.read_status==="failed"&&e.jsx(Ts,{className:"w-3 h-3 text-red-500"})]})]})]})},W.id)),e.jsx("div",{ref:Ke})]}),e.jsx("div",{className:`p-4 border-t ${we}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:`p-2 rounded-lg ${Ue} ${fe} hover:${ye} transition-colors`,children:e.jsx(Aa,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>Ee(!0),className:`p-2 rounded-lg ${Ue} ${fe} hover:${ye} transition-colors`,title:"Share Content",children:e.jsx(Js,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>ss(!0),className:`p-2 rounded-lg ${Ue} ${fe} hover:${ye} transition-colors`,title:"Upload File",children:e.jsx(is,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:_,onChange:_s,onKeyPress:Ks,placeholder:"Type a message...",className:`w-full px-4 py-3 rounded-full border ${we} ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors`}),e.jsx("button",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded-lg ${Ue} ${fe} hover:${ye} transition-colors`,children:e.jsx(Ea,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:ts,disabled:!_.trim(),className:`p-3 rounded-full transition-colors shadow-sm ${_.trim()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:e.jsx(Es,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Fe,{className:`w-16 h-16 mx-auto mb-4 ${Ve}`}),e.jsx("h3",{className:`text-lg font-medium ${ye} mb-2`,children:"Select a conversation"}),e.jsx("p",{className:`${fe}`,children:"Choose a contact to start messaging"})]})})})]})})}),R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${Ae} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:`text-lg font-semibold ${ye}`,children:"Create Group Chat"}),e.jsx("button",{onClick:()=>D(!1),className:`${Ve} hover:${ye}`,children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Group Name *"}),e.jsx("input",{type:"text",value:L.name,onChange:W=>j(ce=>({...ce,name:W.target.value})),placeholder:"Enter group name",className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Description"}),e.jsx("textarea",{rows:3,value:L.description,onChange:W=>j(ce=>({...ce,description:W.target.value})),placeholder:"Enter group description (optional)",className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Select Members *"}),e.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg p-2",children:O.map(W=>e.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:L.members.includes(W.id),onChange:ce=>{ce.target.checked?j(ge=>({...ge,members:[...ge.members,W.id]})):j(ge=>({...ge,members:ge.members.filter(_e=>_e!==W.id)}))},className:"w-4 h-4 text-blue-600"}),e.jsx("img",{src:W.avatar,alt:W.name,className:"w-6 h-6 rounded-full object-cover"}),e.jsx("span",{className:`text-sm ${ye}`,children:W.name}),e.jsxs("span",{className:`text-xs ${fe}`,children:["(",W.role,")"]})]},W.id))})]}),y!=="student"&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(He,{className:"w-5 h-5 text-red-600"}),e.jsx("h5",{className:"font-medium text-red-900",children:"Group Monitoring (Confidential)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:L.isMonitored,onChange:W=>j(ce=>({...ce,isMonitored:W.target.checked})),className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm text-red-800",children:"Enable confidential group monitoring"})]}),L.isMonitored&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-red-800 mb-1",children:"Monitor Role"}),e.jsxs("select",{value:L.monitorRole,onChange:W=>j(ce=>({...ce,monitorRole:W.target.value})),className:"w-full px-3 py-2 border border-red-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[e.jsx("option",{value:"teacher",children:"Teacher"}),e.jsx("option",{value:"admin",children:"Administrator"}),e.jsx("option",{value:"parent",children:"Parent Representative"})]})]})]}),e.jsx("div",{className:"bg-red-100 border border-red-300 rounded p-2 mt-2",children:e.jsxs("p",{className:"text-xs text-red-800",children:[e.jsx(je,{className:"w-3 h-3 inline mr-1"}),e.jsx("strong",{children:"CONFIDENTIAL:"})," Monitored groups allow designated staff to view messages for safety and educational purposes. All monitoring activities are logged and confidential."]})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>D(!1),className:`px-4 py-2 border ${we} ${fe} rounded-lg ${Ue} transition-colors`,children:"Cancel"}),e.jsx("button",{onClick:Hs,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Create Group"})]})]})}),xe&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${Ae} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:`text-lg font-semibold ${ye}`,children:"Send Notification"}),e.jsx("button",{onClick:()=>Y(!1),className:`${Ve} hover:${ye}`,children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Notification Type"}),e.jsxs("select",{value:K.type,onChange:W=>ae(ce=>({...ce,type:W.target.value})),className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"system",children:"System Notification"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"sms",children:"SMS"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Priority"}),e.jsxs("select",{value:K.priority,onChange:W=>ae(ce=>({...ce,priority:W.target.value})),className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-medium ${fe} mb-1`,children:["Recipient (",K.type==="sms"?"Phone Number":"Email/User ID",")"]}),e.jsx("input",{type:"text",value:K.recipient,onChange:W=>ae(ce=>({...ce,recipient:W.target.value})),placeholder:K.type==="sms"?"+256700000000":K.type==="email"?"user@school.com":"User ID for system notification",className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),(K.type==="email"||K.type==="system")&&e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Subject/Title"}),e.jsx("input",{type:"text",value:K.subject,onChange:W=>ae(ce=>({...ce,subject:W.target.value})),placeholder:"Enter subject or title",className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Message"}),e.jsx("textarea",{value:K.message,onChange:W=>ae(ce=>({...ce,message:W.target.value})),placeholder:"Enter your message here...",rows:4,className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>Y(!1),className:`px-4 py-2 border ${we} ${fe} rounded-lg ${Ue} transition-colors`,children:"Cancel"}),e.jsx("button",{onClick:ue,disabled:V,className:`px-4 py-2 rounded-lg font-medium transition-colors ${V?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:V?"Sending...":"Send Notification"})]})]})}),Pe&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${Ae} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:`text-lg font-semibold ${ye}`,children:"Share Content"}),e.jsx("button",{onClick:()=>Ee(!1),className:`${Ve} hover:${ye}`,children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Content Type"}),e.jsxs("select",{value:bs.type,onChange:W=>cs(ce=>({...ce,type:W.target.value})),className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"message",children:"Message"}),e.jsx("option",{value:"announcement",children:"Announcement"}),e.jsx("option",{value:"resource",children:"Resource"}),e.jsx("option",{value:"link",children:"Link"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Content to Share"}),e.jsx("textarea",{value:bs.content,onChange:W=>cs(ce=>({...ce,content:W.target.value})),placeholder:"Enter content to share...",rows:4,className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Recipients"}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 rounded-lg p-2",children:w.map(W=>e.jsxs("label",{className:"flex items-center space-x-2 p-1 hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:bs.recipients.includes(W.id),onChange:ce=>{ce.target.checked?cs(ge=>({...ge,recipients:[...ge.recipients,W.id]})):cs(ge=>({...ge,recipients:ge.recipients.filter(_e=>_e!==W.id)}))},className:"w-4 h-4 text-blue-600"}),e.jsx("img",{src:W.avatar,alt:W.name,className:"w-6 h-6 rounded-full object-cover"}),e.jsx("span",{className:`text-sm ${ye}`,children:W.name}),e.jsxs("span",{className:`text-xs ${fe}`,children:["(",W.role,")"]})]},W.id))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:bs.isPublic,onChange:W=>cs(ce=>({...ce,isPublic:W.target.checked})),className:"mr-2"}),e.jsx("label",{className:`text-sm ${fe}`,children:"Make this content public (visible to all users)"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>Ee(!1),className:`px-4 py-2 border ${we} ${fe} rounded-lg ${Ue} transition-colors`,children:"Cancel"}),e.jsx("button",{onClick:De,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Share Content"})]})]})}),Te&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${Ae} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:`text-lg font-semibold ${ye}`,children:"Upload & Share File"}),e.jsx("button",{onClick:()=>ss(!1),className:`${Ve} hover:${ye}`,children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Select File"}),e.jsx("input",{type:"file",onChange:W=>ls(ce=>({...ce,file:W.target.files[0]})),className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.mp4,.mp3"}),e.jsx("p",{className:`text-xs ${Ve} mt-1`,children:"Supported formats: PDF, DOC, DOCX, TXT, JPG, PNG, GIF, MP4, MP3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Description"}),e.jsx("textarea",{value:Ge.description,onChange:W=>ls(ce=>({...ce,description:W.target.value})),placeholder:"Enter file description...",rows:3,className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Recipients"}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 rounded-lg p-2",children:w.map(W=>e.jsxs("label",{className:"flex items-center space-x-2 p-1 hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Ge.recipients.includes(W.id),onChange:ce=>{ce.target.checked?ls(ge=>({...ge,recipients:[...ge.recipients,W.id]})):ls(ge=>({...ge,recipients:ge.recipients.filter(_e=>_e!==W.id)}))},className:"w-4 h-4 text-blue-600"}),e.jsx("img",{src:W.avatar,alt:W.name,className:"w-6 h-6 rounded-full object-cover"}),e.jsx("span",{className:`text-sm ${ye}`,children:W.name}),e.jsxs("span",{className:`text-xs ${fe}`,children:["(",W.role,")"]})]},W.id))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:Ge.isPublic,onChange:W=>ls(ce=>({...ce,isPublic:W.target.checked})),className:"mr-2"}),e.jsx("label",{className:`text-sm ${fe}`,children:"Make this file public (visible to all users)"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>ss(!1),className:`px-4 py-2 border ${we} ${fe} rounded-lg ${Ue} transition-colors`,children:"Cancel"}),e.jsx("button",{onClick:hs,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Upload & Share"})]})]})}),R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${Ae} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:`text-lg font-semibold ${ye}`,children:"Create Group"}),e.jsx("button",{onClick:()=>D(!1),className:`${Ve} hover:${ye}`,children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Group Name"}),e.jsx("input",{type:"text",value:L.name,onChange:W=>j(ce=>({...ce,name:W.target.value})),placeholder:"Enter group name...",className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Description"}),e.jsx("textarea",{value:L.description,onChange:W=>j(ce=>({...ce,description:W.target.value})),placeholder:"Enter group description...",rows:3,className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Add Members"}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 rounded-lg p-2",children:O.map(W=>e.jsxs("label",{className:"flex items-center space-x-2 p-1 hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:L.members.includes(W.id),onChange:ce=>{ce.target.checked?j(ge=>({...ge,members:[...ge.members,W.id]})):j(ge=>({...ge,members:ge.members.filter(_e=>_e!==W.id)}))},className:"mr-2"}),e.jsxs("span",{className:`text-sm ${ye}`,children:[W.name," (",W.role,")"]})]},W.id))})]}),(y==="teacher"||y==="admin")&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:L.isMonitored,onChange:W=>j(ce=>({...ce,isMonitored:W.target.checked})),className:"mr-2"}),e.jsx("label",{className:`text-sm ${fe}`,children:"Enable group monitoring"})]}),L.isMonitored&&e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Monitor Role"}),e.jsxs("select",{value:L.monitorRole,onChange:W=>j(ce=>({...ce,monitorRole:W.target.value})),className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"teacher",children:"Teacher"}),e.jsx("option",{value:"admin",children:"Admin"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>D(!1),className:`px-4 py-2 border ${we} ${fe} rounded-lg ${Ue} transition-colors`,children:"Cancel"}),e.jsx("button",{onClick:Hs,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Create Group"})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${Ae} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 border`,children:[e.jsx("h4",{className:`text-lg font-semibold mb-4 ${ye}`,children:"Compose Message"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Recipient"}),e.jsxs("select",{className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"",children:"Select recipient..."}),w.map(W=>e.jsxs("option",{value:W.id,children:[W.name," (",W.role,")"]},W.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${fe} mb-1`,children:"Message"}),e.jsx("textarea",{rows:6,className:`w-full px-3 py-2 border ${we} rounded-lg ${Ae} ${ye} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:"Type your message here..."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>c(!1),className:`px-4 py-2 border ${we} ${fe} rounded-lg ${Ue} transition-colors`,children:"Cancel"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Send Message"})]})]})}),q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:`max-w-md w-full rounded-lg shadow-xl p-6 ${s?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:`w-16 h-16 rounded-full mx-auto flex items-center justify-center ${P.callType==="video"?"bg-blue-100":"bg-green-100"}`,children:P.callType==="video"?e.jsx(ke,{className:"w-8 h-8 text-blue-600"}):e.jsx(We,{className:"w-8 h-8 text-green-600"})})}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${s?"text-white":"text-gray-900"}`,children:P.callType==="video"?"Video Call":"Voice Call"}),e.jsxs("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"} mb-6`,children:["Calling ",(d==null?void 0:d.name)||"Unknown Contact"]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{onClick:Oe,className:`p-3 rounded-full ${P.isMuted?"bg-red-500 text-white":"bg-gray-200 text-gray-700"}`,children:e.jsx(We,{className:"w-5 h-5"})}),P.callType==="video"&&e.jsx("button",{onClick:us,className:`p-3 rounded-full ${P.isVideoOff?"bg-red-500 text-white":"bg-gray-200 text-gray-700"}`,children:e.jsx(ke,{className:"w-5 h-5"})}),e.jsx("button",{onClick:ns,className:`p-3 rounded-full ${P.isScreenSharing?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:e.jsx(Js,{className:"w-5 h-5"})}),e.jsx("button",{onClick:Ze,className:"p-3 rounded-full bg-red-500 text-white",children:e.jsx(We,{className:"w-5 h-5"})})]})]})})}),Z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:`max-w-sm w-full rounded-lg shadow-xl p-6 ${s?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:`w-16 h-16 rounded-full mx-auto flex items-center justify-center ${Z.callType==="video"?"bg-blue-100":"bg-green-100"}`,children:Z.callType==="video"?e.jsx(ke,{className:"w-8 h-8 text-blue-600"}):e.jsx(We,{className:"w-8 h-8 text-green-600"})})}),e.jsxs("h3",{className:`text-lg font-semibold mb-2 ${s?"text-white":"text-gray-900"}`,children:["Incoming ",Z.callType==="video"?"Video":"Voice"," Call"]}),e.jsxs("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"} mb-6`,children:[Z.callerName," is calling you"]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{onClick:()=>Re(Z.callId),className:"p-3 rounded-full bg-green-500 text-white",children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("button",{onClick:$e,className:"p-3 rounded-full bg-red-500 text-white",children:e.jsx(We,{className:"w-5 h-5"})})]})]})})})]})},Ot=({userRole:y,currentUser:A})=>{const[s,i]=t.useState(y==="teacher"?"my-assignments":"student-assignments"),[v,u]=t.useState([]),[o,b]=t.useState(null),[T,w]=t.useState(!0),[$,d]=t.useState(!1),[x,a]=t.useState(!1),[l,n]=t.useState({title:"",description:"",subject:"",class_level:"",due_date:"",max_marks:100,submission_format:"pdf",plagiarism_check:!0,ai_grading:!1}),[h,S]=t.useState({submission_text:"",file:null});t.useEffect(()=>{N()},[s]);const N=async()=>{try{const m=localStorage.getItem("token"),_=await fetch(`http://localhost:5000${y==="teacher"?"/api/assignments/teacher":"/api/assignments/student"}`,{headers:{Authorization:`Bearer ${m}`}});if(_.ok){const z=await _.json();u(z.assignments||[])}else u([])}catch(m){console.error("Error fetching assignments:",m),u([])}finally{w(!1)}},g=async()=>{if(!l.title||!l.subject||!l.class_level||!l.due_date){alert("Please fill in all required fields");return}try{const m=localStorage.getItem("token"),_=await(await fetch("http://localhost:5000/api/assignments/",{method:"POST",headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"},body:JSON.stringify(l)})).json();_.success?(alert("✅ Assignment created successfully!"),n({title:"",description:"",subject:"",class_level:"",due_date:"",max_marks:100,submission_format:"pdf",plagiarism_check:!0,ai_grading:!1}),d(!1),N()):alert(`❌ Failed to create assignment: ${_.message}`)}catch(m){alert("Error creating assignment"),console.error("Create assignment error:",m)}},c=async m=>{if(confirm("Are you sure you want to publish this assignment? Students will be able to see and submit it."))try{const C=localStorage.getItem("token"),z=await(await fetch(`http://localhost:5000/api/assignments/${m}/publish`,{method:"POST",headers:{Authorization:`Bearer ${C}`}})).json();z.success?(alert("✅ Assignment published successfully!"),N()):alert(`❌ Failed to publish assignment: ${z.message}`)}catch(C){alert("Error publishing assignment"),console.error("Publish assignment error:",C)}},r=async m=>{if(!h.submission_text&&!h.file){alert("Please provide either text submission or upload a file");return}a(!0);try{const C=localStorage.getItem("token"),J="http://localhost:5000",_=new FormData;h.submission_text&&_.append("submission_text",h.submission_text),h.file&&_.append("file",h.file);const B=await(await fetch(`${J}/api/assignments/${m}/submit`,{method:"POST",headers:{Authorization:`Bearer ${C}`},body:_})).json();B.success?(alert("✅ Assignment submitted successfully!"),S({submission_text:"",file:null}),b(null),N()):alert(`❌ Failed to submit assignment: ${B.message}`)}catch(C){alert("Error submitting assignment"),console.error("Submit assignment error:",C)}finally{a(!1)}},p=m=>{const C=new Date,J=new Date(m.due_date);return y==="student"?m.submitted?{status:"submitted",color:"green",icon:se}:C>J?{status:"overdue",color:"red",icon:oe}:{status:"pending",color:"yellow",icon:ie}:m.is_published?{status:"published",color:"blue",icon:me}:{status:"draft",color:"gray",icon:re}},k=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return T?e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(be,{className:"w-5 h-5 mr-2 text-blue-600"}),y==="teacher"?"Assignment Management":"My Assignments"]}),y==="teacher"&&e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Create Assignment"]})]}),y==="teacher"&&e.jsxs("div",{className:"flex space-x-4 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>i("my-assignments"),className:`pb-2 px-1 ${s==="my-assignments"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:"My Assignments"}),e.jsxs("button",{onClick:()=>i("analytics"),className:`pb-2 px-1 ${s==="analytics"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(de,{className:"w-4 h-4 inline mr-1"}),"Analytics"]})]})]}),$&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Create New Assignment"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx("input",{type:"text",value:l.title,onChange:m=>n(C=>({...C,title:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Assignment title..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),e.jsxs("select",{value:l.subject,onChange:m=>n(C=>({...C,subject:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select subject..."}),e.jsx("option",{value:"Mathematics",children:"Mathematics"}),e.jsx("option",{value:"English Language",children:"English Language"}),e.jsx("option",{value:"Physics",children:"Physics"}),e.jsx("option",{value:"Chemistry",children:"Chemistry"}),e.jsx("option",{value:"Biology",children:"Biology"}),e.jsx("option",{value:"History",children:"History"}),e.jsx("option",{value:"Geography",children:"Geography"}),e.jsx("option",{value:"Literature",children:"Literature"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class Level *"}),e.jsxs("select",{value:l.class_level,onChange:m=>n(C=>({...C,class_level:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select class..."}),e.jsx("option",{value:"S1",children:"S1"}),e.jsx("option",{value:"S2",children:"S2"}),e.jsx("option",{value:"S3",children:"S3"}),e.jsx("option",{value:"S4",children:"S4"}),e.jsx("option",{value:"S5",children:"S5"}),e.jsx("option",{value:"S6",children:"S6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date *"}),e.jsx("input",{type:"datetime-local",value:l.due_date,onChange:m=>n(C=>({...C,due_date:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Marks"}),e.jsx("input",{type:"number",value:l.max_marks,onChange:m=>n(C=>({...C,max_marks:parseInt(m.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",max:"1000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submission Format"}),e.jsxs("select",{value:l.submission_format,onChange:m=>n(C=>({...C,submission_format:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"pdf",children:"PDF"}),e.jsx("option",{value:"doc",children:"Word Document"}),e.jsx("option",{value:"txt",children:"Text"}),e.jsx("option",{value:"any",children:"Any Format"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:l.description,onChange:m=>n(C=>({...C,description:m.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Assignment instructions and requirements..."})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:l.plagiarism_check,onChange:m=>n(C=>({...C,plagiarism_check:m.target.checked})),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable plagiarism detection"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:l.ai_grading,onChange:m=>n(C=>({...C,ai_grading:m.target.checked})),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable AI-assisted grading"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Assignment"})]})]})}),o&&y==="student"&&!o.submitted&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-4",children:["Submit Assignment: ",o.title]}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Subject:"})," ",o.subject]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Due Date:"})," ",k(o.due_date)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Max Marks:"})," ",o.max_marks]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Text Submission"}),e.jsx("textarea",{value:h.submission_text,onChange:m=>S(C=>({...C,submission_text:m.target.value})),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type your submission here..."})]}),e.jsx("div",{className:"text-center text-gray-500",children:"OR"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["File Upload (",o.submission_format.toUpperCase(),")"]}),e.jsx("input",{type:"file",onChange:m=>S(C=>({...C,file:m.target.files[0]})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",accept:o.submission_format==="pdf"?".pdf":o.submission_format==="doc"?".doc,.docx":o.submission_format==="txt"?".txt":"*"}),h.file&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Selected: ",h.file.name]})]}),o.plagiarism_check_enabled&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(oe,{className:"w-4 h-4 inline mr-1"}),"This assignment will be checked for plagiarism. Ensure your work is original."]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>r(o.id),disabled:x,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:x?"Submitting...":"Submit Assignment"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg",children:e.jsx("div",{className:"p-6",children:v.length>0?e.jsx("div",{className:"space-y-4",children:v.map(m=>{const C=p(m),J=C.icon;return e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:m.title}),e.jsxs("span",{className:`flex items-center px-2 py-1 rounded-full text-xs font-medium bg-${C.color}-100 text-${C.color}-800`,children:[e.jsx(J,{className:"w-3 h-3 mr-1"}),C.status]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Subject:"})," ",m.subject]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Class:"})," ",m.class_level]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Due:"})," ",k(m.due_date)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Marks:"})," ",m.max_marks]})]}),m.description&&e.jsx("p",{className:"text-sm text-gray-700 mb-3 line-clamp-2",children:m.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[m.plagiarism_check_enabled&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(oe,{className:"w-3 h-3 mr-1"}),"Plagiarism Check"]}),m.ai_grading_enabled&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(de,{className:"w-3 h-3 mr-1"}),"AI Grading"]}),y==="teacher"&&m.submission_count!==void 0&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(me,{className:"w-3 h-3 mr-1"}),m.submission_count," submissions"]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[y==="teacher"&&e.jsxs(e.Fragment,{children:[!m.is_published&&e.jsx("button",{onClick:()=>c(m.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Publish"}),e.jsx("button",{onClick:()=>b(m),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"View Details"})]}),y==="student"&&e.jsx(e.Fragment,{children:m.submitted?e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 mx-auto mb-1"}),e.jsx("span",{className:"text-xs text-green-600",children:"Submitted"}),m.submission&&m.submission.marks_obtained!==null&&e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Grade: ",m.submission.grade," (",m.submission.marks_obtained,"/",m.max_marks,")"]})]}):e.jsx("button",{onClick:()=>b(m),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Submit"})})]})]})},m.id)})}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(be,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No assignments found"}),e.jsx("p",{className:"text-sm",children:y==="teacher"?"Create your first assignment to get started":"Assignments will appear here when teachers publish them"})]})})})]})},Ja=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("dashboard"),[u,o]=t.useState([]),[b,T]=t.useState(null),[w,$]=t.useState(!0),[d,x]=t.useState(!1),[a,l]=t.useState(!1),[n,h]=t.useState(""),[S,N]=t.useState("all"),[g,c]=t.useState({}),[r,p]=t.useState([]),[k,m]=t.useState(null),[C,J]=t.useState(!1),[_,z]=t.useState({name:"",subject:"",class_level:"",description:"",structure:{objectives:!0,activities:!0,resources:!0,assessment:!0,homework:!0}}),[B,f]=t.useState({title:"",subject:"",class_level:"",topic:"",lesson_date:"",duration_minutes:40,period_number:1,objectives:[],activities:[],resources:[],assessment:"",homework:"",uneb_alignment:"",difficulty_level:"medium",teaching_methods:[],learning_outcomes:[]}),[R,D]=t.useState({}),[L,j]=t.useState(null),O=s?"bg-gray-800 border border-gray-700":"bg-white",M=s?"text-white":"text-gray-900",P=s?"text-gray-300":"text-gray-600",Q=s?"text-gray-400":"text-gray-500",q=s?"text-gray-300":"text-gray-700",te="w-full px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",Z=s?`${te} bg-gray-700 border border-gray-600 text-white placeholder-gray-300`:`${te} bg-white border border-gray-300 text-gray-900 placeholder-gray-500`;t.useEffect(()=>{y==="teacher"&&(I(),F(),i==="weekly-schedule"&&G(),i==="analytics"&&le())},[i,y]);const I=async()=>{try{const V=localStorage.getItem("token"),K=await fetch("http://localhost:5000/api/lesson-plans/",{headers:{Authorization:`Bearer ${V}`}});if(K.ok){const ae=await K.json();o(ae.lesson_plans||[])}else o([])}catch(V){console.error("Error fetching lesson plans:",V),o([])}finally{$(!1)}},F=async()=>{try{const V=localStorage.getItem("token"),K=await fetch("http://localhost:5000/api/lesson-plans/subjects",{headers:{Authorization:`Bearer ${V}`}});if(K.ok){const ae=await K.json();c(ae.subjects||{})}else c({})}catch(V){console.error("Error fetching subjects:",V),c({})}},G=async()=>{try{const V=localStorage.getItem("token"),E="http://localhost:5000",K=new Date,Pe=new Date(K.setDate(K.getDate()-K.getDay()+1)).toISOString().split("T")[0],Ee=await fetch(`${E}/api/lesson-plans/weekly-schedule?start_date=${Pe}`,{headers:{Authorization:`Bearer ${V}`}});if(Ee.ok){const Te=await Ee.json();D(Te.weekly_schedule||{})}}catch(V){console.error("Error fetching weekly schedule:",V)}},le=async()=>{try{const V=localStorage.getItem("token"),K=await fetch("http://localhost:5000/api/lesson-plans/analytics",{headers:{Authorization:`Bearer ${V}`}});if(K.ok){const ae=await K.json();j(ae.analytics||null)}}catch(V){console.error("Error fetching analytics:",V)}},H=async()=>{if(!B.title||!B.subject||!B.class_level||!B.topic||!B.lesson_date){alert("Please fill in all required fields");return}try{const V=localStorage.getItem("token"),ae=await(await fetch("http://localhost:5000/api/lesson-plans/",{method:"POST",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"},body:JSON.stringify(B)})).json();ae.success?(alert("✅ Lesson plan created successfully with AI suggestions!"),f({title:"",subject:"",class_level:"",topic:"",lesson_date:"",duration_minutes:40,period_number:1}),x(!1),I()):alert(`❌ Failed to create lesson plan: ${ae.message}`)}catch(V){alert("Error creating lesson plan"),console.error("Create lesson plan error:",V)}},xe=async V=>{const E=prompt("Rate the lesson effectiveness (1-5):");if(!E||E<1||E>5){alert("Please enter a rating between 1 and 5");return}const K=prompt("Enter your reflection on the lesson:");if(!K){alert("Please enter your reflection");return}try{const ae=localStorage.getItem("token"),Te=await(await fetch(`http://localhost:5000/api/lesson-plans/${V}/complete`,{method:"POST",headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"},body:JSON.stringify({effectiveness_rating:parseInt(E),reflection:K})})).json();Te.success?(alert("✅ Lesson marked as completed!"),I()):alert(`❌ Failed to complete lesson: ${Te.message}`)}catch(ae){alert("Error completing lesson"),console.error("Complete lesson error:",ae)}},Y=async()=>{const V=prompt("Enter subject name:");if(!V)return;const E=prompt("Enter class level (S1-S6):");if(!E)return;const K=prompt("Enter term (Term 1, Term 2, Term 3):")||"Term 1";try{const ae=localStorage.getItem("token"),Te=await(await fetch(`http://localhost:5000/api/lesson-plans/scheme-of-work?subject=${V}&class_level=${E}&term=${K}`,{headers:{Authorization:`Bearer ${ae}`}})).json();Te.success?(alert(`✅ Scheme of work generated for ${V} ${E} ${K}!
Check the detailed view for the complete scheme.`),console.log("Scheme of Work:",Te.scheme_of_work)):alert(`❌ Failed to generate scheme: ${Te.message}`)}catch(ae){alert("Error generating scheme of work"),console.error("Scheme generation error:",ae)}};return y!=="teacher"?e.jsx("div",{className:`${O} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:`text-center py-8 ${Q}`,children:[e.jsx(be,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Lesson planning is only available for teachers."})]})}):w?e.jsx("div",{className:`${O} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})}):e.jsxs("div",{className:`space-y-6 ${s?"text-white":""}`,children:[e.jsxs("div",{className:`${O} rounded-xl shadow-lg p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:`text-2xl font-bold flex items-center ${M}`,children:[e.jsx(pe,{className:"w-7 h-7 mr-3 text-blue-600"}),"AI-Powered Lesson Planning"]}),e.jsx("p",{className:`${P} mt-1`,children:"UNEB-aligned curriculum planning with intelligent assistance"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Create Lesson"]}),e.jsxs("button",{onClick:Y,className:"flex items-center px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all shadow-lg",children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"AI Scheme"]}),e.jsxs("button",{onClick:()=>{const V=document.createElement("input");V.type="file",V.accept=".json,.csv,.xlsx",V.onchange=E=>{const K=E.target.files[0];K&&alert(`✅ Importing lesson plan from:

${K.name}

Processing...`)},V.click()},className:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all shadow-lg",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Import"]})]})]}),e.jsx("div",{className:`flex space-x-1 ${s?"bg-gray-700":"bg-gray-100"} rounded-lg p-1`,children:[{id:"dashboard",label:"Dashboard",icon:de},{id:"lesson-plans",label:"My Lessons",icon:be},{id:"templates",label:"Templates",icon:re},{id:"weekly-schedule",label:"Schedule",icon:ne},{id:"analytics",label:"Analytics",icon:he}].map(V=>e.jsxs("button",{onClick:()=>v(V.id),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all ${i===V.id?`${s?"bg-gray-800":"bg-white"} text-blue-600 shadow-sm`:`${P} hover:text-blue-600 ${s?"hover:bg-gray-600":"hover:bg-white/50"}`}`,children:[e.jsx(V.icon,{className:"w-4 h-4 mr-2"}),V.label]},V.id))})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${O} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto`,children:[e.jsx("h4",{className:`text-lg font-semibold mb-4 ${M}`,children:"Create New Lesson Plan"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${q}`,children:"Lesson Title *"}),e.jsx("input",{type:"text",value:B.title,onChange:V=>f(E=>({...E,title:V.target.value})),className:Z,placeholder:"Enter lesson title..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${q}`,children:"Subject *"}),e.jsxs("select",{value:B.subject,onChange:V=>f(E=>({...E,subject:V.target.value})),className:Z,children:[e.jsx("option",{value:"",children:"Select subject..."}),Object.keys(g).map(V=>e.jsx("option",{value:V,children:V},V))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${q}`,children:"Class Level *"}),e.jsxs("select",{value:B.class_level,onChange:V=>f(E=>({...E,class_level:V.target.value})),className:Z,children:[e.jsx("option",{value:"",children:"Select class..."}),e.jsx("option",{value:"S1",children:"S1"}),e.jsx("option",{value:"S2",children:"S2"}),e.jsx("option",{value:"S3",children:"S3"}),e.jsx("option",{value:"S4",children:"S4"}),e.jsx("option",{value:"S5",children:"S5"}),e.jsx("option",{value:"S6",children:"S6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${q}`,children:"Topic *"}),e.jsxs("select",{value:B.topic,onChange:V=>f(E=>({...E,topic:V.target.value})),className:Z,disabled:!B.subject||!B.class_level,children:[e.jsx("option",{value:"",children:"Select topic..."}),B.subject&&B.class_level&&g[B.subject]&&g[B.subject][B.class_level]&&g[B.subject][B.class_level].map(V=>e.jsx("option",{value:V,children:V},V))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${q}`,children:"Lesson Date *"}),e.jsx("input",{type:"date",value:B.lesson_date,onChange:V=>f(E=>({...E,lesson_date:V.target.value})),className:Z})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${q}`,children:"Duration (minutes)"}),e.jsx("input",{type:"number",value:B.duration_minutes,onChange:V=>f(E=>({...E,duration_minutes:parseInt(V.target.value)})),className:Z,min:"30",max:"120"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${q}`,children:"Period Number"}),e.jsxs("select",{value:B.period_number,onChange:V=>f(E=>({...E,period_number:parseInt(V.target.value)})),className:Z,children:[e.jsx("option",{value:1,children:"Period 1"}),e.jsx("option",{value:2,children:"Period 2"}),e.jsx("option",{value:3,children:"Period 3"}),e.jsx("option",{value:4,children:"Period 4"}),e.jsx("option",{value:5,children:"Period 5"}),e.jsx("option",{value:6,children:"Period 6"}),e.jsx("option",{value:7,children:"Period 7"}),e.jsx("option",{value:8,children:"Period 8"})]})]})]}),e.jsx("div",{className:`${s?"bg-blue-900 border border-blue-800":"bg-blue-50 border border-blue-200"} rounded-lg p-3`,children:e.jsxs("p",{className:`text-sm ${s?"text-blue-100":"text-blue-800"}`,children:[e.jsx(mt,{className:"w-4 h-4 inline mr-1"}),"AI will generate UNEB-aligned objectives, activities, and assessment methods based on your selections."]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:H,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create with AI Assistance"})]})]})}),i==="dashboard"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:`${O} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${P}`,children:"Total Lessons"}),e.jsx("p",{className:`text-3xl font-bold ${M}`,children:u.length}),u.filter(V=>V.is_completed).length>0&&e.jsxs("p",{className:"text-green-600 text-sm",children:[u.filter(V=>V.is_completed).length," completed"]})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(be,{className:"w-8 h-8 text-blue-600"})})]})}),e.jsx("div",{className:`${O} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${P}`,children:"This Week"}),e.jsx("p",{className:`text-3xl font-bold ${M}`,children:Object.values(R||{}).reduce((V,E)=>V+(Array.isArray(E)?E.length:0),0)}),u.filter(V=>V.is_completed).length>0&&e.jsxs("p",{className:"text-blue-600 text-sm",children:[u.filter(V=>V.is_completed).length," completed"]})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(ne,{className:"w-8 h-8 text-green-600"})})]})}),e.jsx("div",{className:`${O} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${P}`,children:"AI Suggestions"}),e.jsx("p",{className:`text-3xl font-bold ${M}`,children:Array.isArray(k)?k.length:0})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(pe,{className:"w-8 h-8 text-purple-600"})})]})})]}),e.jsxs("div",{className:`${O} rounded-xl shadow-lg p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${M}`,children:"Recent Lessons"}),e.jsx("button",{onClick:()=>v("lesson-plans"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:u.slice(0,3).map(V=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${s?"bg-gray-700 border border-gray-600":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-blue-100 rounded-lg p-2",children:e.jsx(be,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${M}`,children:V.title}),e.jsxs("p",{className:`text-sm ${P}`,children:[V.subject," • ",V.class_level]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-sm ${P}`,children:V.lesson_date}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${V.status==="completed"?"bg-green-100 text-green-800":V.status==="planned"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:V.status})]})]},V.id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[k&&e.jsxs("div",{className:`${O} rounded-xl shadow-lg p-6`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${M}`,children:"AI Assistant"}),e.jsx("div",{className:"space-y-4",children:Array.isArray(k)&&k.length===0&&e.jsx("div",{className:`${s?"text-gray-400":"text-gray-500"} text-sm`,children:"No AI suggestions available."})})]}),e.jsxs("div",{className:`${O} rounded-xl shadow-lg p-6`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${M}`,children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>x(!0),className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Create New Lesson"]}),e.jsxs("button",{onClick:()=>v("templates"),className:"w-full flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Use Template"]}),e.jsxs("button",{onClick:Y,className:"w-full flex items-center justify-center px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Generate Scheme"]})]})]})]})]}),i==="templates"&&e.jsxs("div",{className:`${O} rounded-xl shadow-lg p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${M}`,children:"Lesson Plan Templates"}),e.jsxs("button",{onClick:()=>J(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Create Template"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map((V,E)=>e.jsx("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all cursor-pointer",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:`font-semibold mb-2 ${M}`,children:V.name}),e.jsx("p",{className:`text-sm ${P} mb-3`,children:V.subject}),e.jsx("button",{onClick:()=>{alert(`✅ Using Template: ${V.name}

Template loaded!

You can now customize it for your lesson.`)},className:"mt-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:"Use Template"})]})},E)):e.jsx("div",{className:`${s?"text-gray-400":"text-gray-500"} text-sm`,children:"No templates available."})})]}),i==="lesson-plans"&&e.jsx("div",{className:`${O} rounded-xl shadow-lg`,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:`font-medium mb-4 ${M}`,children:"My Lesson Plans"}),u.length>0?e.jsx("div",{className:"space-y-4",children:u.map(V=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h5",{className:"font-semibold text-gray-800",children:V.title}),V.is_completed?e.jsxs("span",{className:"flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),"Completed"]}):e.jsxs("span",{className:"flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(ie,{className:"w-3 h-3 mr-1"}),"Pending"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Subject:"})," ",V.subject]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Class:"})," ",V.class_level]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Topic:"})," ",V.topic]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(V.lesson_date).toLocaleDateString()]})]}),V.uneb_objective&&e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("strong",{children:"UNEB Objective:"})," ",V.uneb_objective]}),V.effectiveness_rating&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ie,{className:"w-4 h-4 mr-1 text-yellow-500"}),e.jsxs("span",{children:["Effectiveness: ",V.effectiveness_rating,"/5"]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("button",{onClick:()=>T(V),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"View Details"}),!V.is_completed&&e.jsx("button",{onClick:()=>xe(V.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Mark Complete"})]})]})},V.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(be,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No lesson plans found"}),e.jsx("p",{className:"text-sm",children:"Create your first UNEB-aligned lesson plan to get started"})]})]})}),i==="weekly-schedule"&&e.jsx("div",{className:`${O} rounded-xl shadow-lg`,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:`font-medium mb-4 ${M}`,children:"Weekly Schedule"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(V=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:V}),R[V]?e.jsx("div",{className:"space-y-2",children:R[V].map(E=>e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2 text-xs",children:[e.jsx("div",{className:"font-medium",children:E.subject}),e.jsx("div",{className:"text-gray-600",children:E.class_level}),e.jsxs("div",{className:"text-gray-600",children:["Period ",E.period_number]})]},E.id))}):e.jsx("div",{className:"text-gray-400 text-xs",children:"No lessons"})]},V))})]})}),i==="analytics"&&L&&e.jsx("div",{className:`${O} rounded-xl shadow-lg`,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:`font-medium mb-4 ${M}`,children:"Lesson Planning Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-800",children:L.total_lessons}),e.jsx("div",{className:"text-sm text-blue-600",children:"Total Lessons"})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-800",children:L.completed_lessons}),e.jsx("div",{className:"text-sm text-green-600",children:"Completed"})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-800",children:L.pending_lessons}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Pending"})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-800",children:L.average_effectiveness_rating}),e.jsx("div",{className:"text-sm text-purple-600",children:"Avg. Rating"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-3",children:"Subject Distribution"}),e.jsx("div",{className:"space-y-2",children:Object.entries(L.subject_distribution).map(([V,E])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-700",children:V}),e.jsx("span",{className:"text-sm font-medium",children:E})]},V))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-3",children:"Class Distribution"}),e.jsx("div",{className:"space-y-2",children:Object.entries(L.class_distribution).map(([V,E])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-700",children:V}),e.jsx("span",{className:"text-sm font-medium",children:E})]},V))})]})]})]})}),C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${O} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${M}`,children:"Create Lesson Plan Template"}),e.jsx("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("form",{onSubmit:V=>{V.preventDefault(),alert(`✅ Template Created Successfully!

Template: ${_.name}
Subject: ${_.subject}
Class Level: ${_.class_level}

Template is now available for creating new lesson plans.`),z({name:"",subject:"",class_level:"",description:"",structure:{objectives:!0,activities:!0,resources:!0,assessment:!0,homework:!0}}),J(!1)},children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${q}`,children:"Template Name *"}),e.jsx("input",{type:"text",value:_.name,onChange:V=>z(E=>({...E,name:V.target.value})),required:!0,placeholder:"e.g., Standard Physics Template",className:Z})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${q}`,children:"Subject *"}),e.jsxs("select",{value:_.subject,onChange:V=>z(E=>({...E,subject:V.target.value})),required:!0,className:Z,children:[e.jsx("option",{value:"",children:"Select subject..."}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"physics",children:"Physics"}),e.jsx("option",{value:"chemistry",children:"Chemistry"}),e.jsx("option",{value:"biology",children:"Biology"}),e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"history",children:"History"}),e.jsx("option",{value:"geography",children:"Geography"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${q}`,children:"Class Level *"}),e.jsxs("select",{value:_.class_level,onChange:V=>z(E=>({...E,class_level:V.target.value})),required:!0,className:Z,children:[e.jsx("option",{value:"",children:"Select class..."}),e.jsx("option",{value:"S1",children:"S1"}),e.jsx("option",{value:"S2",children:"S2"}),e.jsx("option",{value:"S3",children:"S3"}),e.jsx("option",{value:"S4",children:"S4"}),e.jsx("option",{value:"S5",children:"S5"}),e.jsx("option",{value:"S6",children:"S6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${q}`,children:"Description"}),e.jsx("textarea",{value:_.description,onChange:V=>z(E=>({...E,description:V.target.value})),rows:"3",placeholder:"Describe the template structure and purpose...",className:Z})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-3 ${q}`,children:"Template Structure"}),e.jsx("div",{className:"space-y-3",children:Object.entries(_.structure).map(([V,E])=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:K=>z(ae=>({...ae,structure:{...ae.structure,[V]:K.target.checked}})),className:"mr-3"}),e.jsxs("span",{className:P,children:["Include ",V.charAt(0).toUpperCase()+V.slice(1)," section"]})]},V))})]}),e.jsx("div",{className:`${s?"bg-blue-900 border border-blue-800":"bg-blue-50 border border-blue-200"} rounded-lg p-3`,children:e.jsxs("p",{className:`text-sm ${s?"text-blue-100":"text-blue-800"}`,children:[e.jsx(mt,{className:"w-4 h-4 inline mr-1"}),"This template will be used as a starting point for creating new lesson plans. You can customize the structure and add default content."]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Template"})]})]})]})})]})},Ya=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("general"),[v,u]=t.useState(!1),[o,b]=t.useState(!1),[T,w]=t.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"System Status"}),e.jsx("p",{className:"text-lg font-bold text-green-800",children:"—"})]}),e.jsx(se,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Database"}),e.jsx("p",{className:"text-lg font-bold text-blue-800",children:"—"})]}),e.jsx(vt,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Last Backup"}),e.jsx("p",{className:"text-lg font-bold text-purple-800",children:"—"})]}),e.jsx(He,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Storage Used"}),e.jsxs("p",{className:"text-lg font-bold text-yellow-800",children:[0,"%"]})]}),e.jsx(na,{className:"w-8 h-8 text-yellow-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"general",label:"General Settings",icon:Xe},{id:"database",label:"Database",icon:vt},{id:"backup",label:"Backup & Security",icon:He},{id:"notifications",label:"Notifications",icon:ps},{id:"integrations",label:"Integrations",icon:ia}].map(d=>e.jsxs("button",{onClick:()=>i(d.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===d.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(d.icon,{className:"w-4 h-4 mr-2"}),d.label]},d.id))})}),e.jsxs("div",{className:"p-6",children:[s==="general"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"General System Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School Name"}),e.jsx("input",{type:"text",defaultValue:"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School Address"}),e.jsx("textarea",{rows:"3",defaultValue:"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Academic Year"}),e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:e.jsx("option",{value:"",children:"Select year"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Term"}),e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:e.jsx("option",{value:"",children:"Select term"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:e.jsx("option",{value:"",children:"Select time zone"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:e.jsx("option",{value:"",children:"Select language"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:e.jsx("option",{value:"",children:"Select currency"})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"maintenance",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"maintenance",className:"ml-2 block text-sm text-gray-700",children:"Enable Maintenance Mode"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>alert(`Settings saved successfully! ✅

Your system settings have been updated.`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Settings"})]})]}),s==="database"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Database Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Connection Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Database Host"}),e.jsx("input",{type:"text",defaultValue:"",placeholder:"Enter database host",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Database Port"}),e.jsx("input",{type:"text",defaultValue:"",placeholder:"Enter port",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Database Name"}),e.jsx("input",{type:"text",defaultValue:"",placeholder:"Enter database name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("button",{onClick:()=>u(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Test Connection"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Database Status"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Connection Status"}),e.jsx("span",{className:"text-sm font-medium",children:"—"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Database Size"}),e.jsx("span",{className:"text-sm font-medium",children:"—"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Tables"}),e.jsx("span",{className:"text-sm font-medium",children:"—"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Last Optimized"}),e.jsx("span",{className:"text-sm font-medium",children:"—"})]})]}),e.jsx("button",{onClick:()=>b(!0),className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Optimize Database"})]})]})]}),s==="backup"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Backup & Security"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Automatic Backups"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"auto-backup",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"auto-backup",className:"ml-2 block text-sm text-gray-700",children:"Enable Automatic Backups"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backup Frequency"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backup Time"}),e.jsx("input",{type:"time",defaultValue:"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Retention Period (days)"}),e.jsx("input",{type:"number",defaultValue:"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Recent Backups"}),e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"text-center text-gray-500 p-6 bg-gray-50 rounded-lg",children:"No recent backups"})}),e.jsx("button",{onClick:()=>w(!0),className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Backup Now"})]})]})]}),s==="notifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Notification Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"SMS Configuration"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMS Provider"}),e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:e.jsx("option",{value:"",children:"Select provider"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),e.jsx("input",{type:"password",placeholder:"Enter API Key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sender ID"}),e.jsx("input",{type:"text",defaultValue:"",placeholder:"Enter Sender ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Email Configuration"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Host"}),e.jsx("input",{type:"text",defaultValue:"",placeholder:"Enter SMTP host",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Port"}),e.jsx("input",{type:"text",defaultValue:"",placeholder:"Enter SMTP port",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",defaultValue:"",placeholder:"Enter notification email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Notification Types"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsx("div",{className:"text-center text-gray-500 p-6 bg-gray-50 rounded-lg",children:"No notification types configured"})})]})]}),s==="integrations"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Third-Party Integrations"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsx("div",{className:"text-center text-gray-500 p-6 bg-gray-50 rounded-lg",children:"No integrations configured"})})]})]})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🔧 Test Database Connection"}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"test-connection-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Database Host *"}),e.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"localhost",defaultValue:"localhost",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Port *"}),e.jsx("input",{type:"number",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"3306",defaultValue:"3306",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Username *"}),e.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"root",defaultValue:"root",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Password"}),e.jsx("input",{type:"password",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"Enter password (if any)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Database Name *"}),e.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"smart_school_db",defaultValue:"smart_school_db",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Connection Type"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"mysql",children:"MySQL"}),e.jsx("option",{value:"postgresql",children:"PostgreSQL"}),e.jsx("option",{value:"sqlite",children:"SQLite"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"ssl-connection",className:"mr-2"}),e.jsx("label",{htmlFor:"ssl-connection",className:"text-sm text-gray-700",children:"Use SSL Connection"})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"test-connection-form",className:"flex-1 py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Test Connection"})]})})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🔧 Database Optimization"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"optimize-database-form",className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Optimization Process"}),e.jsx("p",{className:"text-sm text-blue-800",children:"This process will analyze and optimize your database for better performance. Estimated time: 2-5 minutes."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Optimization Type"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"full",children:"Full Optimization"}),e.jsx("option",{value:"indexes",children:"Rebuild Indexes Only"}),e.jsx("option",{value:"cleanup",children:"Cleanup Unused Data"}),e.jsx("option",{value:"analyze",children:"Analyze Tables Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Tables to Optimize"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"all",children:"All Tables"}),e.jsx("option",{value:"users",children:"Users Table"}),e.jsx("option",{value:"attendance",children:"Attendance Table"}),e.jsx("option",{value:"payments",children:"Payments Table"}),e.jsx("option",{value:"exams",children:"Exams Table"}),e.jsx("option",{value:"custom",children:"Custom Selection"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Optimization Options"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Analyze table structures"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Rebuild indexes"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Clean up unused data"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Optimize query performance"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Create optimization report"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Schedule Optimization"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"now",children:"Run Now"}),e.jsx("option",{value:"schedule",children:"Schedule for Later"})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"optimize-database-form",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Start Optimization"})]})})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"💾 Create System Backup"}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"backup-form",className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Backup Process"}),e.jsx("p",{className:"text-sm text-green-800",children:"This will create a complete system backup including database, files, and configuration. Estimated time: 3-7 minutes."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Backup Type"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"full",children:"Full System Backup"}),e.jsx("option",{value:"database",children:"Database Only"}),e.jsx("option",{value:"files",children:"Files Only"}),e.jsx("option",{value:"config",children:"Configuration Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Backup Name"}),e.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"backup_2024_10_16",defaultValue:`backup_${new Date().toISOString().split("T")[0]}`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Storage Location"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"local",children:"Local Storage"}),e.jsx("option",{value:"cloud",children:"Cloud Storage"}),e.jsx("option",{value:"external",children:"External Drive"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Backup Components"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Database backup"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"File system backup"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Configuration backup"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"User data backup"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Log files backup"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Compression Level"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"none",children:"No Compression"}),e.jsx("option",{value:"low",children:"Low Compression (Faster)"}),e.jsx("option",{value:"medium",selected:!0,children:"Medium Compression"}),e.jsx("option",{value:"high",children:"High Compression (Smaller)"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"verify-backup",defaultChecked:!0,className:"mr-2"}),e.jsx("label",{htmlFor:"verify-backup",className:"text-sm text-gray-700",children:"Verify backup integrity after creation"})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"backup-form",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Create Backup"})]})})]})})]})},Qa=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("create"),[v,u]=t.useState("multiple-choice"),[o,b]=t.useState(!0),T=[],w=[],$=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Create New Exam"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-600",children:"AI-Powered"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Title"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter exam title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{children:"Mathematics"}),e.jsx("option",{children:"Physics"}),e.jsx("option",{children:"Chemistry"}),e.jsx("option",{children:"Biology"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Level"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{children:"S4"}),e.jsx("option",{children:"S5"}),e.jsx("option",{children:"S6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"120"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Type"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["multiple-choice","essay","mixed"].map(a=>e.jsxs("button",{onClick:()=>u(a),className:`p-4 border-2 rounded-lg text-center transition-all ${v===a?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium capitalize",children:a.replace("-"," ")}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[a==="multiple-choice"&&"Auto-graded questions",a==="essay"&&"Written responses",a==="mixed"&&"Both types combined"]})]},a))})]}),o&&e.jsxs("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(Ss,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-medium text-purple-800",children:"AI Question Generation"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-1",children:"Number of Questions"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-1",children:"Difficulty Level"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{children:"Easy"}),e.jsx("option",{children:"Medium"}),e.jsx("option",{children:"Hard"}),e.jsx("option",{children:"Mixed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-1",children:"Topics"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Algebra, Calculus"})]})]}),e.jsx("button",{onClick:()=>{var a;alert(`🤖 AI Question Generation Started!

Generating questions based on:
- Subject: `+(((a=document.querySelector("select"))==null?void 0:a.value)||"Selected subject")+`
- Number of questions: 20
- Difficulty: Mixed

This will take a few moments...`)},className:"mt-4 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Generate Questions with AI"})]}),e.jsxs("div",{className:"mt-6 flex justify-between",children:[e.jsx("button",{onClick:()=>{alert(`✅ Exam saved as draft!

You can continue editing later from the Drafts section.`)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Save as Draft"}),e.jsx("button",{onClick:()=>{var l;const a=((l=document.querySelector('input[placeholder*="exam"]'))==null?void 0:l.value)||"New Exam";alert(`✅ Exam Created Successfully!

Exam: ${a}
Status: Published

Students can now access this exam.`)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Exam"})]})]})}),d=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Exam Templates"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(a=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:a.name}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Questions:"}),e.jsx("span",{children:a.questions})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Duration:"}),e.jsxs("span",{children:[a.duration," min"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Difficulty:"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.difficulty==="Hard"?"bg-red-100 text-red-800":a.difficulty==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:a.difficulty})]})]}),e.jsx("button",{className:"w-full mt-4 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Use Template"})]},a.id))})]})}),x=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Exams"}),e.jsx("div",{className:"space-y-4",children:w.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a.class," • ",a.date," • ",a.students," students"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[a.average&&e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[a.average,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average"})]}),e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded ${a.status==="graded"?"bg-green-100 text-green-800":a.status==="grading"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:a.status}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(je,{className:"w-4 h-4"})})]})]},a.id))})]})});return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Exam Management"}),e.jsx("p",{className:"text-gray-600",children:"Create, manage, and grade exams with AI assistance"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"create",label:"Create Exam",icon:ve},{id:"templates",label:"Templates",icon:re},{id:"grading",label:"Grading",icon:Se}].map(a=>e.jsxs("button",{onClick:()=>i(a.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${s===a.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{children:a.label})]},a.id))})})}),s==="create"&&$(),s==="templates"&&d(),s==="grading"&&x()]})},Xa=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("overview"),[v,u]=t.useState(""),[o,b]=t.useState(null),T={classAverage:0,improvement:0,topPerformers:0,needsAttention:0,recentTests:[]},w=[],$=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx(de,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),e.jsxs("div",{className:"text-3xl font-bold text-blue-900",children:[T.classAverage,"%"]}),e.jsx("div",{className:"text-sm text-blue-700",children:"Class Average"}),e.jsxs("div",{className:"mt-2 flex items-center justify-center space-x-1",children:[e.jsx(he,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-sm text-green-600",children:["+",T.improvement,"%"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx(Ie,{className:"w-8 h-8 text-yellow-600 mx-auto mb-3"}),e.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:T.topPerformers}),e.jsx("div",{className:"text-sm text-yellow-700",children:"Top Performers"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Above 85%"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx(oe,{className:"w-8 h-8 text-red-600 mx-auto mb-3"}),e.jsx("div",{className:"text-3xl font-bold text-red-900",children:T.needsAttention}),e.jsx("div",{className:"text-sm text-red-700",children:"Needs Attention"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Below 70%"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx(me,{className:"w-8 h-8 text-purple-600 mx-auto mb-3"}),e.jsx("div",{className:"text-3xl font-bold text-purple-900",children:w.length}),e.jsx("div",{className:"text-sm text-purple-700",children:"Total Students"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Active learners"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Test Performance"}),e.jsx("div",{className:"space-y-4",children:T.recentTests.map((a,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.name}),e.jsx("div",{className:"text-sm text-gray-600",children:a.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[a.average,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Class Average"})]})]},l))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Progress Distribution"}),w.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Excellent (85-100%)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"0%"}})}),e.jsx("span",{className:"text-sm text-gray-600",children:"0 students"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Good (75-84%)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"0%"}})}),e.jsx("span",{className:"text-sm text-gray-600",children:"0 students"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average (65-74%)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:"0%"}})}),e.jsx("span",{className:"text-sm text-gray-600",children:"0 students"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Below Average (<65%)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-600 h-2 rounded-full",style:{width:"0%"}})}),e.jsx("span",{className:"text-sm text-gray-600",children:"0 students"})]})]})]}):e.jsx("p",{className:"text-sm text-gray-500",children:"No student data available."})]})]})]}),d=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Individual Student Progress"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Search students...",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{children:"All Students"}),e.jsx("option",{children:"Top Performers"}),e.jsx("option",{children:"Needs Attention"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map(a=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-lg font-bold ${a.currentGrade>=85?"text-green-600":a.currentGrade>=75?"text-blue-600":a.currentGrade>=65?"text-yellow-600":"text-red-600"}`,children:[a.currentGrade,"%"]}),e.jsx(he,{className:`w-4 h-4 ${a.trend==="up"?"text-green-600":a.trend==="down"?"text-red-600 transform rotate-180":"text-blue-600 transform rotate-90"}`})]})]}),e.jsx("div",{className:"space-y-3 mb-4",children:a.subjects.map((l,n)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:l.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"font-medium",children:[l.grade,"%"]}),e.jsx(he,{className:`w-3 h-3 ${l.trend==="up"?"text-green-600":l.trend==="down"?"text-red-600 transform rotate-180":"text-blue-600 transform rotate-90"}`})]})]},n))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>b(a),className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"View Details"}),e.jsx("button",{className:"bg-gray-100 text-gray-700 py-2 px-3 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:e.jsx(Fe,{className:"w-4 h-4"})})]})]},a.id))})]})}),x=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Progress Analytics"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(de,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"Progress analytics chart would be displayed here"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analytics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No analytics data available yet."})]})]});return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Student Progress Tracking"}),e.jsx("p",{className:"text-gray-600",children:"Monitor student performance and learning outcomes with AI insights"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Class Overview",icon:de},{id:"individual",label:"Individual Progress",icon:me},{id:"analytics",label:"Analytics",icon:pe}].map(a=>e.jsxs("button",{onClick:()=>i(a.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${s===a.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{children:a.label})]},a.id))})})}),s==="overview"&&$(),s==="individual"&&d(),s==="analytics"&&x()]})},Ka=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("submit"),[u,o]=t.useState(null),[b,T]=t.useState(""),[w,$]=t.useState(null),d=s?"bg-gray-800 border border-gray-700":"bg-white",x=s?"text-white":"text-gray-900",a=s?"text-gray-300":"text-gray-600",l=[],n=g=>{switch(g){case"pending":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-green-100 text-green-800";case"overdue":return"bg-red-100 text-red-800";case"draft":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},h=g=>{switch(g){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},S=()=>{var g,c;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${x}`,children:"Select Assignment to Submit"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.filter(r=>r.status==="pending"||r.status==="draft").map(r=>e.jsxs("div",{onClick:()=>$(r),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${(w==null?void 0:w.id)===r.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:r.title}),e.jsx(Ie,{className:`w-4 h-4 ${h(r.priority)}`})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.subject," • ",r.teacher]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Due: ",r.dueDate]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${n(r.status)}`,children:r.status})]})]},r.id))})]}),w&&e.jsxs("div",{className:`${d} rounded-xl shadow-lg p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Submit: ",w.title]}),e.jsx("button",{onClick:()=>$(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Assignment Details"}),e.jsx("p",{className:"text-sm text-blue-800 mb-2",children:w.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Due Date:"})," ",w.dueDate," at ",w.dueTime]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Max Marks:"})," ",w.maxMarks]}),w.allowedFormats&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Allowed Formats:"})," ",w.allowedFormats.join(", ")]}),w.wordLimit&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Word Limit:"})," ",w.wordLimit," words"]})]}),w.instructions&&e.jsxs("div",{className:"mt-3 p-3 bg-white rounded border border-blue-200",children:[e.jsx("span",{className:"font-medium text-blue-900",children:"Instructions:"}),e.jsx("p",{className:"text-sm text-blue-800 mt-1",children:w.instructions})]})]}),w.submissionType==="file"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",children:[e.jsx(is,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Your Assignment"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop files or click to browse"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Supported formats: ",(g=w.allowedFormats)==null?void 0:g.join(", ")," (Max 10MB)"]}),e.jsx("input",{type:"file",className:"hidden",id:"file-upload",accept:(c=w.allowedFormats)==null?void 0:c.map(r=>`.${r.toLowerCase()}`).join(","),onChange:r=>o(r.target.files[0])}),e.jsx("label",{htmlFor:"file-upload",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer inline-block",children:"Choose File"})]}),u&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(re,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-900",children:u.name}),e.jsxs("p",{className:"text-sm text-green-700",children:[(u.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx("button",{onClick:()=>o(null),className:"text-green-600 hover:text-green-800",children:e.jsx(Qe,{className:"w-4 h-4"})})]})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Your Response"}),e.jsx("textarea",{value:b,onChange:r=>T(r.target.value),rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Type your assignment response here..."}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:["Words: ",b.split(" ").filter(r=>r.length>0).length]}),w.wordLimit&&e.jsxs("span",{children:["Limit: ",w.wordLimit," words"]})]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mt-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(pe,{className:"w-5 h-5 text-purple-600"}),e.jsx("h4",{className:"font-medium text-purple-900",children:"AI Writing Assistant"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx("button",{className:"bg-white border border-purple-200 text-purple-700 px-3 py-2 rounded-lg text-sm hover:bg-purple-50 transition-colors",children:"Grammar Check"}),e.jsx("button",{className:"bg-white border border-purple-200 text-purple-700 px-3 py-2 rounded-lg text-sm hover:bg-purple-50 transition-colors",children:"Improve Writing"}),e.jsx("button",{className:"bg-white border border-purple-200 text-purple-700 px-3 py-2 rounded-lg text-sm hover:bg-purple-50 transition-colors",children:"Citation Help"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Save as Draft"}),e.jsx("button",{className:"bg-blue-100 text-blue-700 px-4 py-2 rounded-lg hover:bg-blue-200 transition-colors",children:"Preview"})]}),e.jsxs("button",{className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[e.jsx(Es,{className:"w-4 h-4"}),e.jsx("span",{children:"Submit Assignment"})]})]})]})]})},N=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"My Submissions"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{children:"All Subjects"}),e.jsx("option",{children:"Mathematics"}),e.jsx("option",{children:"Physics"}),e.jsx("option",{children:"Chemistry"})]}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{children:"All Status"}),e.jsx("option",{children:"Submitted"}),e.jsx("option",{children:"Graded"}),e.jsx("option",{children:"Pending"})]})]})]}),e.jsx("div",{className:"space-y-4",children:l.map(g=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:g.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[g.subject," • ",g.teacher]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[g.grade&&e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[g.grade,"/",g.maxMarks]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Grade"})]}),e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded ${n(g.status)}`,children:g.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{children:["Due: ",g.dueDate]}),g.submittedDate&&e.jsxs("div",{children:["Submitted: ",g.submittedDate]}),e.jsxs("div",{children:["Max Marks: ",g.maxMarks]}),e.jsxs("div",{className:`font-medium ${h(g.priority)}`,children:["Priority: ",g.priority]})]}),g.feedback&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-900",children:"Teacher Feedback"})]}),e.jsx("p",{className:"text-sm text-blue-800",children:g.feedback})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(je,{className:"w-4 h-4 inline mr-1"}),"View Details"]}),g.status==="submitted"&&e.jsxs("button",{className:"text-green-600 hover:text-green-800 text-sm",children:[e.jsx(Ne,{className:"w-4 h-4 inline mr-1"}),"Download"]})]}),g.status==="pending"&&e.jsx("button",{onClick:()=>$(g),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Submit Now"})]})]},g.id))})]})});return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${x}`,children:"Assignment Submission"}),e.jsx("p",{className:a,children:"Submit assignments and track your academic progress"})]}),e.jsx("div",{className:`${d} rounded-xl shadow-lg mb-6`,children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"submit",label:"Submit Assignment",icon:is},{id:"submissions",label:"My Submissions",icon:re}].map(g=>e.jsxs("button",{onClick:()=>v(g.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===g.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(g.icon,{className:"w-4 h-4"}),e.jsx("span",{children:g.label})]},g.id))})})}),i==="submit"&&S(),i==="submissions"&&N()]})},Za=({userRole:y,currentUser:A,darkMode:s=!1,setActiveTab:i})=>{const[v,u]=t.useState(null),o=s?"bg-gray-800 border border-gray-700":"bg-white",b=s?"text-white":"text-gray-900",T=s?"text-gray-300":"text-gray-600",w=s?"text-gray-400":"text-gray-500",[$,d]=t.useState([]),[x,a]=t.useState(!0),[l,n]=t.useState(null);t.useEffect(()=>{const N=async()=>{try{a(!0),n(null);const g=localStorage.getItem("token");if(g)try{const p=await fetch(`http://localhost:5000/api/students/${A==null?void 0:A.id}/subjects`,{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(p.ok){const k=await p.json();if(k.success&&k.subjects){d(k.subjects),a(!1);return}}}catch(r){console.log("API fetch failed, trying localStorage:",r)}const c=localStorage.getItem(`subjects_${A==null?void 0:A.id}`);if(c)try{const r=JSON.parse(c);d(r)}catch(r){console.error("Error parsing saved subjects:",r),d([])}else d([])}catch(g){console.error("Error fetching subjects:",g),n("Failed to load subjects"),d([])}finally{a(!1)}};A!=null&&A.id?N():a(!1)},[A==null?void 0:A.id]);const h=N=>N>=85?"text-green-600":N>=75?"text-blue-600":N>=65?"text-yellow-600":"text-red-600",S=N=>{const g={blue:"border-l-blue-500 bg-blue-50",purple:"border-l-purple-500 bg-purple-50",green:"border-l-green-500 bg-green-50",orange:"border-l-orange-500 bg-orange-50",indigo:"border-l-indigo-500 bg-indigo-50"};return s?"border-l-gray-500 bg-gray-700":g[N]||g.blue};return x?e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold mb-2 ${b}`,children:"My Subjects"}),e.jsx("p",{className:T,children:"Loading your subjects..."})]}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}):l?e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold mb-2 ${b}`,children:"My Subjects"}),e.jsx("p",{className:T,children:"Error loading subjects"})]}),e.jsxs("div",{className:`${o} rounded-xl shadow-lg p-8 text-center`,children:[e.jsx(oe,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:`text-xl font-semibold ${b} mb-2`,children:"Unable to Load Subjects"}),e.jsx("p",{className:`${T} mb-4`,children:l}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})]}):e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold mb-2 ${b}`,children:"My Subjects"}),e.jsx("p",{className:T,children:$.length>0?`Your enrolled subjects (${$.length} total)`:"No subjects enrolled yet"})]}),$.length>0&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:`${o} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:`text-2xl font-bold ${b}`,children:$.length}),e.jsx("p",{className:`text-sm ${w}`,children:"Total Subjects"})]})]})}),e.jsx("div",{className:`${o} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsxs("p",{className:`text-2xl font-bold ${b}`,children:[$.length?Math.round($.reduce((N,g)=>N+g.currentGrade,0)/$.length):0,"%"]}),e.jsx("p",{className:`text-sm ${w}`,children:"Average Grade"})]})]})}),e.jsx("div",{className:`${o} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{className:"w-8 h-8 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsxs("p",{className:`text-2xl font-bold ${b}`,children:[$.length?Math.round($.reduce((N,g)=>N+g.attendance,0)/$.length):0,"%"]}),e.jsx("p",{className:`text-sm ${w}`,children:"Avg Attendance"})]})]})}),e.jsx("div",{className:`${o} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{className:"w-8 h-8 text-orange-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:`text-2xl font-bold ${b}`,children:$.reduce((N,g)=>N+g.credits,0)}),e.jsx("p",{className:`text-sm ${w}`,children:"Total Credits"})]})]})})]}),$.length>0&&e.jsxs("div",{className:`${o} rounded-xl shadow-lg p-6 mb-8`,children:[e.jsx("h3",{className:`text-lg font-semibold ${b} mb-4`,children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>i("assignments"),className:"flex items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[e.jsx(be,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-blue-900",children:"View Assignments"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Check your pending tasks"})]})]}),e.jsxs("button",{onClick:()=>i("grades"),className:"flex items-center p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[e.jsx(Se,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-green-900",children:"View Grades"}),e.jsx("p",{className:"text-sm text-green-700",children:"Check your performance"})]})]}),e.jsxs("button",{onClick:()=>i("timetable"),className:"flex items-center p-4 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors",children:[e.jsx(ne,{className:"w-6 h-6 text-purple-600 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-purple-900",children:"Class Timetable"}),e.jsx("p",{className:"text-sm text-purple-700",children:"View your schedule"})]})]})]})]}),$.length===0&&e.jsxs("div",{className:`${o} rounded-xl shadow-lg p-12 text-center`,children:[e.jsx(be,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:`text-xl font-semibold ${b} mb-2`,children:"No Subjects Enrolled"}),e.jsx("p",{className:`${T} mb-6`,children:"You haven't been enrolled in any subjects yet. Please contact your administrator to get enrolled."}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:()=>i("messaging"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Fe,{className:"w-5 h-5"}),e.jsx("span",{children:"Contact Admin"})]})})]}),$.length>0&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:$.map(N=>e.jsxs("div",{className:`${o} rounded-xl shadow-lg border-l-4 ${S(N.color)} p-6 hover:shadow-xl transition-shadow cursor-pointer`,onClick:()=>u(N),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-xl font-semibold ${b} mb-1`,children:N.name}),e.jsx("p",{className:`text-sm ${w} mb-2`,children:N.code}),e.jsxs("p",{className:`text-sm ${T} flex items-center`,children:[e.jsx(me,{className:"w-4 h-4 mr-1"}),N.teacher]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-2xl font-bold ${h(N.currentGrade)}`,children:[N.currentGrade,"%"]}),e.jsx("p",{className:`text-xs ${w}`,children:"Current Grade"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${b}`,children:"Schedule"}),e.jsx("p",{className:`text-xs ${w}`,children:N.schedule})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-2 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${b}`,children:"Location"}),e.jsx("p",{className:`text-xs ${w}`,children:N.room})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:`text-sm font-medium ${b}`,children:[N.attendance,"%"]}),e.jsx("p",{className:`text-xs ${w}`,children:"Attendance"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-sm font-medium ${b}`,children:N.credits}),e.jsx("p",{className:`text-xs ${w}`,children:"Credits"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:g=>{g.stopPropagation(),u(N)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"View Details",children:e.jsx(je,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{onClick:g=>{g.stopPropagation(),i&&i("messaging")},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Message Teacher",children:e.jsx(Fe,{className:"w-4 h-4 text-gray-600"})})]})]})]},N.id))}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${o} rounded-xl shadow-xl p-6 max-w-md w-full mx-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${b}`,children:v.name}),e.jsx("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${w}`,children:"Subject Code"}),e.jsx("p",{className:`font-medium ${b}`,children:v.code})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${w}`,children:"Teacher"}),e.jsx("p",{className:`font-medium ${b}`,children:v.teacher})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${w}`,children:"Current Grade"}),e.jsxs("p",{className:`font-medium ${h(v.currentGrade)}`,children:[v.currentGrade,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${w}`,children:"Attendance"}),e.jsxs("p",{className:`font-medium ${b}`,children:[v.attendance,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${w}`,children:"Schedule"}),e.jsx("p",{className:`font-medium ${b}`,children:v.schedule}),e.jsx("p",{className:`text-sm ${w}`,children:v.room})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${w}`,children:"Description"}),e.jsx("p",{className:`font-medium ${b}`,children:v.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${w}`,children:"Assignments"}),e.jsxs("p",{className:`font-medium ${b}`,children:[v.completed,"/",v.assignments]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${w}`,children:"Credits"}),e.jsx("p",{className:`font-medium ${b}`,children:v.credits})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4 mt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{i("assignments"),u(null)},className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"View Assignments"}),e.jsx("button",{onClick:()=>{i?i("messaging"):alert("Please use the sidebar menu to access messaging.")},className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Message Teacher"})]})]})})]})},el=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("overview"),[u,o]=t.useState("term"),[b,T]=t.useState([]),[w,$]=t.useState(null),[d,x]=t.useState(!0),a={overview:{currentGPA:0,classRank:0,totalStudents:0,improvement:0,attendanceRate:0},subjects:[],assessments:[],goals:[]};t.useEffect(()=>{i==="grades"&&l()},[i]);const l=async()=>{try{const r=localStorage.getItem("token"),k=await fetch(`http://localhost:5000/api/grades/?term=${u}`,{headers:{Authorization:`Bearer ${r}`}});if(k.ok){const m=await k.json();T(m.grades||[]),$(m.summary||null)}else T([]),$(null)}catch(r){console.error("Error fetching grades:",r),T([]),$(null)}finally{x(!1)}},n=r=>r>=90?"text-green-600":r>=80?"text-blue-600":r>=70?"text-yellow-600":"text-red-600",h=r=>r==="up"?e.jsx(he,{className:"w-4 h-4 text-green-600"}):r==="down"?e.jsx(he,{className:"w-4 h-4 text-red-600 transform rotate-180"}):e.jsx(he,{className:"w-4 h-4 text-blue-600 transform rotate-90"}),S=r=>{switch(r){case"A":return"text-green-600 bg-green-100";case"A-":return"text-green-600 bg-green-100";case"B+":return"text-blue-600 bg-blue-100";case"B":return"text-blue-600 bg-blue-100";case"B-":return"text-yellow-600 bg-yellow-100";case"C+":return"text-yellow-600 bg-yellow-100";case"C":return"text-orange-600 bg-orange-100";default:return"text-red-600 bg-red-100"}},N=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Grade History"}),e.jsxs("select",{value:u,onChange:r=>o(r.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"current",children:"Current Term"}),e.jsx("option",{value:"previous",children:"Previous Term"}),e.jsx("option",{value:"year",children:"Academic Year"})]})]}),w&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:w.averageGrade||"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average Grade"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:w.highestGrade||"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Highest Grade"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:w.totalSubjects||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Subjects"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[w.improvement||"0","%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Improvement"})]})]}),d?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading grades..."})]}):b.length>0?e.jsx("div",{className:"space-y-3",children:b.map((r,p)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(be,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:r.subject}),e.jsxs("div",{className:"text-sm text-gray-600",children:[r.assessment," • ",r.date]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold px-3 py-1 rounded-full ${S(r.grade)}`,children:r.grade}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Score: ",r.score,"%"]})]}),r.trend&&e.jsx("div",{className:"flex items-center",children:r.trend==="up"?e.jsx(he,{className:"w-5 h-5 text-green-600"}):r.trend==="down"?e.jsx(he,{className:"w-5 h-5 text-red-600 transform rotate-180"}):e.jsx(he,{className:"w-5 h-5 text-blue-600 transform rotate-90"})})]})]},p))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Se,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No grades available"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Your grades will appear here once they are recorded"})]})]})}),g=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:a.overview.currentGPA}),e.jsx("div",{className:"text-sm text-gray-600",children:"Current GPA"}),e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["+",a.overview.improvement,"% this term"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:a.overview.classRank}),e.jsx("div",{className:"text-sm text-gray-600",children:"Class Rank"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["of ",a.overview.totalStudents," students"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[a.overview.attendanceRate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Attendance"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Excellent"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Predicted Grade"}),e.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"UNEB "})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:"0"}),e.jsx("div",{className:"text-sm text-gray-600",children:"UNEB Readiness"}),e.jsx("div",{className:"text-xs text-red-600 mt-1"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Subject Performance"}),e.jsx("div",{className:"space-y-4",children:a.subjects.map((r,p)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(be,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:r.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Rank #",r.rank," • Class Avg: ",r.classAverage,"%"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-2xl font-bold ${n(r.currentGrade)}`,children:[r.currentGrade,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Previous: ",r.previousGrade,"%"]})]}),h(r.trend)]})]},p))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Recent Assessments"}),e.jsx("div",{className:"space-y-3",children:a.assessments.map((r,p)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:r.name}),e.jsx("div",{className:"text-sm text-gray-600",children:r.date})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-lg font-bold ${n(r.score/r.maxScore*100)}`,children:[r.score,"/",r.maxScore]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Rank #",r.rank]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Avg: ",r.average]})]})]},p))})]})]}),c=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Academic Goals Progress"}),e.jsx("div",{className:"space-y-6",children:a.goals.map((r,p)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900",children:r.subject}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Current: ",r.current,"%"]}),e.jsxs("span",{className:"text-sm text-blue-600",children:["Target: ",r.target,"%"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-full relative",style:{width:`${r.progress}%`},children:e.jsx("div",{className:"absolute right-0 top-0 h-3 w-1 bg-green-600 rounded-r-full"})})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[r.progress,"% to goal"]}),e.jsxs("span",{children:[r.target-r.current," points needed"]})]})]},p))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"AI Recommendations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(pe,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-900",children:"Focus Area"})]}),e.jsx("p",{className:"text-sm text-blue-800",children:"Increase Physics study time by 30% to reach your target of 85%"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ce,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-green-900",children:"Strength"})]}),e.jsx("p",{className:"text-sm text-green-800",children:"Maintain excellent Biology performance - you're on track for 95%"})]})]})]})]});return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:"My Performance"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"Track your academic progress and achievements"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:de},{id:"grades",label:"My Grades",icon:Se},{id:"goals",label:"Goals & Progress",icon:Ce},{id:"analytics",label:"Detailed Analytics",icon:he}].map(r=>e.jsxs("button",{onClick:()=>v(r.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===r.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(r.icon,{className:"w-4 h-4"}),e.jsx("span",{children:r.label})]},r.id))})})}),i==="overview"&&g(),i==="grades"&&N(),i==="goals"&&c(),i==="analytics"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx(de,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Detailed Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Advanced performance analytics coming soon"})]})]})};function sl(){return null}const tl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("balance"),[u,o]=t.useState(""),[b,T]=t.useState("all"),[w,$]=t.useState("all"),[d,x]=t.useState("all"),[a,l]=t.useState([]),[n,h]=t.useState({}),[S,N]=t.useState(!1);t.useEffect(()=>{i==="history"&&g()},[i,u,b,w,d]);const g=async()=>{N(!0);try{const f=localStorage.getItem("token"),R=new URLSearchParams;u&&R.append("search",u),b!=="all"&&R.append("status",b),w!=="all"&&R.append("method",w),d!=="all"&&R.append("academic_term",d);const D="http://localhost:5000",j=await(await fetch(`${D}/api/enhanced-payments/student/history?${R}`,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}})).json();if(j.success){l(j.payments||[]),h(j.summary||{});const M=await(await fetch(`${D}/api/enhanced-payments/student/analytics`,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}})).json();M.success&&h(P=>({...P,...M.analytics}))}}catch(f){console.error("Error fetching payment history:",f)}finally{N(!1)}},c=async()=>{try{const f=localStorage.getItem("token"),R="http://localhost:5000";let D=await fetch(`${R}/api/enhanced-payments/student`,{headers:{Authorization:`Bearer ${f}`}}),L=[];D.ok?L=(await D.json()).payment_history||[]:(D=await fetch(`${R}/api/payments`,{headers:{Authorization:`Bearer ${f}`}}),D.ok&&(L=(await D.json()).data||[])),L.length===0&&(L=[{id:1,date:new Date().toISOString().split("T")[0],amount:5e5,method:"MTN MoMo",status:"Completed",description:"Tuition Fee - Term 1",reference:"TXN-001"}]);const j=["Date","Amount (UGX)","Payment Method","Status","Description","Reference"],O=L.map(te=>[te.date||te.payment_date||new Date().toISOString().split("T")[0],te.amount||0,te.method||te.payment_method||"N/A",te.status||"Pending",te.description||te.fee_type||"Fee Payment",te.reference||te.transaction_id||"N/A"]),M=[j.join(","),...O.map(te=>te.map(Z=>`"${Z}"`).join(","))].join(`
`),P=new Blob([M],{type:"text/csv;charset=utf-8;"}),Q=window.URL.createObjectURL(P),q=document.createElement("a");q.href=Q,q.download=`payment_history_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(q),q.click(),window.URL.revokeObjectURL(Q),document.body.removeChild(q),alert("✅ Payment history exported successfully!")}catch(f){console.error("Error exporting payment history:",f);try{const R=["Date","Amount (UGX)","Payment Method","Status","Description"],D=[[new Date().toISOString().split("T")[0],"0","N/A","No Data","No payment history available"]],L=[R.join(","),...D.map(P=>P.map(Q=>`"${Q}"`).join(","))].join(`
`),j=new Blob([L],{type:"text/csv;charset=utf-8;"}),O=window.URL.createObjectURL(j),M=document.createElement("a");M.href=O,M.download=`payment_history_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(M),M.click(),window.URL.revokeObjectURL(O),document.body.removeChild(M),alert("✅ CSV file created (no payment data available)")}catch(R){console.error("Fallback export failed:",R),alert("❌ Error exporting payment history. Please try again.")}}},r={balance:{totalFees:0,paidAmount:0,outstandingBalance:0},breakdown:[],paymentHistory:[],paymentMethods:[]},p=f=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(f),k=f=>{switch(f){case"Completed":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg p-8 text-white",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:p(r.balance.totalFees)}),e.jsx("div",{className:"text-blue-100",children:"Total Fees"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:p(r.balance.paidAmount)}),e.jsx("div",{className:"text-blue-100",children:"Amount Paid"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:p(r.balance.outstandingBalance)}),e.jsx("div",{className:"text-blue-100",children:"Outstanding Balance"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Payment Progress"}),e.jsxs("span",{children:[Math.round(r.balance.paidAmount/r.balance.totalFees*100),"%"]})]}),e.jsx("div",{className:"w-full bg-blue-400 rounded-full h-3",children:e.jsx("div",{className:"bg-white h-3 rounded-full",style:{width:`${r.balance.paidAmount/r.balance.totalFees*100}%`}})})]})]}),r.balance.outstandingBalance>0,e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Fee Breakdown"}),e.jsx("div",{className:"space-y-4",children:r.breakdown.map((f,R)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:f.item}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Due: ",f.dueDate==="Paid"?"Completed":f.dueDate]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:p(f.amount)}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-green-600",children:["Paid: ",p(f.paid)]}),f.outstanding>0&&e.jsxs("span",{className:"text-red-600 ml-2",children:["Due: ",p(f.outstanding)]})]})]}),e.jsx("div",{className:"ml-4",children:f.outstanding===0?e.jsx(se,{className:"w-6 h-6 text-green-600"}):e.jsx(oe,{className:"w-6 h-6 text-yellow-600"})})]},R))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Available Payment Methods"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.paymentMethods.map((f,R)=>e.jsx("div",{className:`p-4 border-2 rounded-lg transition-all ${f.available?"border-gray-200 hover:border-blue-300 cursor-pointer":"border-gray-100 bg-gray-50 opacity-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(f.icon,{className:`w-6 h-6 ${f.available?"text-blue-600":"text-gray-400"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:f.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Fee: ",f.fee," ",!f.available&&"(Coming Soon)"]})]})]})},R))})]})]}),C=r.paymentHistory.filter(f=>{const R=f.reference.toLowerCase().includes(u.toLowerCase())||f.method.toLowerCase().includes(u.toLowerCase())||f.feeType.toLowerCase().includes(u.toLowerCase()),D=b==="all"||f.status.toLowerCase()===b.toLowerCase(),L=w==="all"||f.method.toLowerCase().includes(w.toLowerCase()),j=d==="all"||f.term===d;return R&&D&&L&&j}),J=s?"bg-gray-800 border-gray-700":"bg-white border-gray-200",_=s?"text-gray-400":"text-gray-600",z=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${s?"bg-gray-800 border border-gray-700":"bg-white"} rounded-xl shadow-lg p-6`,children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Enhanced Payment History"}),e.jsxs("button",{onClick:c,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Export CSV"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Search payments...",value:u,onChange:f=>o(f.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300"}`})}),e.jsxs("select",{value:b,onChange:f=>T(f.target.value),className:`px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"failed",children:"Failed"})]}),e.jsxs("select",{value:w,onChange:f=>$(f.target.value),className:`px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"all",children:"All Methods"}),e.jsx("option",{value:"mtn",children:"MTN Mobile Money"}),e.jsx("option",{value:"airtel",children:"Airtel Money"}),e.jsx("option",{value:"bank",children:"Bank Transfer"}),e.jsx("option",{value:"cash",children:"Cash Payment"})]}),e.jsxs("select",{value:d,onChange:f=>x(f.target.value),className:`px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"all",children:"All Terms"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsxs("div",{className:`mb-4 text-sm ${s?"text-gray-300":"text-gray-600"}`,children:["Showing ",C.length," of ",r.paymentHistory.length," payments"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:`border-b ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsx("th",{className:`text-left py-3 px-4 font-medium ${s?"text-gray-200":"text-gray-900"}`,children:"Date"}),e.jsx("th",{className:`text-left py-3 px-4 font-medium ${s?"text-gray-200":"text-gray-900"}`,children:"Amount"}),e.jsx("th",{className:`text-left py-3 px-4 font-medium ${s?"text-gray-200":"text-gray-900"}`,children:"Method"}),e.jsx("th",{className:`text-left py-3 px-4 font-medium ${s?"text-gray-200":"text-gray-900"}`,children:"Fee Type"}),e.jsx("th",{className:`text-left py-3 px-4 font-medium ${s?"text-gray-200":"text-gray-900"}`,children:"Term"}),e.jsx("th",{className:`text-left py-3 px-4 font-medium ${s?"text-gray-200":"text-gray-900"}`,children:"Reference"}),e.jsx("th",{className:`text-left py-3 px-4 font-medium ${s?"text-gray-200":"text-gray-900"}`,children:"Status"}),e.jsx("th",{className:`text-left py-3 px-4 font-medium ${s?"text-gray-200":"text-gray-900"}`,children:"Actions"})]})}),e.jsx("tbody",{children:C.length>0?C.map(f=>e.jsxs("tr",{className:`border-b transition-colors ${s?"border-gray-700 hover:bg-gray-700":"border-gray-100 hover:bg-gray-50"}`,children:[e.jsx("td",{className:`py-3 px-4 ${s?"text-gray-200":"text-gray-900"}`,children:new Date(f.date).toLocaleDateString("en-UG",{year:"numeric",month:"short",day:"numeric"})}),e.jsx("td",{className:`py-3 px-4 font-medium ${s?"text-gray-200":"text-gray-900"}`,children:p(f.amount)}),e.jsx("td",{className:`py-3 px-4 ${s?"text-gray-300":"text-gray-600"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[f.method.includes("MTN")?e.jsx(We,{className:"w-4 h-4 text-yellow-500"}):f.method.includes("Airtel")?e.jsx(We,{className:"w-4 h-4 text-red-500"}):f.method.includes("Bank")?e.jsx(vs,{className:"w-4 h-4 text-blue-500"}):e.jsx(Ia,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:f.method})]})}),e.jsx("td",{className:`py-3 px-4 ${s?"text-gray-300":"text-gray-600"}`,children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:f.feeType})}),e.jsx("td",{className:`py-3 px-4 ${s?"text-gray-300":"text-gray-600"}`,children:f.term}),e.jsx("td",{className:`py-3 px-4 font-mono text-sm ${s?"text-gray-400":"text-gray-500"}`,children:f.reference}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k(f.status)}`,children:[f.status==="Completed"&&e.jsx(se,{className:"w-3 h-3 inline mr-1"}),f.status==="Pending"&&e.jsx(ie,{className:"w-3 h-3 inline mr-1"}),f.status==="Failed"&&e.jsx(oe,{className:"w-3 h-3 inline mr-1"}),f.status]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50 transition-colors",title:"View Details",children:e.jsx(je,{className:"w-4 h-4"})}),f.receiptUrl&&e.jsx("button",{className:"text-green-600 hover:text-green-800 p-1 rounded hover:bg-green-50 transition-colors",title:"Download Receipt",children:e.jsx(Ne,{className:"w-4 h-4"})})]})})]},f.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:`py-8 px-4 text-center ${s?"text-gray-400":"text-gray-500"}`,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Ds,{className:"w-12 h-12 mb-4 opacity-50"}),e.jsx("p",{children:"No payments found matching your filters"}),e.jsx("button",{onClick:()=>{o(""),T("all"),$("all"),x("all")},className:"mt-2 text-blue-600 hover:text-blue-800 text-sm",children:"Clear filters"})]})})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:`${J} rounded-xl shadow-lg p-6 text-center border`,children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:n.total_transactions||C.length}),e.jsx("div",{className:`text-sm ${_}`,children:"Total Payments"}),e.jsxs("div",{className:`text-xs ${_} mt-1`,children:[n.successful_transactions||0," successful"]})]}),e.jsxs("div",{className:`${J} rounded-xl shadow-lg p-6 text-center border`,children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:p(n.total_spent||n.total_paid)}),e.jsx("div",{className:`text-sm ${_}`,children:"Total Paid"}),e.jsx("div",{className:`text-xs ${_} mt-1`,children:n.success_rate?`${n.success_rate.toFixed(1)}% success rate`:"This year"})]}),e.jsxs("div",{className:`${J} rounded-xl shadow-lg p-6 text-center border`,children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:p(n.average_payment)}),e.jsx("div",{className:`text-sm ${_}`,children:"Average Payment"}),e.jsx("div",{className:`text-xs ${_} mt-1`,children:n.payment_frequency||"Per transaction"})]}),e.jsxs("div",{className:`${J} rounded-xl shadow-lg p-6 text-center border`,children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-2",children:n.preferred_method||"MTN MoMo"}),e.jsx("div",{className:`text-sm ${_}`,children:"Preferred Method"}),e.jsx("div",{className:`text-xs ${_} mt-1`,children:"Most used payment"})]})]})]}),B=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Payment Schedule"}),e.jsx("div",{className:"space-y-4"}),e.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Total Annual Fees:"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:p(0)})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Options"}),e.jsx("div",{className:"space-y-4"})]})]});return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:"Fee Balance"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"Manage your school fees and payment history"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"balance",label:"Current Balance",icon:ze},{id:"history",label:"Payment History",icon:Ds}].map(f=>e.jsxs("button",{onClick:()=>v(f.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===f.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(f.icon,{className:"w-4 h-4"}),e.jsx("span",{children:f.label})]},f.id))})})}),i==="balance"&&m(),i==="history"&&z(),i==="enhanced-history"&&e.jsx(sl,{darkMode:s,studentId:A==null?void 0:A.id}),i==="plan"&&B()]})},al=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("overview"),[u,o]=t.useState(null),[b,T]=t.useState("all"),[w,$]=t.useState(""),[d,x]=t.useState([{id:1,name:"Mr. Johnson",subject:"Mathematics",avatar:"MJ",overallRating:4.2,totalRatings:45,criteria:{clarity:4.3,organization:4.1,participation:4,fairness:4.4,support:4.2},recentComments:["Very clear explanations","Well organized lessons","Always available for help"],strengths:["Clear explanations","Patient with students","Well-prepared lessons"],improvements:["More interactive activities","Faster response to questions"],classSize:25,experience:"8 years",qualifications:"MSc Mathematics, BEd",lastUpdated:"2024-01-15"},{id:2,name:"Ms. Smith",subject:"English",avatar:"MS",overallRating:4.5,totalRatings:38,criteria:{clarity:4.6,organization:4.4,participation:4.7,fairness:4.3,support:4.5},recentComments:["Excellent at encouraging participation","Creative teaching methods","Very supportive"],strengths:["Encourages participation","Creative methods","Supportive"],improvements:["More writing practice","Clearer grading criteria"],classSize:22,experience:"6 years",qualifications:"MA English Literature, BEd",lastUpdated:"2024-01-14"},{id:3,name:"Dr. Brown",subject:"Science",avatar:"DB",overallRating:4.3,totalRatings:41,criteria:{clarity:4.4,organization:4.2,participation:4.3,fairness:4.3,support:4.2},recentComments:["Excellent teacher","Very engaging lessons","Always willing to help"],strengths:["Engaging lessons","Knowledgeable","Helpful"],improvements:["More lab time","Simpler explanations"],classSize:28,experience:"12 years",qualifications:"PhD Physics, MSc Chemistry",lastUpdated:"2024-01-13"}]);return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:"Teacher Ratings"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"View detailed teacher ratings and feedback"})]}),e.jsxs("div",{className:`rounded-xl shadow-lg p-6 ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("h2",{className:`text-xl font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"Teacher Ratings Overview"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.map(a=>e.jsxs("div",{className:`p-4 rounded-lg border ${s?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-orange-600 font-semibold text-lg",children:a.avatar})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold ${s?"text-white":"text-gray-900"}`,children:a.name}),e.jsx("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:a.subject})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((l,n)=>e.jsx(Ie,{className:`w-4 h-4 ${n<Math.floor(a.overallRating)?"text-yellow-400 fill-current":"text-gray-300"}`},n))}),e.jsx("span",{className:`font-bold ${a.overallRating>=4?"text-green-600":a.overallRating>=3?"text-yellow-600":"text-red-600"}`,children:a.overallRating})]}),e.jsxs("p",{className:`text-sm mt-2 ${s?"text-gray-400":"text-gray-500"}`,children:[a.totalRatings," reviews"]})]},a.id))})]})]})},ll=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("all"),[u,o]=t.useState(""),[b,T]=t.useState("all"),[w,$]=t.useState(!1),[d,x]=t.useState([]),[a,l]=t.useState(!1),[n,h]=t.useState(null),S=async()=>{l(!0),h(null);try{const m=await Ns.get("/library/books");if(m.success&&m.data){const C=m.data.map(J=>({id:J.id,title:J.title,subject:J.subject||"General",author:J.author,description:J.description||"No description available",type:"pdf",tags:J.category?[J.category]:[],estimatedTime:"30 min",difficulty:"Intermediate",rating:4.5,downloads:0,views:0,uploadDate:new Date(J.created_at).toLocaleDateString(),isFavorite:!1,isRecommended:!1}));x(C)}else x([])}catch(m){console.error("Error fetching materials:",m),h("Failed to load materials"),x([])}finally{l(!1)}};t.useEffect(()=>{S()},[]);const N=["All Resources","Study Guides","Past Papers","Reference Materials"],g=[{id:"all",label:"All Materials",count:d.length},{id:"pdf",label:"Documents",count:0},{id:"video",label:"Videos",count:0},{id:"audio",label:"Audio",count:0},{id:"interactive",label:"Interactive",count:0},{id:"favorites",label:"Favorites",count:0},{id:"recommended",label:"Recommended",count:0}],c=m=>{switch(m){case"pdf":return e.jsx(re,{className:"w-5 h-5 text-red-600"});case"video":return e.jsx(ke,{className:"w-5 h-5 text-blue-600"});case"audio":return e.jsx(St,{className:"w-5 h-5 text-green-600"});case"interactive":return e.jsx(Dt,{className:"w-5 h-5 text-purple-600"});default:return e.jsx(re,{className:"w-5 h-5 text-gray-600"})}},r=m=>{switch(m){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},p=d.filter(m=>{const C=i==="all"||m.type===i||i==="favorites"&&m.isFavorite||i==="recommended"&&m.isRecommended,J=b==="all"||b==="All Subjects"||m.subject===b,_=m.title.toLowerCase().includes(u.toLowerCase())||m.tags.some(z=>z.toLowerCase().includes(u.toLowerCase()));return C&&J&&_}),k=m=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[c(m.type),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[m.subject," • ",m.author]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[m.isRecommended&&e.jsx(Se,{className:"w-5 h-5 text-yellow-500",title:"Recommended"}),e.jsx("button",{className:`p-1 rounded ${m.isFavorite?"text-red-500":"text-gray-400"}`,children:e.jsx(js,{className:"w-5 h-5",fill:m.isFavorite?"currentColor":"none"})})]})]}),e.jsx("p",{className:"text-gray-700 text-sm mb-4",children:m.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:m.tags.map((C,J)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:C},J))}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:m.estimatedTime})]}),e.jsx("div",{children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${r(m.difficulty)}`,children:m.difficulty})}),m.size&&e.jsxs("div",{className:"text-gray-600",children:["Size: ",m.size]}),m.pages&&e.jsxs("div",{className:"text-gray-600",children:[m.pages," pages"]}),m.duration&&e.jsxs("div",{className:"text-gray-600",children:["Duration: ",m.duration]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ie,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{children:m.rating})]}),m.downloads&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:m.downloads})]}),m.views&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:m.views})]}),m.plays&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(St,{className:"w-4 h-4"}),e.jsx("span",{children:m.plays})]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:m.uploadDate})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsxs("button",{className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Download"})]})]})]},m.id);return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:"Study Materials"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"Access comprehensive learning resources for all your subjects"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search materials...",value:u,onChange:m=>o(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("select",{value:b,onChange:m=>T(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Subjects"}),N.slice(1).map(m=>e.jsx("option",{value:m,children:m},m))]}),y!=="student"&&e.jsxs("button",{onClick:()=>$(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:"Upload Material"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6 overflow-x-auto",children:g.map(m=>e.jsxs("button",{onClick:()=>v(m.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 whitespace-nowrap ${i===m.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx("span",{children:m.label}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${i===m.id?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:m.count})]},m.id))})})}),p.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(k)}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx(be,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No materials found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:u?`No materials match "${u}"`:d.length===0?'No materials have been uploaded yet. Click "Upload Material" to add your first resource!':"No materials available in this category"}),e.jsx("button",{onClick:()=>{v("all"),o(""),T("all"),S()},disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:a?"Loading...":"Browse All Materials"})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:d.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Materials"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:d.filter(m=>m.isFavorite).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Favorites"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:d.filter(m=>m.isRecommended).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recommended"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"0"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Rating"})]})]}),w&&y!=="student"&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Upload Study Material"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Title"}),e.jsx("input",{type:"text",placeholder:"Enter material title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select a subject"}),N.slice(1).map(m=>e.jsx("option",{value:m,children:m},m))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Type"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"pdf",children:"Document (PDF)"}),e.jsx("option",{value:"video",children:"Video"}),e.jsx("option",{value:"audio",children:"Audio"}),e.jsx("option",{value:"interactive",children:"Interactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select difficulty"}),e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{rows:"3",placeholder:"Describe the material",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma separated)"}),e.jsx("input",{type:"text",placeholder:"e.g., algebra, equations, practice",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload File"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 transition-colors cursor-pointer",children:[e.jsx("input",{type:"file",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, MP4, MP3 up to 50MB"})]})})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>$(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Material"})]})]})})]})})]})},rl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("papers"),[u,o]=t.useState("all"),[b,T]=t.useState("all"),[w,$]=t.useState(!1),[d,x]=t.useState({studentName:(A==null?void 0:A.name)||"",currentClass:"",targetSubjects:[],examDate:"",studyHoursPerDay:"",weakAreas:[],strongAreas:[],previousScores:{},studyGoals:""}),a=[],l={totalAttempted:0,totalPapers:0,averageScore:0,bestSubject:"-",totalTimeSpent:"0m",improvementRate:0},n=f=>{switch(f){case"Easy":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=(f,R)=>f?f>=R+10?"text-green-600":f>=R?"text-blue-600":"text-red-600":"text-gray-500",S=(f,R)=>{x(D=>({...D,[f]:R}))},N=(f,R)=>{x(D=>({...D,[f]:D[f].includes(R)?D[f].filter(L=>L!==R):[...D[f],R]}))},[g,c]=t.useState(!1),[r,p]=t.useState(null),[k,m]=t.useState(!1),C=()=>{p({focusAreas:[{subject:"Mathematics",topics:["Algebra","Statistics"],priority:"High"},{subject:"Physics",topics:["Mechanics","Electricity"],priority:"High"},{subject:"Chemistry",topics:["Organic Chemistry"],priority:"Medium"},{subject:"Biology",topics:["Cell Biology","Genetics"],priority:"Medium"}],studySchedule:"3 hours daily",predictedImprovement:"15-20% score increase",recommendations:["Focus on weak areas identified in your profile","Practice past papers for Mathematics and Physics","Review organic chemistry concepts thoroughly","Create flashcards for biology terminology"],examStrategy:["Allocate 45 minutes per section","Start with easier questions to build confidence","Review answers before submitting","Manage time effectively across all subjects"]}),c(!0),$(!1)},J=a.filter(f=>{const R=u==="all"||f.year.toString()===u,D=b==="all"||f.subject===b;return R&&D}),_=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("select",{value:u,onChange:f=>o(f.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Years"}),e.jsx("option",{value:"2023",children:"2023"}),e.jsx("option",{value:"2022",children:"2022"}),e.jsx("option",{value:"2021",children:"2021"}),e.jsx("option",{value:"2020",children:"2020"})]}),e.jsxs("select",{value:b,onChange:f=>T(f.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Subjects"}),e.jsx("option",{value:"Mathematics",children:"Mathematics"}),e.jsx("option",{value:"Physics",children:"Physics"}),e.jsx("option",{value:"Chemistry",children:"Chemistry"}),e.jsx("option",{value:"Biology",children:"Biology"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",J.length," of ",a.length," papers"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:J.map(f=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[f.year," • Paper ",f.paper]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${n(f.difficulty)}`,children:f.difficulty})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:f.duration})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-gray-600",children:[f.marks," marks"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:f.downloadCount})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-gray-600",children:["Avg: ",f.averageScore,"%"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Topics Covered:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.topics.map((R,D)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:R},D))})]}),f.attempted?e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Completed"})]}),e.jsxs("div",{className:"text-xs text-green-700 mt-1",children:[f.completionDate," • ",f.timeSpent]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-2xl font-bold ${h(f.myScore,f.averageScore)}`,children:[f.myScore,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Your Score"})]})]})}):e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"Not Attempted"})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsxs("button",{className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Download"})]}),!f.attempted&&e.jsx("button",{className:"bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Start"})]})]},f.id))})]}),z=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:l.totalAttempted}),e.jsx("div",{className:"text-sm text-gray-600",children:"Papers Completed"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["of ",l.totalPapers," total"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[l.averageScore,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"}),e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["+",l.improvementRate,"% improvement"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:l.bestSubject}),e.jsx("div",{className:"text-sm text-gray-600",children:"Best Subject"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"92% average"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:l.totalTimeSpent}),e.jsx("div",{className:"text-sm text-gray-600",children:"Time Spent"}),e.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"This month"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Subject Performance"}),e.jsx("div",{className:"space-y-4",children:["Mathematics","Physics","Chemistry","Biology"].map(f=>{const R=a.filter(L=>L.subject===f&&L.attempted),D=R.length>0?Math.round(R.reduce((L,j)=>L+j.myScore,0)/R.length):0;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(re,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:f}),e.jsxs("div",{className:"text-sm text-gray-600",children:[R.length," papers completed"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[D,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Average"})]})]},f)})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Progress Over Time"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(he,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"Progress chart would be displayed here"})]})})]})]}),B=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(pe,{className:"w-8 h-8"}),e.jsx("h2",{className:"text-xl font-semibold",children:"AI Recommendations"})]}),e.jsx("p",{className:"text-purple-100",children:"Get personalized predictions based on your academic profile"}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>$(!0),className:"bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-purple-50 transition-colors flex items-center space-x-2",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Get Full Predictions"})]})})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"AI Prediction Form"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Fill in your details to get personalized exam predictions"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Name"}),e.jsx("input",{type:"text",value:d.studentName,onChange:f=>S("studentName",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Class"}),e.jsxs("select",{value:d.currentClass,onChange:f=>S("currentClass",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Class"}),e.jsx("option",{value:"S1",children:"Senior 1"}),e.jsx("option",{value:"S2",children:"Senior 2"}),e.jsx("option",{value:"S3",children:"Senior 3"}),e.jsx("option",{value:"S4",children:"Senior 4"}),e.jsx("option",{value:"S5",children:"Senior 5"}),e.jsx("option",{value:"S6",children:"Senior 6"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Subjects"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Mathematics","Physics","Chemistry","Biology","English","History","Geography","Economics"].map(f=>e.jsxs("label",{className:"flex items-center space-x-2 p-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:d.targetSubjects.includes(f),onChange:()=>N("targetSubjects",f),className:"rounded"}),e.jsx("span",{className:"text-sm",children:f})]},f))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Date"}),e.jsx("input",{type:"date",value:d.examDate,onChange:f=>S("examDate",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Study Hours Per Day"}),e.jsxs("select",{value:d.studyHoursPerDay,onChange:f=>S("studyHoursPerDay",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Hours"}),e.jsx("option",{value:"1-2",children:"1-2 hours"}),e.jsx("option",{value:"2-3",children:"2-3 hours"}),e.jsx("option",{value:"3-4",children:"3-4 hours"}),e.jsx("option",{value:"4-5",children:"4-5 hours"}),e.jsx("option",{value:"5+",children:"5+ hours"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weak Areas"}),e.jsx("div",{className:"space-y-2",children:["Algebra","Geometry","Statistics","Mechanics","Electricity","Organic Chemistry","Cell Biology","Genetics"].map(f=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:d.weakAreas.includes(f),onChange:()=>N("weakAreas",f),className:"rounded"}),e.jsx("span",{className:"text-sm",children:f})]},f))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Strong Areas"}),e.jsx("div",{className:"space-y-2",children:["Algebra","Geometry","Statistics","Mechanics","Electricity","Organic Chemistry","Cell Biology","Genetics"].map(f=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:d.strongAreas.includes(f),onChange:()=>N("strongAreas",f),className:"rounded"}),e.jsx("span",{className:"text-sm",children:f})]},f))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Study Goals"}),e.jsx("textarea",{value:d.studyGoals,onChange:f=>S("studyGoals",f.target.value),placeholder:"Describe your study goals and what you want to achieve...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>$(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:C,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[e.jsx(Es,{className:"w-4 h-4"}),e.jsx("span",{children:"Generate Predictions"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Ce,{className:"w-5 h-5 text-red-600"}),e.jsx("h3",{className:"font-semibold text-red-900",children:"Priority Papers"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"font-medium text-red-900",children:"Physics 2022 Paper 1"}),e.jsx("div",{className:"text-sm text-red-700",children:"Focus on electricity and magnetism"})]}),e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"font-medium text-red-900",children:"Mathematics 2021 Paper 2"}),e.jsx("div",{className:"text-sm text-red-700",children:"Statistics and probability practice needed"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Ss,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-blue-900",children:"Study Strategy"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-900",children:"Time Management"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Allocate 45 minutes per section"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium text-blue-900",children:"Weak Areas"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Focus on Physics calculations"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"font-semibold text-green-900",children:"Analysis Report"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"View Analysis Report"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-sm font-medium text-green-900",children:"Topic Frequency"}),e.jsx("div",{className:"text-xs text-green-700 mt-1",children:"Algebra appears in 85% of papers"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Difficulty Trends"}),e.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"Increasing complexity over years"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"text-sm font-medium text-purple-900",children:"Pattern Recognition"}),e.jsx("div",{className:"text-xs text-purple-700 mt-1",children:"Similar question structures identified"})]})]})]})]});return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:"Past Papers"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"Practice with UNEB past examination papers"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"papers",label:"Past Papers",icon:re},{id:"analytics",label:"Analytics",icon:de},{id:"recommendations",label:"AI Recommendations",icon:pe}].map(f=>e.jsxs("button",{onClick:()=>v(f.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===f.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(f.icon,{className:"w-4 h-4"}),e.jsx("span",{children:f.label})]},f.id))})})}),i==="papers"&&_(),i==="analytics"&&z(),i==="recommendations"&&B(),g&&r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(pe,{className:"w-6 h-6 text-purple-600"}),e.jsx("span",{children:"AI Prediction Results"})]}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Personalized exam predictions based on your profile"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Focus Areas"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.focusAreas.map((f,R)=>e.jsxs("div",{className:`p-4 rounded-lg border ${f.priority==="High"?"bg-red-50 border-red-200":f.priority==="Medium"?"bg-yellow-50 border-yellow-200":"bg-green-50 border-green-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:f.subject}),e.jsxs("span",{className:`px-2 py-1 text-xs rounded ${f.priority==="High"?"bg-red-100 text-red-800":f.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[f.priority," Priority"]})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Topics:"})," ",f.topics.join(", ")]})]},R))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:"Recommended Study Schedule"}),e.jsx("p",{className:"text-blue-800",children:r.studySchedule})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h5",{className:"font-semibold text-green-900 mb-2",children:"Predicted Improvement"}),e.jsx("p",{className:"text-green-800",children:r.predictedImprovement})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Study Recommendations"}),e.jsx("div",{className:"space-y-2",children:r.recommendations.map((f,R)=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:f})]},R))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exam Strategy"}),e.jsx("div",{className:"space-y-2",children:r.examStrategy.map((f,R)=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-purple-50 rounded-lg",children:[e.jsx(Ce,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:f})]},R))})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),e.jsx("button",{onClick:()=>{c(!1)},className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Save to Dashboard"})]})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(de,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{children:"Analysis Report"})]}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Detailed analysis of past papers and curriculum patterns"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-sm font-medium text-green-900",children:"Topic Frequency Analysis"}),e.jsx("div",{className:"text-xs text-green-700 mt-1",children:"Algebra appears in 85% of papers"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Difficulty Trends"}),e.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"Increasing complexity over years"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"text-sm font-medium text-purple-900",children:"Pattern Recognition"}),e.jsx("div",{className:"text-xs text-purple-700 mt-1",children:"Similar question structures identified"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detailed Analysis"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Topic Frequency Analysis (Past 5 Years)"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Mathematics: Algebra (85%), Geometry (72%), Statistics (68%)"}),e.jsx("li",{children:"• Physics: Mechanics (78%), Electricity (75%), Waves (65%)"}),e.jsx("li",{children:"• Chemistry: Organic Chemistry (82%), Stoichiometry (70%), Acids & Bases (68%)"}),e.jsx("li",{children:"• Biology: Cell Biology (80%), Genetics (75%), Ecology (70%)"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Difficulty Trend Analysis"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Overall difficulty has increased by 15% over the past 3 years"}),e.jsx("li",{children:"• Mathematics questions are becoming more application-based"}),e.jsx("li",{children:"• Physics calculations require more complex problem-solving"}),e.jsx("li",{children:"• Chemistry questions focus more on practical applications"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Question Pattern Recognition"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Multiple-choice questions follow specific distribution patterns"}),e.jsx("li",{children:"• Essay questions often require diagram drawing and explanation"}),e.jsx("li",{children:"• Calculation questions typically have 3-4 sub-parts"}),e.jsx("li",{children:"• Practical questions appear in 30% of papers"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Curriculum Alignment Scores"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Mathematics: 92% alignment with current curriculum"}),e.jsx("li",{children:"• Physics: 88% alignment with current curriculum"}),e.jsx("li",{children:"• Chemistry: 90% alignment with current curriculum"}),e.jsx("li",{children:"• Biology: 85% alignment with current curriculum"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Recommended Study Focus Areas"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• High Priority: Algebra, Mechanics, Organic Chemistry, Cell Biology"}),e.jsx("li",{children:"• Medium Priority: Statistics, Electricity, Stoichiometry, Genetics"}),e.jsx("li",{children:"• Low Priority: Geometry, Waves, Acids & Bases, Ecology"}),e.jsx("li",{children:"• Practice Areas: Problem-solving techniques, time management"})]})]})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),e.jsx("button",{onClick:()=>{m(!1)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Save to Dashboard"})]})]})})]})},nl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("overview"),u={overallReadiness:0,predictedGrade:"-",confidenceLevel:0,examDate:"",daysRemaining:0,studyPlan:{dailyHours:0,weeklyTests:0,completedTopics:0,totalTopics:0,practiceTests:0,targetTests:0},subjects:[],mockExams:[]},o=d=>d>=85?"text-green-600 bg-green-100":d>=75?"text-blue-600 bg-blue-100":d>=65?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",b=d=>d.includes("A")?"text-green-600":d.includes("B")?"text-blue-600":d.includes("C")?"text-yellow-600":"text-red-600",T=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg p-8 text-white",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-4xl font-bold mb-2",children:[u.overallReadiness,"%"]}),e.jsx("div",{className:"text-blue-100",children:"UNEB Readiness"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold mb-2",children:u.predictedGrade}),e.jsx("div",{className:"text-blue-100",children:"Predicted Grade"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold mb-2",children:u.daysRemaining}),e.jsx("div",{className:"text-blue-100",children:"Days Remaining"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-4xl font-bold mb-2",children:[u.confidenceLevel,"%"]}),e.jsx("div",{className:"text-blue-100",children:"Confidence Level"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-lg text-blue-100",children:["UNEB Examinations: ",u.examDate]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Subject Readiness Analysis"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.subjects.map((d,x)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:d.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`px-3 py-1 text-sm font-bold rounded ${o(d.readiness)}`,children:[d.readiness,"%"]}),e.jsx("span",{className:`text-lg font-bold ${b(d.predictedGrade)}`,children:d.predictedGrade})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Topics Completed:"}),e.jsxs("span",{className:"font-medium",children:[d.topicsCompleted,"/",d.totalTopics]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${d.topicsCompleted/d.totalTopics*100}%`}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Last Mock Score:"}),e.jsxs("span",{className:"font-medium",children:[d.lastMockScore,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Target Score:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[d.targetScore,"%"]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(pe,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"AI Recommendation"})]}),e.jsx("p",{className:"text-sm text-yellow-700",children:d.recommendation})]})]},x))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Study Progress"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Daily Study Hours"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[u.studyPlan.dailyHours,"h"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Weekly Practice Tests"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:u.studyPlan.weeklyTests})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Topics Mastered"}),e.jsxs("span",{children:[u.studyPlan.completedTopics,"/",u.studyPlan.totalTopics]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${u.studyPlan.completedTopics/u.studyPlan.totalTopics*100}%`}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Practice Tests"}),e.jsxs("span",{children:[u.studyPlan.practiceTests,"/",u.studyPlan.targetTests]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${u.studyPlan.practiceTests/u.studyPlan.targetTests*100}%`}})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mock Exam Trends"}),e.jsx("div",{className:"space-y-4",children:u.mockExams.map((d,x)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:d.name}),e.jsx("div",{className:"text-sm text-gray-600",children:d.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[d.overall,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Overall"})]})]},x))})]})]})]}),w=()=>e.jsx("div",{className:"space-y-6",children:u.subjects.map((d,x)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:d.name}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:`px-4 py-2 text-lg font-bold rounded ${o(d.readiness)}`,children:[d.readiness,"% Ready"]}),e.jsx("span",{className:`text-2xl font-bold ${b(d.predictedGrade)}`,children:d.predictedGrade})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-green-800",children:"Strengths"}),e.jsx("div",{className:"space-y-2",children:d.strengths.map((a,l)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:a})]},l))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-red-800",children:"Areas for Improvement"}),e.jsx("div",{className:"space-y-2",children:d.weaknesses.map((a,l)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm text-red-700",children:a})]},l))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:"Performance Metrics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Practice Tests:"}),e.jsx("span",{className:"font-medium",children:d.practiceTests})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Average Score:"}),e.jsxs("span",{className:"font-medium",children:[d.averageScore,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Last Mock:"}),e.jsxs("span",{className:"font-medium",children:[d.lastMockScore,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Target:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[d.targetScore,"%"]})]})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ss,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"font-medium text-blue-900",children:"AI-Powered Recommendation"})]}),e.jsx("p",{className:"text-blue-800",children:d.recommendation})]})]},x))}),$=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Personalized Study Plan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Daily Schedule"}),e.jsx("div",{className:"space-y-3"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Weekly Goals"}),e.jsx("div",{className:"space-y-4"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"AI Study Recommendations"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"})]})]});return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:"UNEB Readiness Assessment"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"AI-powered analysis of your examination preparedness"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:de},{id:"subjects",label:"Subject Analysis",icon:be},{id:"plan",label:"Study Plan",icon:ne}].map(d=>e.jsxs("button",{onClick:()=>v(d.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===d.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(d.icon,{className:"w-4 h-4"}),e.jsx("span",{children:d.label})]},d.id))})})}),i==="overview"&&T(),i==="subjects"&&w(),i==="plan"&&$()]})},il=({userRole:y,currentUser:A,darkMode:s=!1})=>{var $;const[i,v]=t.useState("academic"),u={academic:[],study:[],career:[],wellness:[]},o=d=>{switch(d){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"improvement":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"strength":return"bg-green-100 text-green-800 border-green-200";case"optimization":return"bg-blue-100 text-blue-800 border-blue-200";case"technique":return"bg-purple-100 text-purple-800 border-purple-200";case"opportunity":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"preparation":return"bg-pink-100 text-pink-800 border-pink-200";case"health":return"bg-teal-100 text-teal-800 border-teal-200";case"stress":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},b=d=>{switch(d){case"High":return"text-red-600";case"Medium":return"text-yellow-600";case"Low":return"text-green-600";default:return"text-gray-600"}},T=d=>{switch(d){case"urgent":return e.jsx(oe,{className:"w-5 h-5"});case"improvement":return e.jsx(he,{className:"w-5 h-5"});case"strength":return e.jsx(Ie,{className:"w-5 h-5"});case"optimization":return e.jsx(Ss,{className:"w-5 h-5"});case"technique":return e.jsx(pe,{className:"w-5 h-5"});case"opportunity":return e.jsx(Ce,{className:"w-5 h-5"});case"preparation":return e.jsx(ne,{className:"w-5 h-5"});case"health":return e.jsx(ie,{className:"w-5 h-5"});case"stress":return e.jsx(me,{className:"w-5 h-5"});default:return e.jsx(be,{className:"w-5 h-5"})}},w=d=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg border ${o(d.type)}`,children:T(d.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.title}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${o(d.type)}`,children:d.type.charAt(0).toUpperCase()+d.type.slice(1)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-sm font-bold ${b(d.impact)}`,children:[d.impact," Impact"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["AI: ",d.aiConfidence,"% confident"]})]})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:d.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Time Required:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:d.timeRequired})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Difficulty:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:d.difficulty})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Deadline:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:d.deadline})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Progress:"}),e.jsxs("span",{className:"ml-2 text-gray-900",children:[d.progress,"%"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Progress"}),e.jsxs("span",{className:"text-gray-600",children:[d.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${d.progress}%`}})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Action Steps:"}),e.jsx("ul",{className:"space-y-1",children:d.actions.map((x,a)=>e.jsxs("li",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(se,{className:"w-3 h-3 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:x})]},a))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Recommended Resources:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.resources.map((x,a)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:x},a))})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:[e.jsx(je,{className:"w-4 h-4 inline mr-1"}),"View Details"]}),e.jsxs("button",{className:"text-green-600 hover:text-green-800 text-sm font-medium",children:[e.jsx(Ne,{className:"w-4 h-4 inline mr-1"}),"Save Plan"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-200 transition-colors",children:"Later"}),e.jsx("button",{className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Start Now"})]})]})]},d.id);return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:"AI Recommendations"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"Personalized insights and actionable recommendations powered by AI"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl shadow-lg p-6 text-white mb-8 hidden",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(pe,{className:"w-8 h-8"}),e.jsx("h2",{className:"text-xl font-semibold",children:"AI Analysis Summary"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"12"}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Active Recommendations"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"3"}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Urgent Actions"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"89%"}),e.jsx("div",{className:"text-purple-100 text-sm",children:"AI Confidence"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:"+15%"}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Predicted Improvement"})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"academic",label:"Academic",icon:be,count:0},{id:"study",label:"Study Methods",icon:pe,count:0},{id:"career",label:"Career Guidance",icon:Ce,count:0},{id:"wellness",label:"Wellness",icon:me,count:0}].map(d=>e.jsxs("button",{onClick:()=>v(d.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===d.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(d.icon,{className:"w-4 h-4"}),e.jsx("span",{children:d.label}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${i===d.id?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:d.count})]},d.id))})})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:(($=u[i])==null?void 0:$.length)===0?e.jsx("div",{className:"bg-white rounded-xl shadow p-8 text-center col-span-2",children:e.jsx("p",{className:"text-gray-600",children:"No recommendations yet"})}):u[i].map(w)}),e.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Ss,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"How AI Creates These Recommendations"})]}),e.jsx("p",{className:"text-blue-800 text-sm mb-3",children:"Our AI analyzes your performance data, study patterns, attendance, assignment submissions, and test results to generate personalized recommendations. The system continuously learns from your progress and adjusts suggestions accordingly."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-blue-800",children:"Performance Analysis"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-blue-800",children:"Learning Style Detection"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-blue-800",children:"Predictive Modeling"})]})]})]})]})},cl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState([]),[u,o]=t.useState(!0),[b,T]=t.useState("current_term"),[w,$]=t.useState("overall"),[d,x]=t.useState("all"),a={current_term:{overall:[{id:1,name:"Sarah Johnson",class:"S4A",avatar:"SJ",rank:1,totalScore:2850,tests:{completed:8,average:92,total:736},assignments:{completed:12,average:88,total:1056},projects:{completed:3,average:95,total:285},attendance:96,participation:94,streak:15,badges:["Top Performer","Consistent","Active Participant","Perfect Attendance"],trend:"up",points:2850},{id:2,name:"Michael Chen",class:"S4B",avatar:"MC",rank:2,totalScore:2720,tests:{completed:7,average:89,total:623},assignments:{completed:10,average:85,total:850},projects:{completed:2,average:92,total:184},attendance:94,participation:91,streak:12,badges:["High Achiever","Dedicated","Consistent"],trend:"up",points:2720},{id:3,name:"Emily Rodriguez",class:"S4A",avatar:"ER",rank:3,totalScore:2580,tests:{completed:6,average:87,total:522},assignments:{completed:11,average:82,total:902},projects:{completed:2,average:88,total:176},attendance:92,participation:89,streak:10,badges:["Consistent","Hard Worker","Improving"],trend:"up",points:2580},{id:4,name:"David Kim",class:"S4C",avatar:"DK",rank:4,totalScore:2450,tests:{completed:5,average:84,total:420},assignments:{completed:9,average:80,total:720},projects:{completed:2,average:85,total:170},attendance:88,participation:86,streak:8,badges:["Improving","Active","Rising Star"],trend:"up",points:2450},{id:5,name:"Lisa Wang",class:"S4B",avatar:"LW",rank:5,totalScore:2320,tests:{completed:4,average:81,total:324},assignments:{completed:8,average:78,total:624},projects:{completed:1,average:82,total:82},attendance:85,participation:83,streak:6,badges:["Rising Star","Hard Worker"],trend:"up",points:2320},{id:6,name:"James Wilson",class:"S4A",avatar:"JW",rank:6,totalScore:2180,tests:{completed:3,average:79,total:237},assignments:{completed:7,average:76,total:532},projects:{completed:1,average:80,total:80},attendance:82,participation:80,streak:4,badges:["Improving"],trend:"stable",points:2180},{id:7,name:"Maria Garcia",class:"S4C",avatar:"MG",rank:7,totalScore:2050,tests:{completed:2,average:77,total:154},assignments:{completed:6,average:74,total:444},projects:{completed:1,average:78,total:78},attendance:79,participation:77,streak:3,badges:["Newcomer"],trend:"down",points:2050},{id:8,name:"Alex Thompson",class:"S4B",avatar:"AT",rank:8,totalScore:1920,tests:{completed:1,average:75,total:75},assignments:{completed:5,average:72,total:360},projects:{completed:0,average:0,total:0},attendance:76,participation:74,streak:2,badges:["Newcomer"],trend:"down",points:1920}],tests:[{id:1,name:"Sarah Johnson",class:"S4A",avatar:"SJ",rank:1,score:92,tests:8,trend:"up"},{id:2,name:"Michael Chen",class:"S4B",avatar:"MC",rank:2,score:89,tests:7,trend:"up"},{id:3,name:"Emily Rodriguez",class:"S4A",avatar:"ER",rank:3,score:87,tests:6,trend:"up"},{id:4,name:"David Kim",class:"S4C",avatar:"DK",rank:4,score:84,tests:5,trend:"up"},{id:5,name:"Lisa Wang",class:"S4B",avatar:"LW",rank:5,score:81,tests:4,trend:"up"}],assignments:[{id:1,name:"Sarah Johnson",class:"S4A",avatar:"SJ",rank:1,score:88,assignments:12,trend:"up"},{id:2,name:"Emily Rodriguez",class:"S4A",avatar:"ER",rank:2,score:82,assignments:11,trend:"up"},{id:3,name:"Michael Chen",class:"S4B",avatar:"MC",rank:3,score:85,assignments:10,trend:"up"},{id:4,name:"David Kim",class:"S4C",avatar:"DK",rank:4,score:80,assignments:9,trend:"up"},{id:5,name:"Lisa Wang",class:"S4B",avatar:"LW",rank:5,score:78,assignments:8,trend:"up"}],attendance:[{id:1,name:"Sarah Johnson",class:"S4A",avatar:"SJ",rank:1,score:96,attendance:96,trend:"up"},{id:2,name:"Michael Chen",class:"S4B",avatar:"MC",rank:2,score:94,attendance:94,trend:"up"},{id:3,name:"Emily Rodriguez",class:"S4A",avatar:"ER",rank:3,score:92,attendance:92,trend:"up"},{id:4,name:"David Kim",class:"S4C",avatar:"DK",rank:4,score:88,attendance:88,trend:"up"},{id:5,name:"Lisa Wang",class:"S4B",avatar:"LW",rank:5,score:85,attendance:85,trend:"up"}]}};t.useEffect(()=>{setTimeout(()=>{var p;const r=((p=a[b])==null?void 0:p[w])||[];v(r),o(!1)},1e3)},[b,w,d]);const l=r=>{switch(r){case 1:return e.jsx(Zt,{className:"w-6 h-6 text-yellow-500"});case 2:return e.jsx(at,{className:"w-6 h-6 text-gray-400"});case 3:return e.jsx(at,{className:"w-6 h-6 text-orange-500"});default:return e.jsx("span",{className:"w-6 h-6 flex items-center justify-center text-sm font-bold text-gray-500",children:r})}},n=r=>{switch(r){case"up":return e.jsx(he,{className:"w-4 h-4 text-green-500"});case"down":return e.jsx(he,{className:"w-4 h-4 text-red-500 rotate-180"});default:return e.jsx("span",{className:"w-4 h-4 text-gray-400",children:"—"})}},h=r=>r>=90?"text-green-600 bg-green-100":r>=80?"text-blue-600 bg-blue-100":r>=70?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",S=s?"bg-gray-800 border-gray-700":"bg-white border-gray-200",N=s?"text-white":"text-gray-900",g=s?"text-gray-300":"text-gray-600",c=s?"text-gray-400":"text-gray-500";return u?e.jsx("div",{className:`${S} rounded-xl shadow-lg p-6 border`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(r=>e.jsx("div",{className:"h-16 bg-gray-300 rounded"},r))})]})}):e.jsx("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center",children:e.jsx(xs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${N}`,children:"School Leaderboard"}),e.jsx("p",{className:`${g}`,children:"Track student performance and achievements"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("select",{value:b,onChange:r=>T(r.target.value),className:`px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-700"}`,children:[e.jsx("option",{value:"current_term",children:"Current Term"}),e.jsx("option",{value:"last_month",children:"Last Month"}),e.jsx("option",{value:"last_semester",children:"Last Semester"})]}),e.jsxs("select",{value:w,onChange:r=>$(r.target.value),className:`px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-700"}`,children:[e.jsx("option",{value:"overall",children:"Overall Performance"}),e.jsx("option",{value:"tests",children:"Test Scores"}),e.jsx("option",{value:"assignments",children:"Assignments"}),e.jsx("option",{value:"attendance",children:"Attendance"})]}),e.jsxs("select",{value:d,onChange:r=>x(r.target.value),className:`px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-700"}`,children:[e.jsx("option",{value:"all",children:"All Classes"}),e.jsx("option",{value:"S4A",children:"S4A"}),e.jsx("option",{value:"S4B",children:"S4B"}),e.jsx("option",{value:"S4C",children:"S4C"})]})]})]}),e.jsxs("div",{className:`${S} rounded-xl shadow-lg p-6 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-semibold ${N}`,children:w==="overall"?"Overall Performance":w==="tests"?"Test Scores":w==="assignments"?"Assignment Scores":"Attendance Records"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ba,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:`text-sm ${c}`,children:"Live Rankings"})]})]}),e.jsx("div",{className:"space-y-4",children:i.map((r,p)=>e.jsxs("div",{className:`flex items-center space-x-4 p-4 rounded-lg border transition-all hover:shadow-md ${s?"border-gray-600 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50"} ${r.rank<=3?"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200":""}`,children:[e.jsx("div",{className:"flex-shrink-0",children:l(r.rank)}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:r.avatar}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:`font-semibold ${N} truncate`,children:r.name}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${h(r.totalScore||r.score)}`,children:[r.totalScore||r.score," points"]}),n(r.trend)]}),e.jsx("p",{className:`text-sm ${c}`,children:r.class}),w==="overall"&&e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(re,{className:"w-3 h-3 text-blue-500"}),e.jsxs("span",{className:`text-xs ${c}`,children:[r.tests.completed," tests"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(be,{className:"w-3 h-3 text-green-500"}),e.jsxs("span",{className:`text-xs ${c}`,children:[r.assignments.completed," assignments"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ce,{className:"w-3 h-3 text-purple-500"}),e.jsxs("span",{className:`text-xs ${c}`,children:[r.projects.completed," projects"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ne,{className:"w-3 h-3 text-orange-500"}),e.jsxs("span",{className:`text-xs ${c}`,children:[r.attendance,"% attendance"]})]})]}),r.badges&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[r.badges.slice(0,3).map((k,m)=>e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:k},m)),r.badges.length>3&&e.jsxs("span",{className:`text-xs ${c}`,children:["+",r.badges.length-3," more"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${N}`,children:w==="overall"?r.totalScore:w==="tests"?r.tests:w==="assignments"?r.assignments:r.attendance}),e.jsx("div",{className:`text-sm ${c}`,children:w==="overall"?"Total Points":w==="tests"?"Tests":w==="assignments"?"Assignments":"Attendance %"}),r.streak&&e.jsxs("div",{className:"flex items-center justify-end space-x-1 mt-1",children:[e.jsx(Ss,{className:"w-3 h-3 text-yellow-500"}),e.jsxs("span",{className:"text-xs text-yellow-600",children:[r.streak," day streak"]})]})]})]},r.id))}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.length}),e.jsx("div",{className:"text-sm text-blue-700",children:"Total Students"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(i.reduce((r,p)=>r+(p.totalScore||p.score),0)/i.length)}),e.jsx("div",{className:"text-sm text-green-700",children:"Average Score"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:i.filter(r=>r.trend==="up").length}),e.jsx("div",{className:"text-sm text-purple-700",children:"Improving"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Math.max(...i.map(r=>r.streak||0))}),e.jsx("div",{className:"text-sm text-orange-700",children:"Best Streak"})]})]})})]})]})})},dl=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("library"),[v,u]=t.useState(""),[o,b]=t.useState("all"),[T,w]=t.useState("all"),$=[{id:"library",label:"Resource Library",icon:be},{id:"my-resources",label:"My Resources",icon:ja},{id:"shared",label:"Shared Resources",icon:me},{id:"create",label:"Create Resource",icon:ve}],d=[],x=[],a=g=>{switch(g){case"document":return re;case"video":return ke;case"audio":return St;case"image":return Dt;case"interactive":return Sa;default:return re}},l=g=>{switch(g){case"document":return"text-blue-600 bg-blue-100";case"video":return"text-red-600 bg-red-100";case"audio":return"text-green-600 bg-green-100";case"image":return"text-purple-600 bg-purple-100";case"interactive":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},n=d.filter(g=>{const c=g.title.toLowerCase().includes(v.toLowerCase())||g.description.toLowerCase().includes(v.toLowerCase())||g.tags.some(k=>k.toLowerCase().includes(v.toLowerCase())),r=o==="all"||g.subject===o,p=T==="all"||g.level===T;return c&&r&&p}),h=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search resources, topics, or tags...",value:v,onChange:g=>u(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:o,onChange:g=>b(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Subjects"}),e.jsx("option",{value:"Mathematics",children:"Mathematics"}),e.jsx("option",{value:"Physics",children:"Physics"}),e.jsx("option",{value:"Chemistry",children:"Chemistry"}),e.jsx("option",{value:"Biology",children:"Biology"}),e.jsx("option",{value:"English",children:"English"})]}),e.jsxs("select",{value:T,onChange:g=>w(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"S1",children:"S1"}),e.jsx("option",{value:"S2",children:"S2"}),e.jsx("option",{value:"S3",children:"S3"}),e.jsx("option",{value:"S4",children:"S4"}),e.jsx("option",{value:"S5",children:"S5"}),e.jsx("option",{value:"S6",children:"S6"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>{const c=a(g.type);return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:g.thumbnail,alt:g.title,className:"w-full h-32 object-cover"}),e.jsx("div",{className:`absolute top-2 right-2 p-2 rounded-full ${l(g.type)}`,children:e.jsx(c,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight",children:g.title}),e.jsxs("div",{className:"flex items-center ml-2",children:[e.jsx(Ie,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600 ml-1",children:g.rating})]})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:g.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("span",{children:[g.subject," • ",g.level]}),e.jsx("span",{children:g.size})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Preview"})]}),e.jsxs("button",{className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Download"})]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[g.downloads," downloads"]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:g.tags.slice(0,3).map((r,p)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:r},p))})})]})]},g.id)})})]}),S=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"My Teaching Resources"}),e.jsxs("button",{onClick:()=>i("create"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:"Create New"})]})]}),e.jsx("div",{className:"space-y-4",children:x.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${l(g.type)}`,children:e.jsx(re,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:g.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[g.subject," • ",g.level]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",g.created]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[g.views," views"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[g.downloads," downloads"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${g.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g.status}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(je,{className:"w-4 h-4"})})]})]},g.id))})]})}),N=()=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Create New Teaching Resource"}),e.jsxs("form",{onSubmit:g=>{g.preventDefault();const c=new FormData(g.target);alert(`✅ Resource Created Successfully!

Title: ${c.get("title")||"New Resource"}
Subject: ${c.get("subject")}
Level: ${c.get("level")}
Type: ${c.get("type")}

Your resource has been published!`)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource Title"}),e.jsx("input",{name:"title",type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter resource title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),e.jsxs("select",{name:"subject",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"Mathematics",children:"Mathematics"}),e.jsx("option",{value:"Physics",children:"Physics"}),e.jsx("option",{value:"Chemistry",children:"Chemistry"}),e.jsx("option",{value:"Biology",children:"Biology"}),e.jsx("option",{value:"English",children:"English"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Level"}),e.jsxs("select",{name:"level",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Level"}),e.jsx("option",{value:"S1",children:"S1"}),e.jsx("option",{value:"S2",children:"S2"}),e.jsx("option",{value:"S3",children:"S3"}),e.jsx("option",{value:"S4",children:"S4"}),e.jsx("option",{value:"S5",children:"S5"}),e.jsx("option",{value:"S6",children:"S6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource Type"}),e.jsxs("select",{name:"type",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"document",children:"Document"}),e.jsx("option",{value:"video",children:"Video"}),e.jsx("option",{value:"audio",children:"Audio"}),e.jsx("option",{value:"interactive",children:"Interactive"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe your resource and how it can be used"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma separated)"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., calculus, integration, UNEB, practical"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload File"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[e.jsx(is,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, MP4, MP3, ZIP files up to 50MB"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"share",className:"rounded"}),e.jsx("label",{htmlFor:"share",className:"text-sm text-gray-700",children:"Share with other teachers"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{alert(`💾 Resource saved as draft!

You can continue editing later from "My Resources".`)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Save as Draft"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Publish Resource"})]})]})]})]});return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Teaching Resources"}),e.jsx("p",{className:"text-gray-600",children:"Access, create, and share educational resources with your colleagues"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:$.map(g=>e.jsxs("button",{onClick:()=>i(g.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${s===g.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(g.icon,{className:"w-4 h-4"}),e.jsx("span",{children:g.label})]},g.id))})})}),s==="library"&&h(),s==="my-resources"&&S(),s==="shared"&&h(),s==="create"&&N()]})},ol=({userRole:y,currentUser:A,activeTab:s})=>{const[i,v]=t.useState(null),[u,o]=t.useState(s==="class-schedules"?"schedules":"overview"),b=[],T=a=>{switch(a){case"up":return"text-green-600 bg-green-100";case"down":return"text-red-600 bg-red-100";default:return"text-blue-600 bg-blue-100"}},w=a=>{switch(a){case"assignment":return re;case"test":return Se;case"lab":return be;case"attendance":return me;default:return re}},$=()=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2 text-blue-600"}),"Class Schedules"]}),e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("button",{onClick:()=>o("overview"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="overview"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Class Overview"}),e.jsx("button",{onClick:()=>o("schedules"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="schedules"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Schedules"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(ne,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("h4",{className:"text-lg font-medium mb-2",children:"No Schedule Data Available"}),e.jsx("p",{className:"text-sm",children:"Class schedules will be displayed here once they are configured."})]})})]}),d=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Classes"}),e.jsx("p",{className:"text-gray-600",children:"Manage your classes and view performance"})]}),e.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Class"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(be,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Classes Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any classes assigned yet."}),e.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Your First Class"]})]}):b.map((a,l)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.subject}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(me,{className:"w-3 h-3 mr-1"}),a.students," students"]})]}),e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(a.trend)}`,children:[a.trend==="up"?"↗":a.trend==="down"?"↘":"→"," ",a.performance,"%"]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Room"}),e.jsx("span",{className:"font-medium",children:a.room})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Schedule"}),e.jsx("span",{className:"font-medium",children:a.schedule})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Next Class"}),e.jsx("span",{className:"font-medium",children:a.nextClass})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>v(a),className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"View Details"}),e.jsx("button",{className:"bg-gray-100 text-gray-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:e.jsx(Fe,{className:"w-4 h-4"})})]})]},l))})]}),x=()=>i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i.name}),e.jsxs("p",{className:"text-gray-600",children:[i.subject," • ",i.level," • ",i.room]})]}),e.jsx("button",{onClick:()=>v(null),className:"text-gray-500 hover:text-gray-700",children:e.jsx(je,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx(me,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:i.students}),e.jsx("div",{className:"text-sm text-blue-700",children:"Students"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx(he,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[i.performance.average,"%"]}),e.jsx("div",{className:"text-sm text-green-700",children:"Class Average"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx(ie,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[i.performance.attendance,"%"]}),e.jsx("div",{className:"text-sm text-purple-700",children:"Attendance"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[e.jsx(Se,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-900",children:[i.performance.lastTest,"%"]}),e.jsx("div",{className:"text-sm text-orange-700",children:"Last Test"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2 text-blue-600"}),"Class Schedule"]}),e.jsx("div",{className:"space-y-3",children:i.schedule.map((a,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium text-gray-900",children:a.day}),e.jsx("span",{className:"text-gray-600",children:a.time})]},l))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ce,{className:"w-5 h-5 mr-2 text-green-600"}),"Upcoming Events"]}),e.jsx("div",{className:"space-y-3",children:i.upcomingEvents.map((a,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.title}),e.jsx("div",{className:"text-sm text-gray-600",children:a.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.date}),e.jsx("div",{className:"text-xs text-gray-600",children:a.time})]})]},l))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-purple-600"}),"Recent Activity"]}),e.jsx("div",{className:"space-y-4",children:i.recentActivity.map((a,l)=>{const n=w(a.type);return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gray-100 rounded-full p-2",children:e.jsx(n,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.title}),e.jsx("div",{className:"text-sm text-gray-600",children:a.date})]})]}),e.jsxs("div",{className:"text-right",children:[a.submitted&&e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[a.submitted,"/",a.total," submitted"]}),a.average&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Average: ",a.average,"%"]}),a.present&&e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[a.present,"/",a.total," present"]})]})]},l)})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors text-center",children:[e.jsx(ie,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Mark Attendance"})]}),e.jsxs("button",{className:"p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors text-center",children:[e.jsx(re,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Create Assignment"})]}),e.jsxs("button",{className:"p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors text-center",children:[e.jsx(Se,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Grade Work"})]}),e.jsxs("button",{className:"p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors text-center",children:[e.jsx(Fe,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Message Class"})]})]})]})]}):null;return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u==="schedules"?$():i?x():d()})},xl=({userRole:y,currentUser:A})=>{const[s,i]=t.useState(""),[v,u]=t.useState(""),[o,b]=t.useState(null),[T,w]=t.useState("all"),[$,d]=t.useState("name"),x=[],a=[],n=[...a.filter(c=>{const r=c.name.toLowerCase().includes(v.toLowerCase())||c.studentId.toLowerCase().includes(v.toLowerCase()),p=T==="all"||T==="high-performers"&&c.performance.currentGrade>=85||T==="needs-attention"&&c.performance.currentGrade<75||T==="attendance-issues"&&c.performance.attendance<90;return r&&p})].sort((c,r)=>{switch($){case"name":return c.name.localeCompare(r.name);case"grade":return r.performance.currentGrade-c.performance.currentGrade;case"attendance":return r.performance.attendance-c.performance.attendance;case"rank":return c.performance.rank-r.performance.rank;default:return 0}}),h=c=>c>=85?"text-green-600 bg-green-100":c>=75?"text-blue-600 bg-blue-100":c>=65?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",S=c=>{switch(c){case"up":return e.jsx(he,{className:"w-4 h-4 text-green-600"});case"down":return e.jsx(he,{className:"w-4 h-4 text-red-600 transform rotate-180"});default:return e.jsx(he,{className:"w-4 h-4 text-blue-600 transform rotate-90"})}},N=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search students by name or ID...",value:v,onChange:c=>u(c.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:s,onChange:c=>i(c.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Classes"}),x.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))]}),e.jsxs("select",{value:T,onChange:c=>w(c.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Students"}),e.jsx("option",{value:"high-performers",children:"High Performers"}),e.jsx("option",{value:"needs-attention",children:"Needs Attention"}),e.jsx("option",{value:"attendance-issues",children:"Attendance Issues"})]}),e.jsxs("select",{value:$,onChange:c=>d(c.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"grade",children:"Sort by Grade"}),e.jsx("option",{value:"attendance",children:"Sort by Attendance"}),e.jsx("option",{value:"rank",children:"Sort by Rank"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",n.length," of ",a.length," students"]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(c=>e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("img",{src:c.photo,alt:c.name,className:"w-12 h-12 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:c.name}),e.jsx("p",{className:"text-sm text-gray-600",children:c.studentId}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded ${h(c.performance.currentGrade)}`,children:[c.performance.currentGrade,"%"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Rank #",c.performance.rank]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[c.performance.attendance,"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Attendance"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[c.performance.assignments.completed,"/",c.performance.assignments.total]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Assignments"})]})]}),e.jsx("div",{className:"space-y-2 mb-4",children:c.subjects.slice(0,2).map((r,p)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:r.name}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:"font-medium",children:[r.grade,"%"]}),S(r.trend)]})]},p))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>b(c),className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"View Profile"}),e.jsx("button",{className:"bg-gray-100 text-gray-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:e.jsx(Fe,{className:"w-4 h-4"})}),e.jsx("button",{className:"bg-gray-100 text-gray-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:e.jsx(We,{className:"w-4 h-4"})})]})]})},c.id))})]}),g=()=>o?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:o.photo,alt:o.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:o.name}),e.jsxs("p",{className:"text-gray-600",children:[o.studentId," • ",o.class]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsxs("span",{className:`px-3 py-1 text-sm font-bold rounded ${h(o.performance.currentGrade)}`,children:["Grade: ",o.performance.currentGrade,"%"]}),e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-bold rounded",children:["Rank #",o.performance.rank]})]})]})]}),e.jsx("button",{onClick:()=>b(null),className:"text-gray-500 hover:text-gray-700",children:e.jsx(je,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx(Se,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[o.performance.currentGrade,"%"]}),e.jsx("div",{className:"text-sm text-blue-700",children:"Overall Grade"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx(ie,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[o.performance.attendance,"%"]}),e.jsx("div",{className:"text-sm text-green-700",children:"Attendance"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx(re,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[o.performance.assignments.completed,"/",o.performance.assignments.total]}),e.jsx("div",{className:"text-sm text-purple-700",children:"Assignments"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[e.jsx(Ie,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-900",children:[o.performance.lastTest,"%"]}),e.jsx("div",{className:"text-sm text-orange-700",children:"Last Test"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(es,{className:"w-5 h-5 mr-2 text-blue-600"}),"Contact Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Student Email"}),e.jsx("p",{className:"text-gray-900",children:o.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Student Phone"}),e.jsx("p",{className:"text-gray-900",children:o.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Parent Email"}),e.jsx("p",{className:"text-gray-900",children:o.parentEmail})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Parent Phone"}),e.jsx("p",{className:"text-gray-900",children:o.parentPhone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Address"}),e.jsx("p",{className:"text-gray-900",children:o.address})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-green-600"}),"Subject Performance"]}),e.jsx("div",{className:"space-y-4",children:o.subjects.map((c,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium text-gray-900",children:c.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`px-2 py-1 text-sm font-bold rounded ${h(c.grade)}`,children:[c.grade,"%"]}),S(c.trend)]})]},r))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(ie,{className:"w-5 h-5 mr-2 text-purple-600"}),"Recent Activity"]}),e.jsx("div",{className:"space-y-3",children:o.recentActivity.map((c,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:c.title}),e.jsx("div",{className:"text-sm text-gray-600",children:c.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded ${c.status==="submitted"?"bg-green-100 text-green-800":c.status==="graded"?"bg-blue-100 text-blue-800":c.status==="present"?"bg-green-100 text-green-800":c.status==="absent"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:c.status}),c.grade&&e.jsxs("div",{className:"text-sm font-medium text-gray-900 mt-1",children:[c.grade,"%"]})]})]},r))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Fe,{className:"w-5 h-5 mr-2 text-orange-600"}),"Behavior Notes"]}),e.jsx("div",{className:"space-y-3",children:o.behaviorNotes.map((c,r)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:c.date}),e.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded ${c.type==="positive"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.type})]}),e.jsx("p",{className:"text-gray-900",children:c.note})]},r))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors text-center",children:[e.jsx(Fe,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Message Student"})]}),e.jsxs("button",{className:"p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors text-center",children:[e.jsx(We,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Call Parent"})]}),e.jsxs("button",{className:"p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors text-center",children:[e.jsx(ne,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Schedule Meeting"})]}),e.jsxs("button",{className:"p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors text-center",children:[e.jsx(re,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Generate Report"})]})]})]})]}):null;return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Student Roster"}),e.jsx("p",{className:"text-gray-600",children:"Manage your students, track their progress, and maintain communication"})]}),o?g():N()]})},ml=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("scan"),[v,u]=t.useState(null),[o,b]=t.useState(!1),T=[],w=n=>{switch(n){case"clean":return"bg-green-100 text-green-800";case"suspicious":return"bg-yellow-100 text-yellow-800";case"flagged":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$=n=>n<20?"text-green-600":n<40?"text-yellow-600":"text-red-600",d=()=>{b(!0),setTimeout(()=>{b(!1),u(null)},1500)},x=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(He,{className:"w-5 h-5 mr-2 text-blue-600"}),"Plagiarism Detection Scanner"]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",children:[e.jsx(is,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Document for Scanning"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop files or click to browse"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Supported formats: PDF, DOC, DOCX, TXT (Max 10MB)"}),e.jsx("button",{onClick:()=>{const n=document.createElement("input");n.type="file",n.accept=".pdf,.doc,.docx,.txt",n.multiple=!0,n.onchange=h=>{const S=Array.from(h.target.files);alert(`✅ ${S.length} file(s) selected for plagiarism check:

${S.map(N=>`• ${N.name} (${(N.size/1024).toFixed(2)} KB)`).join(`
`)}

Analyzing for plagiarism...`)},n.click()},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Choose Files"})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Name"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter student name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Title"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter assignment title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{children:"Mathematics"}),e.jsx("option",{children:"Physics"}),e.jsx("option",{children:"Chemistry"}),e.jsx("option",{children:"Biology"}),e.jsx("option",{children:"English"})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Check against internet sources"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Check against student database"})]})]}),e.jsxs("button",{onClick:d,disabled:o,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[o?e.jsx(ws,{className:"w-4 h-4 animate-spin"}):e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{children:o?"Scanning...":"Start Scan"})]})]})]}),v&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-purple-600"}),"Scan Results"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsxs("div",{className:`text-3xl font-bold ${$(v.plagiarismScore)}`,children:[v.plagiarismScore,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Similarity Score"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-900",children:v.wordCount}),e.jsx("div",{className:"text-sm text-green-700",children:"Words Analyzed"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:v.sources}),e.jsx("div",{className:"text-sm text-purple-700",children:"Sources Found"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-900",children:v.scanTime}),e.jsx("div",{className:"text-sm text-orange-700",children:"Scan Time"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Detected Matches"}),v.matches.map((n,h)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:n.source}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-lg font-bold ${$(n.similarity)}`,children:[n.similarity,"%"]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${n.type==="reference"?"bg-green-100 text-green-800":n.type==="potential"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.type})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',n.excerpt,'"']})]},h))]}),e.jsxs("div",{className:"mt-6 flex space-x-3",children:[e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Generate Report"}),e.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Mark as Reviewed"}),e.jsx("button",{className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Contact Student"})]})]})]}),a=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Recent Scans"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{children:"All Classes"}),e.jsx("option",{children:"S4A"}),e.jsx("option",{children:"S5B"}),e.jsx("option",{children:"S6A"})]}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{children:"All Statuses"}),e.jsx("option",{children:"Clean"}),e.jsx("option",{children:"Suspicious"}),e.jsx("option",{children:"Flagged"})]})]})]}),e.jsx("div",{className:"space-y-4",children:T.map(n=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:n.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[n.studentName," • ",n.class," • ",n.subject," • ",n.scanDate]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-2xl font-bold ${$(n.plagiarismScore)}`,children:[n.plagiarismScore,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"similarity"})]}),e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded ${w(n.status)}`,children:n.status})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{children:["Words: ",n.wordCount]}),e.jsxs("div",{children:["Sources: ",n.sources]}),e.jsxs("div",{children:["Matches: ",n.matches.length]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex space-x-2",children:n.matches.slice(0,3).map((h,S)=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:[h.source,": ",h.similarity,"%"]},S))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-800",children:e.jsx(Ne,{className:"w-4 h-4"})})]})]})]},n.id))})]})}),l=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analytics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No analytics data available yet."})]})});return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Plagiarism Detection"}),e.jsx("p",{className:"text-gray-600",children:"AI-powered plagiarism detection and academic integrity monitoring"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"scan",label:"New Scan",icon:Je},{id:"history",label:"Scan History",icon:ie},{id:"analytics",label:"Analytics",icon:de}].map(n=>e.jsxs("button",{onClick:()=>i(n.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${s===n.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(n.icon,{className:"w-4 h-4"}),e.jsx("span",{children:n.label})]},n.id))})})}),s==="scan"&&x(),s==="history"&&a(),s==="analytics"&&l()]})},qt=({userRole:y,currentUser:A})=>{var Q,q,te,Z;const[s,i]=t.useState("users"),[v,u]=t.useState(""),[o,b]=t.useState("all"),[T,w]=t.useState([]),[$,d]=t.useState(null),[x,a]=t.useState({}),[l,n]=t.useState(!1),[h,S]=t.useState(null),[N,g]=t.useState({}),[c,r]=t.useState({}),[p,k]=t.useState({}),[m,C]=t.useState(["View Grades","Submit Assignments","Access Library","Manage Classes","Grade Assignments","Create Lessons","View Child Progress","Pay Fees","Message Teachers","Full Access","User Management","System Settings","Manage Students","Manage Teachers","Manage Parents","View Reports","Manage Finances","Manage Attendance","Manage Timetable","Manage Exams"]);t.useEffect(()=>{z(),_(),J()},[]);const J=async()=>{try{const F=await(await fetch("http://localhost:5000/api/admin/stats")).json();F.success&&k(F.data)}catch(I){console.error("Error loading admin stats:",I)}},_=async()=>{try{const F=await(await fetch("http://localhost:5000/api/admin/roles")).json();if(F.success){const G={},le={};F.data.forEach(H=>{G[H.role]=H.permissions,le[H.role]=H.count}),g(G),r(le)}}catch(I){console.error("Error loading role permissions:",I);const F={student:["View Grades","Submit Assignments","Access Library"],teacher:["Manage Classes","Grade Assignments","Create Lessons","View Reports"],parent:["View Child Progress","Pay Fees","Message Teachers"],admin:["Full Access","User Management","System Settings","Manage Students","Manage Teachers","Manage Parents","View Reports","Manage Finances","Manage Attendance","Manage Timetable","Manage Exams"]},G={student:0,teacher:0,parent:0,admin:0};g(F),r(G)}},z=async()=>{try{const F=await(await fetch("http://localhost:5000/api/admin/users")).json();F.success&&w(F.data||[])}catch(I){console.error("Error loading users:",I)}},B=I=>{d(I.id),a({first_name:I.first_name||"",last_name:I.last_name||"",email:I.email||"",phone:I.phone||"",address:I.address||"",date_of_birth:I.date_of_birth||"",gender:I.gender||""})},f=async I=>{n(!0);try{const G=await(await fetch(`http://localhost:5000/api/admin/users/${I}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({admin_id:A.id,...x})})).json();G.success?(alert("Profile updated successfully!"),d(null),z()):alert(G.message||"Failed to update profile")}catch(F){console.error("Error updating user:",F),alert("Error updating profile")}finally{n(!1)}},R=async(I,F)=>{if(confirm("Are you sure you want to change this user's status?"))try{(await(await fetch(`http://localhost:5000/api/admin/users/${I}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({admin_id:A.id,is_active:!F})})).json()).success&&(alert("User status updated!"),z())}catch(G){console.error("Error updating status:",G)}},D=I=>{S(I)},L=async I=>{n(!0);try{(await fetch(`http://localhost:5000/api/admin/roles/${I}/permissions`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({admin_id:A.id,permissions:N[I]})})).ok?(alert("Role permissions updated successfully!"),S(null)):alert("Failed to update role permissions")}catch(F){console.error("Error updating role permissions:",F),alert("Error updating role permissions")}finally{n(!1)}},j=(I,F)=>{const G=N[I]||[],le=G.includes(F)?G.filter(H=>H!==F):[...G,F];g(H=>({...H,[I]:le}))},O=(I,F)=>{F.trim()&&!N[I].includes(F.trim())&&g(G=>({...G,[I]:[...G[I]||[],F.trim()]}))},M=T.filter(I=>{const F=I.name.toLowerCase().includes(v.toLowerCase())||I.email.toLowerCase().includes(v.toLowerCase()),G=o==="all"||I.role===o;return F&&G}),P=I=>({student:"bg-blue-100 text-blue-800",teacher:"bg-green-100 text-green-800",parent:"bg-purple-100 text-purple-800",admin:"bg-red-100 text-red-800"})[I]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-blue-800",children:((Q=p.role_counts)==null?void 0:Q.student)||0})]}),e.jsx(me,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Teachers"}),e.jsx("p",{className:"text-2xl font-bold text-green-800",children:((q=p.role_counts)==null?void 0:q.teacher)||0})]}),e.jsx(He,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Parents"}),e.jsx("p",{className:"text-2xl font-bold text-purple-800",children:((te=p.role_counts)==null?void 0:te.parent)||0})]}),e.jsx(me,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Admins"}),e.jsx("p",{className:"text-2xl font-bold text-red-800",children:((Z=p.role_counts)==null?void 0:Z.admin)||0})]}),e.jsx(He,{className:"w-8 h-8 text-red-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"users",label:"All Users",icon:me},{id:"register",label:"Register User",icon:Xs},{id:"roles",label:"Role Management",icon:He}].map(I=>e.jsxs("button",{onClick:()=>i(I.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===I.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(I.icon,{className:"w-4 h-4 mr-2"}),I.label]},I.id))})}),e.jsxs("div",{className:"p-6",children:[s==="users"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:v,onChange:I=>u(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsxs("select",{value:o,onChange:I=>b(I.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"student",children:"Students"}),e.jsx("option",{value:"teacher",children:"Teachers"}),e.jsx("option",{value:"parent",children:"Parents"}),e.jsx("option",{value:"admin",children:"Admins"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(I=>e.jsx(Me.Fragment,{children:e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:$===I.id?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:x.first_name,onChange:F=>a({...x,first_name:F.target.value}),className:"w-full px-2 py-1 border rounded text-sm",placeholder:"First Name"}),e.jsx("input",{type:"text",value:x.last_name,onChange:F=>a({...x,last_name:F.target.value}),className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Last Name"}),e.jsx("input",{type:"email",value:x.email,onChange:F=>a({...x,email:F.target.value}),className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Email"})]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:((I.first_name||"")+" "+(I.last_name||"")).trim().split(" ").map(F=>F[0]).join("")||"U"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[I.first_name," ",I.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:I.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P(I.role)}`,children:I.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$===I.id?e.jsx("input",{type:"tel",value:x.phone,onChange:F=>a({...x,phone:F.target.value}),className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Phone"}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"w-4 h-4 mr-1"}),I.phone||"N/A"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>R(I.id,I.is_active),className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full cursor-pointer ${I.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:I.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$===I.id?e.jsx("input",{type:"date",value:x.date_of_birth,onChange:F=>a({...x,date_of_birth:F.target.value}),className:"w-full px-2 py-1 border rounded text-sm"}):I.date_of_birth||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:$===I.id?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>f(I.id),disabled:l,className:"text-green-600 hover:text-green-900 disabled:opacity-50",children:e.jsx(ys,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>d(null),className:"text-red-600 hover:text-red-900",children:e.jsx(Qe,{className:"w-4 h-4"})})]}):e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{onClick:()=>B(I),className:"text-green-600 hover:text-green-900",title:"Edit Profile",children:e.jsx(ms,{className:"w-4 h-4"})})})})]})},I.id))})]})})]}),s==="register"&&e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Register New User"}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+256 7XX XXX XXX"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"teacher",children:"Teacher"}),e.jsx("option",{value:"parent",children:"Parent"}),e.jsx("option",{value:"admin",children:"Administrator"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("textarea",{rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter address"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Register User"})]})]})]}),s==="roles"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Role Management"}),h&&e.jsxs("button",{onClick:()=>S(null),className:"text-gray-500 hover:text-gray-700 flex items-center space-x-1",children:[e.jsx(Qe,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancel"})]})]}),h?e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h4",{className:"text-xl font-semibold capitalize",children:["Edit ",h," Permissions"]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:()=>L(h),disabled:l,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:l?"Saving...":"Save Changes"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Current Permissions"}),e.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[(N[h]||[]).map((I,F)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700",children:I}),e.jsx("button",{onClick:()=>j(h,I),className:"text-red-600 hover:text-red-800 p-1",children:e.jsx(Et,{className:"w-4 h-4"})})]},F)),(!N[h]||N[h].length===0)&&e.jsx("p",{className:"text-gray-500 text-sm",children:"No permissions assigned"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Available Permissions"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:m.filter(I=>!(N[h]||[]).includes(I)).map((I,F)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700",children:I}),e.jsx("button",{onClick:()=>j(h,I),className:"text-green-600 hover:text-green-800 p-1",children:e.jsx(ve,{className:"w-4 h-4"})})]},F))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h6",{className:"font-medium text-gray-900 mb-2",children:"Add Custom Permission"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Enter custom permission",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:I=>{I.key==="Enter"&&(O(h,I.target.value),I.target.value="")}}),e.jsx("button",{onClick:I=>{const F=I.target.previousElementSibling;O(h,F.value),F.value=""},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:e.jsx(ve,{className:"w-4 h-4"})})]})]})]})]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{role:"student"},{role:"teacher"},{role:"parent"},{role:"admin"}].map(I=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium capitalize",children:I.role}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${P(I.role)}`,children:c[I.role]||0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Permissions:"}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[(N[I.role]||[]).slice(0,3).map((F,G)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full mr-2"}),F]},G)),(N[I.role]||[]).length>3&&e.jsxs("li",{className:"text-gray-400",children:["+",(N[I.role]||[]).length-3," more"]})]})]}),e.jsxs("button",{onClick:()=>D(I.role),className:"mt-3 w-full flex items-center justify-center space-x-2 text-blue-600 text-sm hover:text-blue-800 hover:bg-blue-50 py-2 px-3 rounded-lg transition-colors",children:[e.jsx(Xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit Permissions"})]})]},I.role))})]})]})]})]})},st=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("search"),[u,o]=t.useState([]),[b,T]=t.useState([]),[w,$]=t.useState(!0),[d,x]=t.useState(""),[a,l]=t.useState(!1),[n,h]=t.useState(!1),[S,N]=t.useState(!1),[g,c]=t.useState(!1),[r,p]=t.useState([]),[k,m]=t.useState([]),[C,J]=t.useState([]),[_,z]=t.useState(null),[B,f]=t.useState(""),[R,D]=t.useState(""),[L,j]=t.useState(""),[O,M]=t.useState(!1),[P,Q]=t.useState(!1),[q,te]=t.useState(!1),[Z,I]=t.useState(null),[F,G]=t.useState(!1),[le,H]=t.useState(!1),[xe,Y]=t.useState(!1),[V,E]=t.useState(!1),[K,ae]=t.useState(!1),[Pe,Ee]=t.useState(!1),[Te,ss]=t.useState(!1),[bs,cs]=t.useState(!1),[Ge,ls]=t.useState({subject:"",topic:"",difficulty:"medium",question:""}),[Ke,ds]=t.useState({subjects:[],studyHours:4,examDate:"",preferredTimes:[]}),[rs,Ae]=t.useState({subject:"",topic:"",difficulty:"medium",questionCount:10,questionType:"multiple-choice"}),[ye,fe]=t.useState({text:"",summaryLength:"medium",focusArea:""}),[Ve,we]=t.useState({subject:"",topic:"",cardCount:20,difficulty:"medium"}),[Ue,Is]=t.useState({topic:"",essayType:"argumentative",wordCount:500,requirements:""}),[Be,os]=t.useState({title:"",author:"",isbn:"",category:"",subject:"",class_level:"",copies:1,publication_year:"",publisher:"",description:"",is_reference_only:!1,has_digital_copy:!1}),ts=(U,Re="success")=>{const $e=Date.now(),Ze={id:$e,message:U,type:Re};p(Oe=>[...Oe,Ze]),setTimeout(()=>{p(Oe=>Oe.filter(us=>us.id!==$e))},5e3)};t.useEffect(()=>{if(i==="search"){const U=setTimeout(()=>{_s()},500);return()=>clearTimeout(U)}else i==="my-books"?Ks():i==="digital-content"&&(Zs(),et(),(A==null?void 0:A.role)==="student"&&qs())},[i,d,R,L,B]);const _s=async()=>{$(!0);try{const U=localStorage.getItem("token"),Re="http://localhost:5000",$e=new URLSearchParams;d&&$e.append("query",d);const Ze=await fetch(`${Re}/api/library/books?${$e}`,{headers:{Authorization:`Bearer ${U}`}});if(Ze.ok){const Oe=await Ze.json();o(Oe.books||Oe.data||[])}else console.warn("Failed to fetch books:",Ze.status),o([])}catch(U){console.error("Error searching books:",U),o([])}finally{$(!1)}},Ks=async()=>{$(!0);try{const U=localStorage.getItem("token"),$e=await fetch("http://localhost:5000/api/library/my-books",{headers:{Authorization:`Bearer ${U}`}});if($e.ok){const Ze=await $e.json();T(Ze.borrowings||Ze.data||[])}else console.warn("Failed to fetch my books:",$e.status),T([])}catch(U){console.error("Error fetching my books:",U),T([])}finally{$(!1)}},Hs=async U=>{try{const Re=localStorage.getItem("token"),Oe=await(await fetch("http://localhost:5000/api/library/borrow",{method:"POST",headers:{Authorization:`Bearer ${Re}`,"Content-Type":"application/json"},body:JSON.stringify({book_id:U})})).json();Oe.success?(alert("✅ Book borrowed successfully!"),_s()):alert(`❌ Failed to borrow book: ${Oe.message}`)}catch{alert("Error borrowing book")}},Os=async U=>{U.preventDefault();try{const Re=localStorage.getItem("token"),Oe=await(await fetch("http://localhost:5000/api/library/books",{method:"POST",headers:{Authorization:`Bearer ${Re}`,"Content-Type":"application/json"},body:JSON.stringify(Be)})).json();Oe.success?(alert("✅ Book added successfully!"),l(!1),os({title:"",author:"",isbn:"",category:"",subject:"",class_level:"",copies:1,publication_year:"",publisher:"",description:"",is_reference_only:!1,has_digital_copy:!1}),_s()):alert(`❌ Failed to add book: ${Oe.message}`)}catch(Re){console.error("Error adding book:",Re),alert("❌ Network error occurred while adding book")}},Zs=async()=>{try{const U=new URLSearchParams;R&&U.append("type",R),L&&U.append("category_id",L),B&&U.append("search",B),(A==null?void 0:A.role)==="teacher"&&U.append("uploaded_by",A.id);const $e=await(await fetch(`http://localhost:5000/api/content?${U}`)).json();$e.success?m($e.data):m([{id:1,title:"Mathematics S1-S3 Complete Course",description:"Comprehensive mathematics course covering algebra, geometry, and basic statistics for Senior 1-3 students.",content_type:"video",is_premium:!1,price:0,currency:"UGX",view_count:1250,download_count:89},{id:2,title:"Physics Laboratory Experiments",description:"Step-by-step video guides for all physics experiments required in the UNEB curriculum.",content_type:"video",is_premium:!0,price:15e3,currency:"UGX",view_count:890,download_count:45},{id:3,title:"English Literature Study Guide",description:"Complete study guide for English literature with analysis of key texts and exam techniques.",content_type:"pdf",is_premium:!1,price:0,currency:"UGX",view_count:2100,download_count:156},{id:4,title:"Chemistry Periodic Table Interactive",description:"Interactive periodic table with element properties, reactions, and practice quizzes.",content_type:"document",is_premium:!0,price:8e3,currency:"UGX",view_count:675,download_count:23},{id:5,title:"Biology Cell Structure Diagrams",description:"High-quality diagrams and illustrations of cell structures for biology students.",content_type:"image",is_premium:!1,price:0,currency:"UGX",view_count:1450,download_count:78},{id:6,title:"History of Uganda Audio Series",description:"Audio recordings covering the complete history of Uganda from pre-colonial times to independence.",content_type:"audio",is_premium:!0,price:12e3,currency:"UGX",view_count:432,download_count:34}])}catch(U){console.error("Error loading content:",U),m([{id:1,title:"Mathematics S1-S3 Complete Course",description:"Comprehensive mathematics course covering algebra, geometry, and basic statistics for Senior 1-3 students.",content_type:"video",is_premium:!1,price:0,currency:"UGX",view_count:1250,download_count:89},{id:2,title:"Physics Laboratory Experiments",description:"Step-by-step video guides for all physics experiments required in the UNEB curriculum.",content_type:"video",is_premium:!0,price:15e3,currency:"UGX",view_count:890,download_count:45},{id:3,title:"English Literature Study Guide",description:"Complete study guide for English literature with analysis of key texts and exam techniques.",content_type:"pdf",is_premium:!1,price:0,currency:"UGX",view_count:2100,download_count:156},{id:4,title:"Chemistry Periodic Table Interactive",description:"Interactive periodic table with element properties, reactions, and practice quizzes.",content_type:"document",is_premium:!0,price:8e3,currency:"UGX",view_count:675,download_count:23},{id:5,title:"Biology Cell Structure Diagrams",description:"High-quality diagrams and illustrations of cell structures for biology students.",content_type:"image",is_premium:!1,price:0,currency:"UGX",view_count:1450,download_count:78},{id:6,title:"History of Uganda Audio Series",description:"Audio recordings covering the complete history of Uganda from pre-colonial times to independence.",content_type:"audio",is_premium:!0,price:12e3,currency:"UGX",view_count:432,download_count:34}])}},et=async()=>{try{const Re=await(await fetch("http://localhost:5000/api/content/categories")).json();Re.success?J(Re.data):J([{id:1,name:"Mathematics"},{id:2,name:"Physics"},{id:3,name:"Chemistry"},{id:4,name:"Biology"},{id:5,name:"English"},{id:6,name:"History"},{id:7,name:"Geography"},{id:8,name:"Computer Science"}])}catch(U){console.error("Error loading categories:",U),J([{id:1,name:"Mathematics"},{id:2,name:"Physics"},{id:3,name:"Chemistry"},{id:4,name:"Biology"},{id:5,name:"English"},{id:6,name:"History"},{id:7,name:"Geography"},{id:8,name:"Computer Science"}])}},qs=async()=>{try{const U=localStorage.getItem("token"),$e=await(await fetch("http://localhost:5000/api/content/my-purchases",{headers:{Authorization:`Bearer ${U}`}})).json();$e.success&&setMyPurchases($e.data)}catch(U){console.error("Error loading purchases:",U)}},X=async U=>{const Re=k.find($e=>$e.id===U);I(Re),Q(!0)},ue=async()=>{try{const U=localStorage.getItem("token"),$e=await(await fetch("http://localhost:5000/api/content/purchase",{method:"POST",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"},body:JSON.stringify({content_id:Z.id})})).json();$e.success?(ts("✅ Content purchased successfully!","success"),qs(),Q(!1),I(null)):ts(`❌ Purchase failed: ${$e.message}`,"error")}catch{ts("❌ Error purchasing content","error")}},De=async(U,Re)=>{const $e=k.find(Ze=>Ze.id===U);I({...$e,title:Re}),te(!0)},hs=async()=>{try{const U=localStorage.getItem("token"),$e=await fetch(`http://localhost:5000/api/content/download/${Z.id}`,{method:"GET",headers:{Authorization:`Bearer ${U}`}});if($e.ok){const Ze=await $e.blob(),Oe=window.URL.createObjectURL(Ze);let us="pdf";const ns=Ze.type;ns.includes("pdf")?us="pdf":ns.includes("doc")?us="doc":ns.includes("docx")?us="docx":ns.includes("txt")?us="txt":ns.includes("mp4")?us="mp4":ns.includes("mp3")?us="mp3":ns.includes("jpg")||ns.includes("jpeg")?us="jpg":ns.includes("png")&&(us="png");const Ls=document.createElement("a");Ls.href=Oe;const nt=Z.title.replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/\s+/g,"_");Ls.download=`${nt}.${us}`,Ls.style.display="none",document.body.appendChild(Ls),Ls.click(),document.body.removeChild(Ls),window.URL.revokeObjectURL(Oe),ts("✅ Content downloaded successfully!","success"),te(!1),I(null)}else{const Ze=`This is a demo download for: ${Z.title}

Content Type: ${Z.type||"Document"}
Description: ${Z.description||"No description available"}

In a real application, this would be the actual file content.`,Oe=new Blob([Ze],{type:"text/plain"}),us=window.URL.createObjectURL(Oe),ns=document.createElement("a");ns.href=us,ns.download=`${Z.title}.txt`,ns.style.display="none",document.body.appendChild(ns),ns.click(),document.body.removeChild(ns),window.URL.revokeObjectURL(us),ts(`📥 Demo download completed for "${Z.title}"!`,"success"),te(!1),I(null)}}catch(U){console.error("Download error:",U);const Re=`Demo Download: ${Z.title}

This is a demonstration download.
In a real application, this would download the actual file.

Content Details:
- Type: ${Z.type||"Document"}
- Description: ${Z.description||"No description"}
- Category: ${Z.category||"General"}`;try{const $e=new Blob([Re],{type:"text/plain"}),Ze=window.URL.createObjectURL($e),Oe=document.createElement("a");Oe.href=Ze,Oe.download=`${Z.title}_demo.txt`,Oe.style.display="none",document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),window.URL.revokeObjectURL(Ze),ts(`📥 Demo download completed for "${Z.title}"!`,"success")}catch{ts(`❌ Download failed: ${U.message}`,"error")}te(!1),I(null)}};return w?e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(be,{className:"w-5 h-5 mr-2 text-blue-600"}),"School Library"]})}),e.jsxs("div",{className:"flex space-x-4 border-b border-gray-200 overflow-x-auto scrollbar-hide",children:[e.jsxs("button",{onClick:()=>v("search"),className:`flex-shrink-0 pb-2 px-1 whitespace-nowrap ${i==="search"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(Je,{className:"w-4 h-4 inline mr-1"}),"Search Books"]}),e.jsxs("button",{onClick:()=>v("my-books"),className:`flex-shrink-0 pb-2 px-1 whitespace-nowrap ${i==="my-books"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(es,{className:"w-4 h-4 inline mr-1"}),"My Books"]}),e.jsxs("button",{onClick:()=>v("study-materials"),className:`flex-shrink-0 pb-2 px-1 whitespace-nowrap ${i==="study-materials"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(re,{className:"w-4 h-4 inline mr-1"}),"Study Materials"]}),e.jsxs("button",{onClick:()=>v("past-papers"),className:`flex-shrink-0 pb-2 px-1 whitespace-nowrap ${i==="past-papers"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(Ne,{className:"w-4 h-4 inline mr-1"}),"Past Papers"]}),e.jsxs("button",{onClick:()=>v("digital-content"),className:`flex-shrink-0 pb-2 px-1 whitespace-nowrap ${i==="digital-content"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(ke,{className:"w-4 h-4 inline mr-1"}),"Digital Content"]}),e.jsxs("button",{onClick:()=>v("ai-tools"),className:`flex-shrink-0 pb-2 px-1 whitespace-nowrap ${i==="ai-tools"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(pe,{className:"w-4 h-4 inline mr-1"}),"AI Study Tools"]})]})]}),i==="search"&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("input",{type:"text",value:d,onChange:U=>x(U.target.value),placeholder:"Search by title, author, or ISBN...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{onClick:_s,disabled:w,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:w?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(Je,{className:"w-4 h-4"})})]})}),u.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(U=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:U.title}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["by ",U.author]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1 mb-3",children:[U.category&&e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",U.category]}),U.subject&&e.jsxs("p",{children:[e.jsx("strong",{children:"Subject:"})," ",U.subject]}),U.class_level&&e.jsxs("p",{children:[e.jsx("strong",{children:"Level:"})," ",U.class_level]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U.available_copies>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U.available_copies>0?`${U.available_copies} available`:"Not available"}),U.available_copies>0&&!U.is_reference_only&&e.jsx("button",{onClick:()=>Hs(U.id),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Borrow"})]})]},U.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(it,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No books found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria"})]})]})}),i==="my-books"&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"font-medium mb-4",children:"My Borrowed Books"}),b.length>0?e.jsx("div",{className:"space-y-4",children:b.map(U=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-semibold text-gray-800",children:U.book_title}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["by ",U.book_author]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Borrowed:"})," ",new Date(U.borrowed_date).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Due:"})," ",new Date(U.due_date).toLocaleDateString()]})]})]}),e.jsxs("span",{className:`flex items-center px-2 py-1 rounded-full text-xs font-medium ${U.status==="returned"?"bg-green-100 text-green-800":U.is_overdue?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[U.status==="returned"?e.jsx(se,{className:"w-3 h-3 mr-1"}):U.is_overdue?e.jsx(oe,{className:"w-3 h-3 mr-1"}):e.jsx(ie,{className:"w-3 h-3 mr-1"}),U.status==="returned"?"Returned":U.is_overdue?"Overdue":"Borrowed"]})]})},U.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(it,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No borrowed books"}),e.jsx("p",{className:"text-sm",children:"Visit the library to borrow books"})]})]})}),y==="admin"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:"Library Management"}),e.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Book"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>h(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(de,{className:"w-6 h-6 text-blue-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"Library Analytics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View usage statistics and reports"})]}),e.jsxs("button",{onClick:()=>N(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(be,{className:"w-6 h-6 text-green-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"Manage Categories"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Organize book categories and subjects"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(ve,{className:"w-6 h-6 text-purple-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"Bulk Import"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Import multiple books from files"})]})]})]}),i==="study-materials"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(re,{className:"w-5 h-5 mr-2 text-green-600"}),"Study Materials"]}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(re,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No study materials available"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Study materials will appear here when uploaded by teachers"})]})]}),i==="digital-content"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(ke,{className:"w-5 h-5 mr-2 text-blue-600"}),"Digital Content Library"]}),(A==null?void 0:A.role)==="teacher"&&e.jsxs("button",{onClick:()=>M(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(is,{className:"w-5 h-5"}),e.jsx("span",{children:"Upload Content"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:B,onChange:U=>f(U.target.value),placeholder:"Search content...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:R,onChange:U=>D(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"video",children:"Videos"}),e.jsx("option",{value:"document",children:"Documents"}),e.jsx("option",{value:"pdf",children:"PDFs"}),e.jsx("option",{value:"image",children:"Images"}),e.jsx("option",{value:"audio",children:"Audio"})]}),e.jsxs("select",{value:L,onChange:U=>j(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Categories"}),C.map(U=>e.jsx("option",{value:U.id,children:U.name},U.id))]})]}),k.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(U=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsxs("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:[U.content_type==="video"&&e.jsx(ke,{className:"w-5 h-5 text-blue-600"}),U.content_type==="document"&&e.jsx(re,{className:"w-5 h-5 text-green-600"}),U.content_type==="pdf"&&e.jsx(re,{className:"w-5 h-5 text-red-600"}),U.content_type==="image"&&e.jsx(Dt,{className:"w-5 h-5 text-purple-600"}),U.content_type==="audio"&&e.jsx(ta,{className:"w-5 h-5 text-orange-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:U.title}),e.jsx("p",{className:"text-sm text-gray-600",children:U.content_type})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:U.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-2",children:U.is_premium?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ze,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[U.price," ",U.currency]})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"Free"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>z(U),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:e.jsx(je,{className:"w-4 h-4"})}),U.is_premium?e.jsxs("button",{onClick:()=>X(U.id),className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center space-x-1",children:[e.jsx(dt,{className:"w-4 h-4"}),e.jsx("span",{children:"Buy"})]}):e.jsxs("button",{onClick:()=>De(U.id,U.title),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center space-x-1",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Download"})]})]})]})]},U.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ke,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No digital content available"}),e.jsx("p",{className:"text-sm",children:"Content will appear here when uploaded by teachers"})]})]}),i==="ai-tools"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(pe,{className:"w-5 h-5 mr-2 text-blue-600"}),"AI Study Tools"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(pe,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:"AI Tutor"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Personalized Learning Assistant"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Get personalized help with your studies across all subjects"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Mathematics & Physics"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Chemistry & Biology"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"English Literature"})]})]}),e.jsx("button",{onClick:()=>Y(!0),className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Start Learning Session"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ne,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:"Study Planner"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Smart Schedule Optimization"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"AI-powered study schedule optimization with personalized timing"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Optimal Study Blocks"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Break Intervals"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Exam Preparation Timeline"})]})]}),e.jsx("button",{onClick:()=>E(!0),className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Generate Study Plan"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(de,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:"Quiz Generator"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Practice Test Creator"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Generate practice quizzes from your notes and study materials"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Multiple Choice Questions"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Difficulty Levels"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Time Limits"})]})]}),e.jsx("button",{onClick:()=>ae(!0),className:"w-full px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Create Practice Quiz"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(re,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:"Note Summarizer"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Text Analysis Tool"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Summarize long texts into key points and study-friendly formats"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Key Points Extraction"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Concept Highlighting"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Study Format"})]})]}),e.jsx("button",{onClick:()=>Ee(!0),className:"w-full px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium",children:"Summarize Notes"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(it,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:"Flashcard Creator"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Memory Enhancement"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create flashcards for effective memorization and spaced repetition"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Front & Back Cards"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Spaced Repetition"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Progress Tracking"})]})]}),e.jsx("button",{onClick:()=>ss(!0),className:"w-full px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Create Flashcards"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(Je,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:"Essay Helper"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Writing Assistant"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Get help with essay structure, ideas, and writing guidance"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Topic Analysis"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Structure Outline"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Citation Suggestions"})]})]}),e.jsx("button",{onClick:()=>cs(!0),className:"w-full px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Get Writing Help"})]})]})]}),i==="past-papers"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ne,{className:"w-5 h-5 mr-2 text-purple-600"}),"Past Papers"]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(pe,{className:"w-6 h-6 text-purple-600"}),e.jsx("h4",{className:"font-semibold text-purple-900",children:"AI Exam Predictions"})]}),e.jsx("p",{className:"text-sm text-purple-800 mb-4",children:"Get AI-powered predictions for upcoming exams based on past paper analysis and curriculum patterns."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Mathematics Predictions"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Algebra:"}),e.jsx("span",{className:"font-medium text-green-600",children:"High Probability"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Geometry:"}),e.jsx("span",{className:"font-medium text-blue-600",children:"Medium Probability"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Statistics:"}),e.jsx("span",{className:"font-medium text-orange-600",children:"Low Probability"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[e.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Physics Predictions"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Mechanics:"}),e.jsx("span",{className:"font-medium text-green-600",children:"High Probability"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Electricity:"}),e.jsx("span",{className:"font-medium text-green-600",children:"High Probability"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Waves:"}),e.jsx("span",{className:"font-medium text-blue-600",children:"Medium Probability"})]})]})]})]}),e.jsxs("div",{className:"mt-4 flex space-x-3",children:[e.jsxs("button",{onClick:()=>G(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Get Full Predictions"})]}),e.jsx("button",{onClick:()=>H(!0),className:"px-4 py-2 border border-purple-300 text-purple-700 rounded-lg hover:bg-purple-50 transition-colors",children:"View Analysis Report"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:"Available Past Papers"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"All Subjects"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"physics",children:"Physics"}),e.jsx("option",{value:"chemistry",children:"Chemistry"}),e.jsx("option",{value:"biology",children:"Biology"}),e.jsx("option",{value:"english",children:"English"})]}),e.jsxs("select",{className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"All Years"}),e.jsx("option",{value:"2023",children:"2023"}),e.jsx("option",{value:"2022",children:"2022"}),e.jsx("option",{value:"2021",children:"2021"}),e.jsx("option",{value:"2020",children:"2020"})]})]})]}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ne,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No past papers available"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Past papers will appear here when uploaded by teachers"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-4",children:"Library Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Total Books"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),e.jsx("div",{className:"text-sm text-green-700",children:"Available"})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"0"}),e.jsx("div",{className:"text-sm text-yellow-700",children:"Borrowed"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),e.jsx("div",{className:"text-sm text-purple-700",children:"Active Users"})]})]})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add New Book"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("form",{onSubmit:Os,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Book Title *"}),e.jsx("input",{type:"text",required:!0,value:Be.title,onChange:U=>os({...Be,title:U.target.value}),placeholder:"Enter book title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author *"}),e.jsx("input",{type:"text",required:!0,value:Be.author,onChange:U=>os({...Be,author:U.target.value}),placeholder:"Enter author name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ISBN Number"}),e.jsx("input",{type:"text",value:Be.isbn,onChange:U=>os({...Be,isbn:U.target.value}),placeholder:"Enter ISBN (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:Be.category,onChange:U=>os({...Be,category:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"textbook",children:"Textbook"}),e.jsx("option",{value:"reference",children:"Reference"}),e.jsx("option",{value:"fiction",children:"Fiction"}),e.jsx("option",{value:"non-fiction",children:"Non-Fiction"}),e.jsx("option",{value:"science",children:"Science"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"literature",children:"Literature"}),e.jsx("option",{value:"history",children:"History"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),e.jsxs("select",{value:Be.subject,onChange:U=>os({...Be,subject:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select subject"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"physics",children:"Physics"}),e.jsx("option",{value:"chemistry",children:"Chemistry"}),e.jsx("option",{value:"biology",children:"Biology"}),e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"history",children:"History"}),e.jsx("option",{value:"geography",children:"Geography"}),e.jsx("option",{value:"economics",children:"Economics"}),e.jsx("option",{value:"computer-science",children:"Computer Science"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Level"}),e.jsxs("select",{value:Be.class_level,onChange:U=>os({...Be,class_level:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select class level"}),e.jsx("option",{value:"senior-1",children:"Senior 1"}),e.jsx("option",{value:"senior-2",children:"Senior 2"}),e.jsx("option",{value:"senior-3",children:"Senior 3"}),e.jsx("option",{value:"senior-4",children:"Senior 4"}),e.jsx("option",{value:"senior-5",children:"Senior 5"}),e.jsx("option",{value:"senior-6",children:"Senior 6"}),e.jsx("option",{value:"all-levels",children:"All Levels"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Copies *"}),e.jsx("input",{type:"number",required:!0,min:"1",value:Be.copies,onChange:U=>os({...Be,copies:parseInt(U.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Publication Year"}),e.jsx("input",{type:"number",min:"1900",max:new Date().getFullYear(),value:Be.publication_year,onChange:U=>os({...Be,publication_year:U.target.value}),placeholder:"e.g., 2023",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Publisher"}),e.jsx("input",{type:"text",value:Be.publisher,onChange:U=>os({...Be,publisher:U.target.value}),placeholder:"Enter publisher name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{rows:"4",value:Be.description,onChange:U=>os({...Be,description:U.target.value}),placeholder:"Enter book description (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"reference-only",checked:Be.is_reference_only,onChange:U=>os({...Be,is_reference_only:U.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"reference-only",className:"ml-2 block text-sm text-gray-700",children:"Reference Only (Not borrowable)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"digital-copy",checked:Be.has_digital_copy,onChange:U=>os({...Be,has_digital_copy:U.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"digital-copy",className:"ml-2 block text-sm text-gray-700",children:"Digital Copy Available"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Book"})]})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-2xl w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📊 Library Analytics & Reports"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"library-analytics-form",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Report Type *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Report Type"}),e.jsx("option",{value:"usage",children:"Book Usage Statistics"}),e.jsx("option",{value:"popular",children:"Popular Subjects & Categories"}),e.jsx("option",{value:"borrowing",children:"Borrowing Patterns"}),e.jsx("option",{value:"engagement",children:"User Engagement Metrics"}),e.jsx("option",{value:"overdue",children:"Overdue Book Tracking"}),e.jsx("option",{value:"growth",children:"Collection Growth Analysis"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Date Range *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Date Range"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"term",children:"This Term"}),e.jsx("option",{value:"year",children:"This Year"}),e.jsx("option",{value:"custom",children:"Custom Range"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full p-3 rounded-lg border bg-white border-gray-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full p-3 rounded-lg border bg-white border-gray-300"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Filter by Category"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"academic",children:"Academic"}),e.jsx("option",{value:"fiction",children:"Fiction"}),e.jsx("option",{value:"reference",children:"Reference"}),e.jsx("option",{value:"textbooks",children:"Textbooks"}),e.jsx("option",{value:"research",children:"Research"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Export Format"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"PDF Report"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Excel Spreadsheet"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"CSV Data"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Charts & Graphs"})]})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"library-analytics-form",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Generate Report"})]})})]})}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🔍 Manage Categories"}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"manage-categories-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Action Type *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Action"}),e.jsx("option",{value:"create",children:"Create New Category"}),e.jsx("option",{value:"edit",children:"Edit Existing Category"}),e.jsx("option",{value:"assign",children:"Assign Books to Categories"}),e.jsx("option",{value:"organize",children:"Organize by Subject"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Category Name *"}),e.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"Enter category name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Subject Alignment"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"science",children:"Science"}),e.jsx("option",{value:"history",children:"History"}),e.jsx("option",{value:"geography",children:"Geography"}),e.jsx("option",{value:"uneb",children:"UNEB Curriculum"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Class Level"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"",children:"All Levels"}),e.jsx("option",{value:"S1",children:"Senior 1"}),e.jsx("option",{value:"S2",children:"Senior 2"}),e.jsx("option",{value:"S3",children:"Senior 3"}),e.jsx("option",{value:"S4",children:"Senior 4"}),e.jsx("option",{value:"S5",children:"Senior 5"}),e.jsx("option",{value:"S6",children:"Senior 6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Description"}),e.jsx("textarea",{rows:"3",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"Category description and guidelines..."})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"manage-categories-form",className:"flex-1 py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Save Category"})]})})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📋 Bulk Import Books"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"bulk-import-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Import Method *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Method"}),e.jsx("option",{value:"csv",children:"CSV File Upload"}),e.jsx("option",{value:"excel",children:"Excel Spreadsheet"}),e.jsx("option",{value:"isbn",children:"ISBN Batch Lookup"}),e.jsx("option",{value:"manual",children:"Manual Entry"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Upload File *"}),e.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0}),e.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"Supported formats: CSV, Excel (.xlsx, .xls)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Default Category"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"",children:"Select Default Category"}),e.jsx("option",{value:"academic",children:"Academic"}),e.jsx("option",{value:"fiction",children:"Fiction"}),e.jsx("option",{value:"reference",children:"Reference"}),e.jsx("option",{value:"textbooks",children:"Textbooks"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Import Options"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Automatic metadata retrieval"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Bulk category assignment"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Duplicate detection"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Auto-generate book IDs"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Processing Notes"}),e.jsx("textarea",{rows:"3",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"Any special instructions for processing..."})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"bulk-import-form",className:"flex-1 py-2 px-4 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:"Start Import"})]})})]})}),xe&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(pe,{className:"w-6 h-6 mr-2 text-blue-600"}),"AI Tutor Session"]}),e.jsx("button",{onClick:()=>Y(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),e.jsxs("select",{value:Ge.subject,onChange:U=>ls({...Ge,subject:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"physics",children:"Physics"}),e.jsx("option",{value:"chemistry",children:"Chemistry"}),e.jsx("option",{value:"biology",children:"Biology"}),e.jsx("option",{value:"english",children:"English Literature"}),e.jsx("option",{value:"history",children:"History"}),e.jsx("option",{value:"geography",children:"Geography"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),e.jsx("input",{type:"text",value:Ge.topic,onChange:U=>ls({...Ge,topic:U.target.value}),placeholder:"e.g., Quadratic Equations, Photosynthesis",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),e.jsxs("select",{value:Ge.difficulty,onChange:U=>ls({...Ge,difficulty:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Question *"}),e.jsx("textarea",{rows:"4",value:Ge.question,onChange:U=>ls({...Ge,question:U.target.value}),placeholder:"Ask your question here...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>Y(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",onClick:U=>{U.preventDefault(),ts("🤖 AI Tutor Session Started! Your personalized AI tutor is now analyzing your question and preparing a detailed explanation with examples and practice problems.","success"),Y(!1)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Start Session"})]})]})]})}),V&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(ne,{className:"w-6 h-6 mr-2 text-green-600"}),"AI Study Planner"]}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subjects to Study *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Mathematics","Physics","Chemistry","Biology","English","History","Geography"].map(U=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:Ke.subjects.includes(U),onChange:Re=>{Re.target.checked?ds({...Ke,subjects:[...Ke.subjects,U]}):ds({...Ke,subjects:Ke.subjects.filter($e=>$e!==U)})},className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:U})]},U))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daily Study Hours"}),e.jsx("input",{type:"number",min:"1",max:"12",value:Ke.studyHours,onChange:U=>ds({...Ke,studyHours:parseInt(U.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Date"}),e.jsx("input",{type:"date",value:Ke.examDate,onChange:U=>ds({...Ke,examDate:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Study Times"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Morning (6-10 AM)","Afternoon (12-4 PM)","Evening (6-10 PM)"].map(U=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:Ke.preferredTimes.includes(U),onChange:Re=>{Re.target.checked?ds({...Ke,preferredTimes:[...Ke.preferredTimes,U]}):ds({...Ke,preferredTimes:Ke.preferredTimes.filter($e=>$e!==U)})},className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:U})]},U))})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",onClick:U=>{U.preventDefault(),ts("📅 Study Plan Generated! Your AI-powered study schedule has been created with optimal study blocks, break intervals, and exam preparation timeline. Plan saved to your calendar!","success"),E(!1)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Generate Plan"})]})]})]})}),K&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(de,{className:"w-6 h-6 mr-2 text-purple-600"}),"Quiz Generator"]}),e.jsx("button",{onClick:()=>ae(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),e.jsxs("select",{value:rs.subject,onChange:U=>Ae({...rs,subject:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"physics",children:"Physics"}),e.jsx("option",{value:"chemistry",children:"Chemistry"}),e.jsx("option",{value:"biology",children:"Biology"}),e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"history",children:"History"}),e.jsx("option",{value:"geography",children:"Geography"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),e.jsx("input",{type:"text",value:rs.topic,onChange:U=>Ae({...rs,topic:U.target.value}),placeholder:"e.g., Algebra, Photosynthesis",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),e.jsxs("select",{value:rs.difficulty,onChange:U=>Ae({...rs,difficulty:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Questions"}),e.jsx("input",{type:"number",min:"5",max:"50",value:rs.questionCount,onChange:U=>Ae({...rs,questionCount:parseInt(U.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),e.jsxs("select",{value:rs.questionType,onChange:U=>Ae({...rs,questionType:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"multiple-choice",children:"Multiple Choice"}),e.jsx("option",{value:"true-false",children:"True/False"}),e.jsx("option",{value:"fill-blank",children:"Fill in the Blank"}),e.jsx("option",{value:"mixed",children:"Mixed Types"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>ae(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",onClick:U=>{U.preventDefault(),ts(`📝 Quiz Generated! Your personalized quiz has been created with ${rs.questionCount} ${rs.questionType} questions on ${rs.subject}. Difficulty: ${rs.difficulty}, Time limit: 30 minutes.`,"success"),ae(!1)},className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Generate Quiz"})]})]})]})}),Pe&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(re,{className:"w-6 h-6 mr-2 text-orange-600"}),"Note Summarizer"]}),e.jsx("button",{onClick:()=>Ee(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text to Summarize *"}),e.jsx("textarea",{rows:"8",value:ye.text,onChange:U=>fe({...ye,text:U.target.value}),placeholder:"Paste your notes or text here...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Summary Length"}),e.jsxs("select",{value:ye.summaryLength,onChange:U=>fe({...ye,summaryLength:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"short",children:"Short (Key points only)"}),e.jsx("option",{value:"medium",children:"Medium (Detailed summary)"}),e.jsx("option",{value:"long",children:"Long (Comprehensive summary)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Focus Area"}),e.jsx("input",{type:"text",value:ye.focusArea,onChange:U=>fe({...ye,focusArea:U.target.value}),placeholder:"e.g., Important concepts, Key formulas",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>Ee(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",onClick:U=>{U.preventDefault(),ts("📄 Notes Summarized! Your text has been processed with key points extracted, important concepts highlighted, and formatted into a study-friendly summary with bullet points.","success"),Ee(!1)},className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Summarize"})]})]})]})}),Te&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(it,{className:"w-6 h-6 mr-2 text-red-600"}),"Flashcard Creator"]}),e.jsx("button",{onClick:()=>ss(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),e.jsxs("select",{value:Ve.subject,onChange:U=>we({...Ve,subject:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"physics",children:"Physics"}),e.jsx("option",{value:"chemistry",children:"Chemistry"}),e.jsx("option",{value:"biology",children:"Biology"}),e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"history",children:"History"}),e.jsx("option",{value:"geography",children:"Geography"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),e.jsx("input",{type:"text",value:Ve.topic,onChange:U=>we({...Ve,topic:U.target.value}),placeholder:"e.g., Periodic Table, World War II",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Cards"}),e.jsx("input",{type:"number",min:"5",max:"100",value:Ve.cardCount,onChange:U=>we({...Ve,cardCount:parseInt(U.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),e.jsxs("select",{value:Ve.difficulty,onChange:U=>we({...Ve,difficulty:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>ss(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",onClick:U=>{U.preventDefault(),ts(`🃏 Flashcards Created! Your ${Ve.cardCount} flashcards have been generated with front and back sides, spaced repetition schedule, and progress tracking enabled.`,"success"),ss(!1)},className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Create Flashcards"})]})]})]})}),bs&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(Je,{className:"w-6 h-6 mr-2 text-indigo-600"}),"Essay Helper"]}),e.jsx("button",{onClick:()=>cs(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Essay Topic *"}),e.jsx("input",{type:"text",value:Ue.topic,onChange:U=>Is({...Ue,topic:U.target.value}),placeholder:"e.g., Climate Change, The Impact of Technology",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Essay Type"}),e.jsxs("select",{value:Ue.essayType,onChange:U=>Is({...Ue,essayType:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"argumentative",children:"Argumentative"}),e.jsx("option",{value:"descriptive",children:"Descriptive"}),e.jsx("option",{value:"narrative",children:"Narrative"}),e.jsx("option",{value:"expository",children:"Expository"}),e.jsx("option",{value:"persuasive",children:"Persuasive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Word Count"}),e.jsx("input",{type:"number",min:"100",max:"5000",value:Ue.wordCount,onChange:U=>Is({...Ue,wordCount:parseInt(U.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),e.jsx("textarea",{rows:"3",value:Ue.requirements,onChange:U=>Is({...Ue,requirements:U.target.value}),placeholder:"Any specific requirements, sources to include, or guidelines...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>cs(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",onClick:U=>{U.preventDefault(),ts("✍️ Essay Helper Activated! Your essay assistance is ready with topic analysis, structure outline, key arguments, writing tips, and citation suggestions.","success"),cs(!1)},className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Get Help"})]})]})]})}),e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(U=>e.jsx("div",{className:`max-w-sm p-4 rounded-lg shadow-lg border-l-4 ${U.type==="success"?"bg-green-50 border-green-400 text-green-800":U.type==="error"?"bg-red-50 border-red-400 text-red-800":U.type==="info"?"bg-blue-50 border-blue-400 text-blue-800":"bg-gray-50 border-gray-400 text-gray-800"}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:U.message})}),e.jsxs("button",{onClick:()=>p(Re=>Re.filter($e=>$e.id!==U.id)),className:"ml-2 text-gray-400 hover:text-gray-600",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})},U.id))}),F&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(pe,{className:"w-6 h-6 text-purple-600"}),e.jsx("span",{children:"AI Exam Predictions"})]}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"AI-powered predictions based on past paper analysis and curriculum patterns"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Subject Focus Areas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("h5",{className:"font-semibold text-red-900 mb-2",children:"Mathematics"}),e.jsx("p",{className:"text-red-800 text-sm",children:"Focus on Algebra and Geometry - these topics appear in 85% of past papers"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:"Physics"}),e.jsx("p",{className:"text-blue-800 text-sm",children:"Concentrate on Mechanics and Electricity - high frequency topics"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h5",{className:"font-semibold text-green-900 mb-2",children:"Chemistry"}),e.jsx("p",{className:"text-green-800 text-sm",children:"Organic chemistry and stoichiometry are essential"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("h5",{className:"font-semibold text-purple-900 mb-2",children:"Biology"}),e.jsx("p",{className:"text-purple-800 text-sm",children:"Cell biology and genetics are core topics"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Study Recommendations"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Practice past papers from the last 5 years to identify patterns"})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Focus on high-frequency topics identified in the analysis"})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Time management is crucial - practice under exam conditions"})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:"Review weak areas identified in previous assessments"})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(pe,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"Prediction Confidence: 87%"}),e.jsx("p",{className:"mt-1",children:"These predictions are based on historical patterns from past 5 years of UNEB examinations and should be used as study guidance alongside your regular curriculum."})]})]})})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),e.jsx("button",{onClick:()=>{G(!1),ts("✅ AI Predictions saved to your dashboard!","success")},className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Save to Dashboard"})]})]})}),le&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(de,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{children:"Analysis Report"})]}),e.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive analysis of past papers and curriculum patterns"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-sm font-medium text-green-900",children:"Topic Frequency Analysis"}),e.jsx("div",{className:"text-xs text-green-700 mt-1",children:"Algebra appears in 85% of papers"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Difficulty Trends"}),e.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"Increasing complexity over years"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"text-sm font-medium text-purple-900",children:"Pattern Recognition"}),e.jsx("div",{className:"text-xs text-purple-700 mt-1",children:"Similar question structures identified"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detailed Analysis"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Topic Frequency Analysis (Past 5 Years)"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Mathematics: Algebra (85%), Geometry (72%), Statistics (68%)"}),e.jsx("li",{children:"• Physics: Mechanics (78%), Electricity (75%), Waves (65%)"}),e.jsx("li",{children:"• Chemistry: Organic Chemistry (82%), Stoichiometry (70%), Acids & Bases (68%)"}),e.jsx("li",{children:"• Biology: Cell Biology (80%), Genetics (75%), Ecology (70%)"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Difficulty Trend Analysis"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Overall difficulty has increased by 15% over the past 3 years"}),e.jsx("li",{children:"• Mathematics questions are becoming more application-based"}),e.jsx("li",{children:"• Physics calculations require more complex problem-solving"}),e.jsx("li",{children:"• Chemistry questions focus more on practical applications"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Question Pattern Recognition"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Multiple-choice questions follow specific distribution patterns"}),e.jsx("li",{children:"• Essay questions often require diagram drawing and explanation"}),e.jsx("li",{children:"• Calculation questions typically have 3-4 sub-parts"}),e.jsx("li",{children:"• Practical questions appear in 30% of papers"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Curriculum Alignment Scores"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Mathematics: 92% alignment with current curriculum"}),e.jsx("li",{children:"• Physics: 88% alignment with current curriculum"}),e.jsx("li",{children:"• Chemistry: 90% alignment with current curriculum"}),e.jsx("li",{children:"• Biology: 85% alignment with current curriculum"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Recommended Study Focus Areas"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• High Priority: Algebra, Mechanics, Organic Chemistry, Cell Biology"}),e.jsx("li",{children:"• Medium Priority: Statistics, Electricity, Stoichiometry, Genetics"}),e.jsx("li",{children:"• Low Priority: Geometry, Waves, Acids & Bases, Ecology"}),e.jsx("li",{children:"• Practice Areas: Problem-solving techniques, time management"})]})]})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),e.jsx("button",{onClick:()=>{H(!1),ts("✅ Analysis Report saved to your dashboard!","success")},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Save to Dashboard"})]})]})}),P&&Z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(dt,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Confirm Purchase"})]}),e.jsx("button",{onClick:()=>{Q(!1),I(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:Z.type==="video"?e.jsx(ke,{className:"w-8 h-8 text-gray-600"}):Z.type==="document"?e.jsx(re,{className:"w-8 h-8 text-gray-600"}):e.jsx(be,{className:"w-8 h-8 text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:Z.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Z.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(ze,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-lg font-semibold text-green-600",children:[Z.price," ",Z.currency]})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(se,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"What you'll get:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:"• Full access to this content"}),e.jsx("li",{children:"• Download capability"}),e.jsx("li",{children:"• Lifetime access"}),e.jsx("li",{children:"• Mobile and desktop compatibility"})]})]})]})})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{Q(!1),I(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:ue,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[e.jsx(dt,{className:"w-4 h-4"}),e.jsx("span",{children:"Purchase Now"})]})]})]})}),q&&Z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Confirm Download"})]}),e.jsx("button",{onClick:()=>{te(!1),I(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:Z.type==="video"?e.jsx(ke,{className:"w-8 h-8 text-gray-600"}):Z.type==="document"?e.jsx(re,{className:"w-8 h-8 text-gray-600"}):e.jsx(be,{className:"w-8 h-8 text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:Z.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Z.description}),e.jsx("div",{className:"flex items-center space-x-2 mt-2",children:e.jsxs("span",{className:"text-sm text-gray-500",children:["Size: ",Z.file_size||"Unknown"]})})]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("p",{className:"font-medium",children:"Download Information:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsx("li",{children:"• File will be saved to your Downloads folder"}),e.jsx("li",{children:"• Compatible with all devices"}),e.jsx("li",{children:"• No internet required after download"}),e.jsx("li",{children:"• Safe and secure download"})]})]})]})})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{te(!1),I(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:hs,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Download Now"})]})]})]})})]})},hl=({userRole:y,currentUser:A})=>{const[s,i]=t.useState([]),[v,u]=t.useState([]),[o,b]=t.useState(!0),[T,w]=t.useState("available");t.useEffect(()=>{$()},[T]);const $=async()=>{try{const x=localStorage.getItem("token"),a="http://localhost:5000";if(T==="available"){const l=await fetch(`${a}/api/activities/`,{headers:{Authorization:`Bearer ${x}`}});if(l.ok){const n=await l.json();i(n.activities||[])}else i([])}else{const l=await fetch(`${a}/api/activities/my-activities`,{headers:{Authorization:`Bearer ${x}`}});if(l.ok){const n=await l.json();u(n.activities||[])}else u([])}}catch(x){console.error("Error fetching activities:",x),T==="available"?i([]):u([])}finally{b(!1)}},d=async x=>{try{const a=localStorage.getItem("token"),h=await(await fetch("http://localhost:5000/api/activities/join",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({activity_id:x})})).json();h.success?(alert("✅ Successfully joined the activity!"),$()):alert(`❌ Failed to join activity: ${h.message}`)}catch{alert("Error joining activity")}};return o?e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(xs,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Co-curricular Activities"]})}),e.jsxs("div",{className:"flex space-x-4 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>w("available"),className:`pb-2 px-1 ${T==="available"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(ne,{className:"w-4 h-4 inline mr-1"}),"Available Activities"]}),e.jsxs("button",{onClick:()=>w("my-activities"),className:`pb-2 px-1 ${T==="my-activities"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(Ie,{className:"w-4 h-4 inline mr-1"}),"My Activities"]})]})]}),T==="available"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(x=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:x.name}),e.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:x.category})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.status==="active"?"bg-green-100 text-green-800":x.status==="recruiting"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:x.status})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:x.description}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:x.schedule})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:x.location})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[x.current_participants,"/",x.max_participants," participants"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Teacher In-charge:"}),e.jsx("p",{className:"text-sm text-gray-600",children:x.teacher_incharge})]}),x.achievements&&x.achievements.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Achievements:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:x.achievements.slice(0,2).map((a,l)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:a},l))})]}),x.next_event&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Next Event:"}),e.jsx("p",{className:"text-sm text-blue-600",children:x.next_event})]}),e.jsx("button",{onClick:()=>d(x.id),disabled:x.current_participants>=x.max_participants,className:`w-full py-2 px-4 rounded-lg font-medium transition-colors ${x.current_participants>=x.max_participants?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:x.current_participants>=x.max_participants?"Full":"Join Activity"})]},x.id))}),T==="my-activities"&&e.jsx("div",{className:"space-y-6",children:v.length>0?v.map(x=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:x.activity_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Role: ",x.role]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Joined Date:"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(x.joined_date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Attendance Rate:"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[x.attendance_rate,"%"]})]})]}),x.achievements&&x.achievements.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"My Achievements:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:x.achievements.map((a,l)=>e.jsxs("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:[e.jsx(Se,{className:"w-3 h-3 inline mr-1"}),a]},l))})]}),x.upcoming_events&&x.upcoming_events.length>0&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-green-800 mb-1",children:"Upcoming Events:"}),x.upcoming_events.map((a,l)=>e.jsx("p",{className:"text-sm text-green-600",children:a},l))]})]},x.id)):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx(xs,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:"No Activities Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Join co-curricular activities to enhance your school experience!"}),e.jsx("button",{onClick:()=>w("available"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Activities"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-4",children:"Activity Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Total Activities"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),e.jsx("div",{className:"text-sm text-green-700",children:"Total Participants"})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"0"}),e.jsx("div",{className:"text-sm text-yellow-700",children:"Achievements"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),e.jsx("div",{className:"text-sm text-purple-700",children:"Upcoming Events"})]})]})]})]})},ul=({userRole:y,currentUser:A})=>{const[s,i]=t.useState([]),[v,u]=t.useState(null),[o,b]=t.useState("current"),[T,w]=t.useState(!0);t.useEffect(()=>{$()},[o]);const $=async()=>{try{const a=localStorage.getItem("token"),n=await fetch(`http://localhost:5000/api/grades/?term=${o}`,{headers:{Authorization:`Bearer ${a}`}});if(n.ok){const h=await n.json();i(h.grades||[]),u(h.summary||null)}else i([]),u(null)}catch(a){console.error("Error fetching grades:",a),i([]),u(null)}finally{w(!1)}},d=a=>{switch(a){case"A":return"text-green-600 bg-green-100";case"A-":return"text-green-600 bg-green-100";case"B+":return"text-blue-600 bg-blue-100";case"B":return"text-blue-600 bg-blue-100";case"B-":return"text-yellow-600 bg-yellow-100";case"C+":return"text-yellow-600 bg-yellow-100";case"C":return"text-orange-600 bg-orange-100";default:return"text-red-600 bg-red-100"}},x=a=>{switch(a){case"improving":return e.jsx(he,{className:"w-4 h-4 text-green-600"});case"declining":return e.jsx(lt,{className:"w-4 h-4 text-red-600"});default:return e.jsx(de,{className:"w-4 h-4 text-gray-600"})}};return T?e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Se,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Academic Performance"]}),e.jsxs("select",{value:o,onChange:a=>b(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"current",children:"Current Term"}),e.jsx("option",{value:"term1",children:"Term 1, 2025"}),e.jsx("option",{value:"term2",children:"Term 2, 2025"}),e.jsx("option",{value:"term3",children:"Term 3, 2025"})]})]}),v&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[v.overall_average,"%"]}),e.jsx("div",{className:"text-sm text-blue-700",children:"Overall Average"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:`text-2xl font-bold px-2 py-1 rounded ${d(v.overall_grade)}`,children:v.overall_grade}),e.jsx("div",{className:"text-sm text-green-700",children:"Overall Grade"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:v.overall_position}),e.jsx("div",{className:"text-sm text-purple-700",children:"Class Position"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:v.subjects_count}),e.jsx("div",{className:"text-sm text-yellow-700",children:"Subjects"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(a=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:a.subject}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Teacher: ",a.teacher]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(a.grade)}`,children:a.grade}),e.jsxs("div",{className:"flex items-center mt-1",children:[x(a.trend),e.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:[a.current_average,"%"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Position: "}),e.jsxs("span",{className:"text-sm text-gray-600",children:[a.position,"/",a.total_students]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average: "}),e.jsxs("span",{className:"text-sm text-gray-600",children:[a.current_average,"%"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Assessments:"}),e.jsx("div",{className:"space-y-2",children:a.assessments.slice(-3).map((l,n)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:l.type}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-gray-800 font-medium mr-2",children:[l.score,"/",l.max_score]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",(l.score/l.max_score*100).toFixed(1),"%)"]})]})]},n))})]}),a.comments&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Teacher's Comment:"}),e.jsx("p",{className:"text-sm text-blue-700",children:a.comments})]})]},a.id))}),v&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ce,{className:"w-5 h-5 mr-2 text-green-600"}),"Performance Analysis"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[e.jsx(Ie,{className:"w-4 h-4 mr-2 text-yellow-500"}),"Strengths"]}),e.jsx("div",{className:"space-y-2",children:v.strengths.map((a,l)=>e.jsxs("div",{className:"flex items-center p-2 bg-green-50 rounded-lg",children:[e.jsx(Se,{className:"w-4 h-4 text-green-600 mr-2"}),e.jsx("span",{className:"text-sm text-green-800",children:a})]},l))})]}),e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-2 text-blue-500"}),"Areas for Improvement"]}),e.jsx("div",{className:"space-y-2",children:v.areas_for_improvement.map((a,l)=>e.jsxs("div",{className:"flex items-center p-2 bg-yellow-50 rounded-lg",children:[e.jsx(Ce,{className:"w-4 h-4 text-yellow-600 mr-2"}),e.jsx("span",{className:"text-sm text-yellow-800",children:a})]},l))})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Teacher Recommendations:"}),e.jsx("div",{className:"space-y-2",children:v.teacher_recommendations.map((a,l)=>e.jsxs("div",{className:"flex items-start p-3 bg-blue-50 rounded-lg",children:[e.jsx(re,{className:"w-4 h-4 text-blue-600 mr-2 mt-0.5"}),e.jsx("span",{className:"text-sm text-blue-800",children:a})]},l))})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(ne,{className:"w-4 h-4 text-purple-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Parent Meeting"})]}),e.jsx("p",{className:"text-sm text-purple-700",children:new Date(v.parent_meeting_scheduled).toLocaleDateString()})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(re,{className:"w-4 h-4 text-orange-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Next Assessment"})]}),e.jsx("p",{className:"text-sm text-orange-700",children:new Date(v.next_assessment_date).toLocaleDateString()})]})]})]})]})},Ht=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("my-exams"),[v,u]=t.useState([]),[o,b]=t.useState([]),[T,w]=t.useState(!0),[$,d]=t.useState(!1),[x,a]=t.useState({title:"",subject:"",class_level:"",duration:120,total_marks:100,exam_type:"test",difficulty_level:"medium",topics:[],question_types:{multiple_choice:10,short_answer:5,essay:2},ai_generated:!0,uneb_aligned:!0});t.useEffect(()=>{l()},[s]);const l=async()=>{try{const N=localStorage.getItem("token"),g="http://localhost:5000";if(s==="my-exams"){const c=await fetch(`${g}/api/exams/teacher`,{headers:{Authorization:`Bearer ${N}`}});if(c.ok){const r=await c.json();u(r.exams||[])}else u([])}else if(s==="templates"){const c=await fetch(`${g}/api/exams/templates`,{headers:{Authorization:`Bearer ${N}`}});if(c.ok){const r=await c.json();b(r.templates||[])}else b([])}}catch(N){console.error("Error fetching exams:",N),s==="my-exams"?u([]):b([])}finally{w(!1)}},n=async()=>{if(!x.title||!x.subject||!x.class_level){alert("Please fill in all required fields");return}d(!0);try{const N=localStorage.getItem("token"),r=await(await fetch("http://localhost:5000/api/exams/generate-ai",{method:"POST",headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"},body:JSON.stringify(x)})).json();r.success?(alert("✅ AI-powered exam generated successfully!"),a({title:"",subject:"",class_level:"",duration:120,total_marks:100,exam_type:"test",difficulty_level:"medium",topics:[],question_types:{multiple_choice:10,short_answer:5,essay:2},ai_generated:!0,uneb_aligned:!0}),l()):alert(`❌ Failed to generate exam: ${r.message}`)}catch(N){console.error("Generate AI exam error:",N),alert("Failed to generate exam. Please try again.")}finally{d(!1)}},h=N=>{switch(N){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},S=N=>{switch(N){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return T?e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(pe,{className:"w-5 h-5 mr-2 text-purple-600"}),"AI-Powered Exam Management"]}),e.jsxs("button",{onClick:()=>i("create"),className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Create AI Exam"]})]}),e.jsxs("div",{className:"flex space-x-4 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>i("my-exams"),className:`pb-2 px-1 ${s==="my-exams"?"border-b-2 border-purple-500 text-purple-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(re,{className:"w-4 h-4 inline mr-1"}),"My Exams"]}),e.jsxs("button",{onClick:()=>i("templates"),className:`pb-2 px-1 ${s==="templates"?"border-b-2 border-purple-500 text-purple-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(Ce,{className:"w-4 h-4 inline mr-1"}),"UNEB Templates"]}),e.jsxs("button",{onClick:()=>i("create"),className:`pb-2 px-1 ${s==="create"?"border-b-2 border-purple-500 text-purple-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(pe,{className:"w-4 h-4 inline mr-1"}),"AI Generator"]})]})]}),s==="my-exams"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:v.map(N=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:N.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[N.subject," - ",N.class_level]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[N.ai_generated&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full",children:"AI Generated"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h(N.status)}`,children:N.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Duration:"}),e.jsxs("span",{className:"text-gray-600 ml-1",children:[N.duration," min"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Total Marks:"}),e.jsx("span",{className:"text-gray-600 ml-1",children:N.total_marks})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Students:"}),e.jsx("span",{className:"text-gray-600 ml-1",children:N.students_assigned})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Submissions:"}),e.jsx("span",{className:"text-gray-600 ml-1",children:N.submissions})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S(N.difficulty_level)}`,children:[N.difficulty_level," difficulty"]}),N.uneb_aligned&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full ml-2",children:"UNEB Aligned"})]}),N.topics&&N.topics.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Topics Covered:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:N.topics.map((g,c)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:g},c))})]}),N.ai_insights&&e.jsxs("div",{className:"mb-4 p-3 bg-purple-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-purple-800 mb-2",children:"AI Insights:"}),e.jsxs("div",{className:"text-xs text-purple-700 space-y-1",children:[e.jsxs("p",{children:["• ",N.ai_insights.difficulty_distribution]}),e.jsxs("p",{children:["• Est. completion: ",N.ai_insights.estimated_completion_time]}),e.jsxs("p",{children:["• Curriculum coverage: ",N.ai_insights.curriculum_coverage]})]})]}),N.average_score&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 rounded-lg",children:e.jsxs("p",{className:"text-sm font-medium text-green-800",children:["Average Score: ",N.average_score,"%"]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(je,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center px-3 py-2 text-sm bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"Export"]})]})]},N.id))}),s==="templates"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(N=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:N.name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[N.subject," - ",N.class_level]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Question Types:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:N.question_types.map((g,c)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:g},c))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Topics:"}),e.jsx("span",{className:"text-gray-600 ml-1",children:N.topics_covered})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Duration:"}),e.jsx("span",{className:"text-gray-600 ml-1",children:N.estimated_duration})]})]}),e.jsx("div",{className:"p-2 bg-green-50 rounded",children:e.jsxs("p",{className:"text-sm text-green-800",children:[e.jsx(se,{className:"w-4 h-4 inline mr-1"}),N.curriculum_alignment," UNEB Aligned"]})})]}),e.jsx("button",{className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Use Template"})]},N.id))}),s==="create"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(pe,{className:"w-5 h-5 mr-2 text-purple-600"}),"Generate AI-Powered Exam"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Title"}),e.jsx("input",{type:"text",value:x.title,onChange:N=>a({...x,title:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Mathematics Mid-term Exam"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),e.jsxs("select",{value:x.subject,onChange:N=>a({...x,subject:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"Mathematics",children:"Mathematics"}),e.jsx("option",{value:"Physics",children:"Physics"}),e.jsx("option",{value:"Chemistry",children:"Chemistry"}),e.jsx("option",{value:"Biology",children:"Biology"}),e.jsx("option",{value:"English",children:"English"}),e.jsx("option",{value:"History",children:"History"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class Level"}),e.jsxs("select",{value:x.class_level,onChange:N=>a({...x,class_level:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Class"}),e.jsx("option",{value:"S1",children:"S1"}),e.jsx("option",{value:"S2",children:"S2"}),e.jsx("option",{value:"S3",children:"S3"}),e.jsx("option",{value:"S4",children:"S4"}),e.jsx("option",{value:"S5",children:"S5"}),e.jsx("option",{value:"S6",children:"S6"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),e.jsx("input",{type:"number",value:x.duration,onChange:N=>a({...x,duration:parseInt(N.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Marks"}),e.jsx("input",{type:"number",value:x.total_marks,onChange:N=>a({...x,total_marks:parseInt(N.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Type"}),e.jsxs("select",{value:x.exam_type,onChange:N=>a({...x,exam_type:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"test",children:"Test"}),e.jsx("option",{value:"mid-term",children:"Mid-term Exam"}),e.jsx("option",{value:"final",children:"Final Exam"}),e.jsx("option",{value:"practical",children:"Practical"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),e.jsxs("select",{value:x.difficulty_level,onChange:N=>a({...x,difficulty_level:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Multiple Choice:"}),e.jsx("input",{type:"number",value:x.question_types.multiple_choice,onChange:N=>a({...x,question_types:{...x.question_types,multiple_choice:parseInt(N.target.value)}}),className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Short Answer:"}),e.jsx("input",{type:"number",value:x.question_types.short_answer,onChange:N=>a({...x,question_types:{...x.question_types,short_answer:parseInt(N.target.value)}}),className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Essay:"}),e.jsx("input",{type:"number",value:x.question_types.essay,onChange:N=>a({...x,question_types:{...x.question_types,essay:parseInt(N.target.value)}}),className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.uneb_aligned,onChange:N=>a({...x,uneb_aligned:N.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"UNEB Curriculum Aligned"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.ai_generated,onChange:N=>a({...x,ai_generated:N.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"AI-Generated Questions"})]})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>i("my-exams"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:n,disabled:$,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 flex items-center",children:$?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Generate AI Exam"]})})]})]})]})},gl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("all"),[u,o]=t.useState("current"),[b,T]=t.useState("2024"),[w,$]=t.useState("statements"),[d,x]=t.useState(""),[a,l]=t.useState(null),[n,h]=t.useState(!1),[S,N]=t.useState(""),g=s?"bg-gray-800 border border-gray-700":"bg-white",c=s?"text-white":"text-gray-900",r=s?"text-gray-300":"text-gray-600",p=[],m=[].filter(P=>!(i!=="all"&&P.childId!==parseInt(i)||u!=="all"&&P.term!==u||b!=="all"&&P.year!==b||d&&!P.childName.toLowerCase().includes(d.toLowerCase()))),C=m.reduce((P,Q)=>P+Q.balance,0),J=m.reduce((P,Q)=>P+Q.paidAmount,0),_=m.reduce((P,Q)=>P+Q.totalAmount,0),z=P=>{D(`Opening statement for ${(P==null?void 0:P.childName)||"student"}...`)},B=async P=>{D(`Downloading statement for ${(P==null?void 0:P.childName)||"student"}...`);try{const Q=localStorage.getItem("token"),te=await fetch(`http://localhost:5000/api/payments/download-statement/${P.id}`,{headers:{Authorization:`Bearer ${Q}`}});if(te.ok){const Z=await te.blob(),I=window.URL.createObjectURL(Z),F=document.createElement("a");F.href=I,F.download=`fee_statement_${P.childName}_${P.term}_${P.year}.pdf`,document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(I),document.body.removeChild(F),D("✅ Statement downloaded successfully!")}else D("⚠️ Failed to download statement")}catch(Q){console.error("Error downloading statement:",Q),D("❌ Error downloading statement. Please try again.")}},f=async()=>{D("Preparing fee statements for email delivery...");try{await new Promise(Q=>setTimeout(Q,2500));const P={recipient:(A==null?void 0:A.email)||"parent@example.com",filters:{child:i!=="all"?i:"All Children",term:u!=="all"?u:"All Terms",year:b!=="all"?b:"All Years"},statementsCount:2,totalAmount:85e4,totalPaid:7e5,totalOutstanding:15e4};D(`✅ Fee statements sent successfully!

Email sent to: ${P.recipient}

Included:
• ${P.statementsCount} fee statements
• Total amount: UGX ${P.totalAmount.toLocaleString()}
• Paid amount: UGX ${P.totalPaid.toLocaleString()}
• Outstanding: UGX ${P.totalOutstanding.toLocaleString()}

Check your email inbox for the detailed statements.`)}catch(P){console.error("Error sending statements:",P),D("❌ Error sending statements. Please check your email address and try again.")}},R=async()=>{D("Generating comprehensive fee statements report...");try{await new Promise(G=>setTimeout(G,3e3));const P={exportDate:new Date().toISOString().split("T")[0],filters:{child:i!=="all"?i:"All Children",term:u!=="all"?u:"All Terms",year:b!=="all"?b:"All Years"},statements:[{childName:"Sarah Johnson",class:"P5A",term:"Term 1",year:"2024",statementDate:"2024-01-15",dueDate:"2024-02-15",totalAmount:45e4,paidAmount:3e5,balance:15e4,status:"Partial",items:[{category:"Tuition",amount:3e5,paid:2e5,balance:1e5},{category:"Library Fee",amount:5e4,paid:5e4,balance:0},{category:"Sports Fee",amount:1e5,paid:5e4,balance:5e4}]},{childName:"Michael Brown",class:"P4B",term:"Term 1",year:"2024",statementDate:"2024-01-15",dueDate:"2024-02-15",totalAmount:4e5,paidAmount:4e5,balance:0,status:"Paid",items:[{category:"Tuition",amount:3e5,paid:3e5,balance:0},{category:"Library Fee",amount:5e4,paid:5e4,balance:0},{category:"Sports Fee",amount:5e4,paid:5e4,balance:0}]}],summary:{totalStatements:2,totalAmount:85e4,totalPaid:7e5,totalOutstanding:15e4,paidStatements:1,partialStatements:1,unpaidStatements:0}},Q=["Child Name","Class","Term","Year","Statement Date","Due Date","Total Amount","Paid Amount","Balance","Status","Fee Category","Category Amount","Category Paid","Category Balance"],q=[];P.statements.forEach(G=>{G.items.forEach((le,H)=>{q.push([G.childName,G.class,G.term,G.year,G.statementDate,G.dueDate,P.summary.totalAmount,P.summary.totalPaid,P.summary.totalOutstanding,G.status,le.category,le.amount,le.paid,le.balance])})}),q.unshift(["SUMMARY","ALL CLASSES",P.filters.term,P.filters.year,P.exportDate,"N/A",P.summary.totalAmount,P.summary.totalPaid,P.summary.totalOutstanding,"MIXED","ALL CATEGORIES",P.summary.totalAmount,P.summary.totalPaid,P.summary.totalOutstanding]);const te=[Q.join(","),...q.map(G=>G.map(le=>`"${le}"`).join(","))].join(`
`),Z=new Blob([te],{type:"text/csv;charset=utf-8;"}),I=window.URL.createObjectURL(Z),F=document.createElement("a");F.href=I,F.download=`all_fee_statements_${P.exportDate}.csv`,document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(I),document.body.removeChild(F),D("✅ All fee statements exported successfully! Contains detailed breakdown and payment history.")}catch(P){console.error("Error exporting statements:",P),D("❌ Error exporting statements. Please try again.")}},D=P=>{N(P),h(!0),setTimeout(()=>h(!1),3e3)},L=P=>{const Q=s?{paid:"bg-green-900/30 text-green-300 border-green-700",partial:"bg-yellow-900/30 text-yellow-300 border-yellow-700",unpaid:"bg-red-900/30 text-red-300 border-red-700",overdue:"bg-red-900/30 text-red-300 border-red-700",default:"bg-gray-700 text-gray-300 border-gray-600"}:{paid:"bg-green-100 text-green-800 border-green-200",partial:"bg-yellow-100 text-yellow-800 border-yellow-200",unpaid:"bg-red-100 text-red-800 border-red-200",overdue:"bg-red-100 text-red-800 border-red-200",default:"bg-gray-100 text-gray-800 border-gray-200"};return Q[P]||Q.default},j=P=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(P),O=()=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:`${g} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${r}`,children:"Total Amount"}),e.jsx("p",{className:`text-2xl font-bold ${c}`,children:j(_)}),e.jsx("p",{className:"text-blue-600 text-sm",children:"All statements"})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(Cs,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:`${g} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${r}`,children:"Amount Paid"}),e.jsx("p",{className:`text-2xl font-bold ${c}`,children:j(J)}),e.jsx("p",{className:"text-green-600 text-sm",children:"Completed payments"})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:`${g} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${r}`,children:"Outstanding"}),e.jsx("p",{className:`text-2xl font-bold ${c}`,children:j(C)}),e.jsx("p",{className:"text-red-600 text-sm",children:"Pending payment"})]}),e.jsx("div",{className:"bg-red-100 rounded-full p-3",children:e.jsx(Ts,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:`${g} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${r}`,children:"Statements"}),e.jsx("p",{className:`text-2xl font-bold ${c}`,children:m.length}),e.jsx("p",{className:"text-purple-600 text-sm",children:"Total records"})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(re,{className:"w-6 h-6 text-purple-600"})})]})})]}),M=P=>e.jsxs("div",{className:`${g} rounded-xl shadow-lg overflow-hidden`,children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(Ds,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:`text-lg font-semibold ${c}`,children:[P.childName," - ",P.class]}),e.jsxs("p",{className:`${r}`,children:[P.term," ",P.year]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${L(P.status)}`,children:P.status==="paid"?"Fully Paid":P.status==="partial"?"Partially Paid":"Unpaid"}),e.jsx("button",{onClick:()=>l(a===P.id?null:P.id),className:`p-2 rounded-lg transition-colors ${s?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:a===P.id?e.jsx(Xt,{className:"w-5 h-5"}):e.jsx(rt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("p",{className:`text-sm ${r}`,children:"Total Amount"}),e.jsx("p",{className:`text-xl font-bold ${c}`,children:j(P.totalAmount)})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("p",{className:`text-sm ${r}`,children:"Amount Paid"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:j(P.paidAmount)})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("p",{className:`text-sm ${r}`,children:"Balance"}),e.jsx("p",{className:"text-xl font-bold text-red-600",children:j(P.balance)})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:r,children:[e.jsxs("span",{children:["Statement Date: ",new Date(P.statementDate).toLocaleDateString()]}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsxs("span",{children:["Due Date: ",new Date(P.dueDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>z(P),className:`flex items-center px-3 py-1 rounded-lg transition-colors ${s?"bg-blue-900/30 text-blue-300 hover:bg-blue-900/50":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:[e.jsx(je,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs("button",{onClick:()=>B(P),className:`flex items-center px-3 py-1 rounded-lg transition-colors ${s?"bg-green-900/30 text-green-300 hover:bg-green-900/50":"bg-green-100 text-green-800 hover:bg-green-200"}`,children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"Download"]}),e.jsxs("button",{onClick:()=>window.print(),className:`flex items-center px-3 py-1 rounded-lg transition-colors ${s?"bg-purple-900/30 text-purple-300 hover:bg-purple-900/50":"bg-purple-100 text-purple-800 hover:bg-purple-200"}`,children:[e.jsx(ra,{className:"w-4 h-4 mr-1"}),"Print"]})]})]})]}),a===P.id&&e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold mb-4 ${c}`,children:"Fee Breakdown"}),e.jsx("div",{className:"space-y-3",children:P.items.map((Q,q)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${c}`,children:Q.category}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L(Q.status)}`,children:Q.status})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`font-medium ${c}`,children:j(Q.amount)}),e.jsxs("p",{className:`text-sm ${r}`,children:["Paid: ",j(Q.paid)," | Balance: ",j(Q.balance)]})]})]},q))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold mb-4 ${c}`,children:"Payment History"}),e.jsx("div",{className:"space-y-3",children:P.payments.map((Q,q)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`rounded-full p-2 ${s?"bg-green-900/30":"bg-green-100"}`,children:Q.method.includes("Mobile Money")?e.jsx(Fs,{className:`w-4 h-4 ${s?"text-green-300":"text-green-600"}`}):e.jsx(Bs,{className:`w-4 h-4 ${s?"text-green-300":"text-green-600"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${c}`,children:j(Q.amount)}),e.jsx("p",{className:`text-sm ${r}`,children:Q.method})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-sm ${r}`,children:new Date(Q.date).toLocaleDateString()}),e.jsx("p",{className:`text-xs ${s?"text-green-300":"text-green-600"}`,children:Q.reference})]})]},q))})]})]})})]},P.id);return e.jsxs("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"} relative`,children:[n&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white"} border rounded-xl shadow-2xl p-4 flex items-center space-x-3 min-w-[300px]`,children:[e.jsx(se,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),e.jsx("p",{className:`${c} text-sm font-medium`,children:S})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold mb-2 ${c}`,children:"Fee Statements"}),e.jsx("p",{className:r,children:"View and manage your children's fee statements and payment history"})]}),O(),e.jsx("div",{className:`flex space-x-1 rounded-lg p-1 mb-8 w-fit ${s?"bg-gray-700":"bg-gray-100"}`,children:[{id:"statements",label:"Statements",icon:re},{id:"analytics",label:"Analytics",icon:de}].map(P=>e.jsxs("button",{onClick:()=>$(P.id),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all ${w===P.id?s?"bg-gray-800 text-blue-400 shadow-sm":"bg-white text-blue-600 shadow-sm":s?"text-gray-300 hover:text-blue-400 hover:bg-gray-600":"text-gray-600 hover:text-blue-600 hover:bg-white/50"}`,children:[e.jsx(P.icon,{className:"w-4 h-4 mr-2"}),P.label]},P.id))}),e.jsxs("div",{className:`${g} rounded-xl shadow-lg p-4 sm:p-6 mb-8`,children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(Je,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by child name...",value:d,onChange:P=>x(P.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border transition-colors ${s?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`})]})}),e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center xl:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zs,{className:`w-4 h-4 ${s?"text-gray-400":"text-gray-500"}`}),e.jsx("span",{className:`text-sm font-medium ${r}`,children:"Filters:"})]}),e.jsxs("select",{value:i,onChange:P=>v(P.target.value),className:`min-w-0 flex-shrink-0 px-3 py-2 rounded-lg border text-sm transition-colors ${s?"bg-gray-700 border-gray-600 text-white focus:border-blue-400":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,children:[e.jsx("option",{value:"all",children:"All Children"}),p.map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))]}),e.jsxs("select",{value:u,onChange:P=>o(P.target.value),className:`min-w-0 flex-shrink-0 px-3 py-2 rounded-lg border text-sm transition-colors ${s?"bg-gray-700 border-gray-600 text-white focus:border-blue-400":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,children:[e.jsx("option",{value:"all",children:"All Terms"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]}),e.jsxs("select",{value:b,onChange:P=>T(P.target.value),className:`min-w-0 flex-shrink-0 px-3 py-2 rounded-lg border text-sm transition-colors ${s?"bg-gray-700 border-gray-600 text-white focus:border-blue-400":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,children:[e.jsx("option",{value:"all",children:"All Years"}),e.jsx("option",{value:"2024",children:"2024"}),e.jsx("option",{value:"2023",children:"2023"}),e.jsx("option",{value:"2022",children:"2022"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("button",{onClick:R,className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-lg hover:shadow-xl bg-blue-600 hover:bg-blue-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Export All"]}),e.jsxs("button",{onClick:f,className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-lg hover:shadow-xl bg-green-600 hover:bg-green-700 text-white focus:outline-none focus:ring-2 focus:ring-green-500/20",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Email Statements"]})]})]})]}),w==="statements"?e.jsx("div",{className:"space-y-6",children:m.length>0?m.map(P=>M(P)):e.jsxs("div",{className:`${g} rounded-xl shadow-lg p-12 text-center`,children:[e.jsx(re,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${c}`,children:"No Statements Found"}),e.jsx("p",{className:r,children:"No fee statements match your current filters."})]})}):e.jsxs("div",{className:`${g} rounded-xl shadow-lg p-8`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(de,{className:`w-16 h-16 mx-auto mb-4 ${s?"text-gray-500":"text-gray-400"}`}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${c}`,children:"Fee Analytics"}),e.jsx("p",{className:r,children:"Comprehensive payment analytics and insights"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:`p-6 rounded-xl ${s?"bg-gray-700/50":"bg-gradient-to-br from-blue-50 to-blue-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-full ${s?"bg-blue-900/30":"bg-blue-100"}`,children:e.jsx(he,{className:`w-6 h-6 ${s?"text-blue-300":"text-blue-600"}`})}),e.jsx("span",{className:`text-2xl font-bold ${s?"text-blue-300":"text-blue-600"}`,children:"98%"})]}),e.jsx("h4",{className:`font-semibold mb-1 ${c}`,children:"Payment Success Rate"}),e.jsx("p",{className:`text-sm ${r}`,children:"On-time payment completion"})]}),e.jsxs("div",{className:`p-6 rounded-xl ${s?"bg-gray-700/50":"bg-gradient-to-br from-green-50 to-green-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-full ${s?"bg-green-900/30":"bg-green-100"}`,children:e.jsx(ie,{className:`w-6 h-6 ${s?"text-green-300":"text-green-600"}`})}),e.jsx("span",{className:`text-2xl font-bold ${s?"text-green-300":"text-green-600"}`,children:"12"})]}),e.jsx("h4",{className:`font-semibold mb-1 ${c}`,children:"Avg. Payment Days"}),e.jsx("p",{className:`text-sm ${r}`,children:"Before due date"})]}),e.jsxs("div",{className:`p-6 rounded-xl ${s?"bg-gray-700/50":"bg-gradient-to-br from-purple-50 to-purple-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-full ${s?"bg-purple-900/30":"bg-purple-100"}`,children:e.jsx(vs,{className:`w-6 h-6 ${s?"text-purple-300":"text-purple-600"}`})}),e.jsx("span",{className:`text-2xl font-bold ${s?"text-purple-300":"text-purple-600"}`,children:"3"})]}),e.jsx("h4",{className:`font-semibold mb-1 ${c}`,children:"Payment Methods"}),e.jsx("p",{className:`text-sm ${r}`,children:"Mobile Money, Bank, Cash"})]})]}),e.jsx("div",{className:`mt-8 p-6 rounded-xl border-2 border-dashed ${s?"border-gray-600 bg-gray-700/30":"border-gray-300 bg-gray-50"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{className:`w-12 h-12 mx-auto mb-3 ${s?"text-gray-500":"text-gray-400"}`}),e.jsx("h4",{className:`font-semibold mb-2 ${c}`,children:"Payment Trends Chart"}),e.jsx("p",{className:`text-sm ${r}`,children:"Interactive charts and detailed analytics coming soon"})]})})]})]})]})},pl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("overview"),[u,o]=t.useState(null),[b,T]=t.useState(!1),[w,$]=t.useState(""),d=s?"bg-gray-800 border border-gray-700":"bg-white",x=s?"text-white":"text-gray-900",a=s?"text-gray-300":"text-gray-600",l=[],n=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:`${d} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${a}`,children:"Total Classes"}),e.jsx("p",{className:`text-3xl font-bold ${x}`,children:l.length}),e.jsx("p",{className:"text-blue-600 text-sm",children:"Active classes"})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(be,{className:"w-8 h-8 text-blue-600"})})]})}),e.jsx("div",{className:`${d} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${a}`,children:"Total Students"}),e.jsx("p",{className:`text-3xl font-bold ${x}`,children:l.reduce((h,S)=>h+S.students,0)}),e.jsx("p",{className:"text-green-600 text-sm",children:"Enrolled students"})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(me,{className:"w-8 h-8 text-green-600"})})]})}),e.jsx("div",{className:`${d} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${a}`,children:"Avg Performance"}),e.jsxs("p",{className:`text-3xl font-bold ${x}`,children:[(l.reduce((h,S)=>h+S.performance,0)/l.length).toFixed(1),"%"]}),e.jsx("p",{className:"text-purple-600 text-sm",children:"Academic average"})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(he,{className:"w-8 h-8 text-purple-600"})})]})}),e.jsx("div",{className:`${d} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${a}`,children:"Avg Attendance"}),e.jsxs("p",{className:`text-3xl font-bold ${x}`,children:[(l.reduce((h,S)=>h+S.attendance,0)/l.length).toFixed(1),"%"]}),e.jsx("p",{className:"text-orange-600 text-sm",children:"Daily average"})]}),e.jsx("div",{className:"bg-orange-100 rounded-full p-3",children:e.jsx(Se,{className:"w-8 h-8 text-orange-600"})})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(h=>e.jsxs("div",{className:`${d} rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 rounded-lg p-3",children:e.jsx($s,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${x}`,children:h.name}),e.jsxs("p",{className:`${a}`,children:[h.code," • ",h.level]})]})]}),e.jsx("button",{onClick:()=>o(h),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(je,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:a,children:"Students"}),e.jsxs("span",{className:`font-medium ${x}`,children:[h.students,"/",h.capacity]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:a,children:"Class Teacher"}),e.jsx("span",{className:`font-medium ${x}`,children:h.classTeacher})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:a,children:"Room"}),e.jsx("span",{className:`font-medium ${x}`,children:h.room})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:a,children:"Performance"}),e.jsxs("span",{className:"font-medium text-green-600",children:[h.performance,"%"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"flex-1 px-3 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Manage"}),e.jsx("button",{className:"flex-1 px-3 py-2 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-colors text-sm",children:"Students"})]})})]},h.id))})]});return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold mb-2 ${x}`,children:"Class Management"}),e.jsx("p",{className:a,children:"Manage classes, students, and academic performance"})]}),e.jsxs("div",{className:`${d} rounded-xl shadow-lg p-6 mb-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search classes...",value:w,onChange:h=>$(h.target.value),className:`pl-10 pr-4 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("button",{className:"flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx(zs,{className:"w-4 h-4 mr-2"}),"Filter"]})]}),e.jsxs("button",{onClick:()=>T(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Class"]})]}),e.jsx("div",{className:`flex space-x-1 rounded-lg p-1 border ${s?"bg-gray-700 border-gray-600":"bg-gray-100 border-gray-200"}`,children:[{id:"overview",label:"Overview",icon:de},{id:"list",label:"List View",icon:me},{id:"analytics",label:"Analytics",icon:he}].map(h=>e.jsxs("button",{onClick:()=>v(h.id),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all ${i===h.id?`${s?"bg-gray-800":"bg-white"} text-blue-600 shadow-sm`:`${a} hover:text-blue-600 ${s?"hover:bg-gray-600":"hover:bg-white/50"}`}`,children:[e.jsx(h.icon,{className:"w-4 h-4 mr-2"}),h.label]},h.id))})]}),i==="overview"&&n(),i==="list"&&e.jsxs("div",{className:`${d} rounded-xl shadow-lg p-8 text-center`,children:[e.jsx(me,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${x}`,children:"List View"}),e.jsx("p",{className:a,children:"Detailed list view with advanced sorting and filtering coming soon."})]}),i==="analytics"&&e.jsxs("div",{className:`${d} rounded-xl shadow-lg p-8 text-center`,children:[e.jsx(he,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${x}`,children:"Analytics"}),e.jsx("p",{className:a,children:"Advanced class analytics and performance metrics coming soon."})]}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${d} rounded-2xl shadow-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold ${x}`,children:"Create New Class"}),e.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("form",{onSubmit:h=>{h.preventDefault();const S=new FormData(h.target);alert(`Class Created Successfully! ✅

Class Name: ${S.get("className")}
Level: ${S.get("level")}
Capacity: ${S.get("capacity")}
Class Teacher: ${S.get("teacher")}`),T(!1)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Class Name *"}),e.jsx("input",{name:"className",required:!0,className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"e.g., S1 Alpha"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Level *"}),e.jsxs("select",{name:"level",required:!0,className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select level"}),e.jsx("option",{value:"S1",children:"Senior 1"}),e.jsx("option",{value:"S2",children:"Senior 2"}),e.jsx("option",{value:"S3",children:"Senior 3"}),e.jsx("option",{value:"S4",children:"Senior 4"}),e.jsx("option",{value:"S5",children:"Senior 5"}),e.jsx("option",{value:"S6",children:"Senior 6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Class Teacher *"}),e.jsx("input",{name:"teacher",required:!0,className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Teacher name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Capacity *"}),e.jsx("input",{name:"capacity",type:"number",required:!0,min:"1",className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"e.g., 40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Room Number"}),e.jsx("input",{name:"room",className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"e.g., Room 101"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Stream"}),e.jsxs("select",{name:"stream",className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select stream"}),e.jsx("option",{value:"Science",children:"Science"}),e.jsx("option",{value:"Arts",children:"Arts"}),e.jsx("option",{value:"Commerce",children:"Commerce"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Class"})]})]})]})})]})},bl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("weekly"),[u,o]=t.useState(new Date),[b,T]=t.useState("all"),[w,$]=t.useState(""),[d,x]=t.useState(!1),[a,l]=t.useState(!1),[n,h]=t.useState(!1),[S,N]=t.useState(!1),[g,c]=t.useState(""),[r,p]=t.useState({classDuration:40,breakDuration:30,lunchDuration:90,startTime:"08:00",endTime:"16:00",notifications:!0,autoScheduling:!1,conflictDetection:!0}),k=s?"bg-gray-800 border border-gray-700":"bg-white",m=s?"text-white":"text-gray-900",C=s?"text-gray-300":"text-gray-600",J=s?"text-gray-400":"text-gray-500",_={},z=[],B=["8:00-9:00","9:00-10:00","10:00-10:30 (Break)","10:30-11:30","11:30-12:30","12:30-2:00 (Lunch)","2:00-3:00","3:00-4:00"],f=M=>({Mathematics:"bg-blue-100 text-blue-800 border-blue-200",Physics:"bg-green-100 text-green-800 border-green-200",Chemistry:"bg-purple-100 text-purple-800 border-purple-200",Biology:"bg-orange-100 text-orange-800 border-orange-200",English:"bg-pink-100 text-pink-800 border-pink-200",History:"bg-yellow-100 text-yellow-800 border-yellow-200",Geography:"bg-indigo-100 text-indigo-800 border-indigo-200",Literature:"bg-red-100 text-red-800 border-red-200"})[M]||"bg-gray-100 text-gray-800 border-gray-200",R=M=>{c(M),N(!0),setTimeout(()=>N(!1),3e3)},D=async()=>{R("Generating class schedule export...");try{await new Promise(F=>setTimeout(F,2500));const M={exportDate:new Date().toISOString().split("T")[0],schoolName:"Smart School System",term:"Term 1",year:"2024",schedule:[{day:"Monday",time:"8:00-9:00",subject:"Mathematics",class:"S1A",teacher:"Mr. Johnson",room:"Room 201",students:35},{day:"Monday",time:"9:00-10:00",subject:"Physics",class:"S1A",teacher:"Dr. Smith",room:"Lab 101",students:35},{day:"Tuesday",time:"8:00-9:00",subject:"English",class:"S1A",teacher:"Ms. Davis",room:"Room 202",students:35},{day:"Wednesday",time:"8:00-9:00",subject:"Chemistry",class:"S1A",teacher:"Prof. Brown",room:"Lab 102",students:35}]},P=["Day","Time","Subject","Class","Teacher","Room","Students"],Q=M.schedule.map(F=>[F.day,F.time,F.subject,F.class,F.teacher,F.room,F.students]),q=[P.join(","),...Q.map(F=>F.map(G=>`"${G}"`).join(","))].join(`
`),te=new Blob([q],{type:"text/csv;charset=utf-8;"}),Z=window.URL.createObjectURL(te),I=document.createElement("a");I.href=Z,I.download=`class_schedule_${M.exportDate}.csv`,document.body.appendChild(I),I.click(),window.URL.revokeObjectURL(Z),document.body.removeChild(I),R("✅ Class schedule exported successfully! Contains all classes, teachers, and room assignments.")}catch(M){console.error("Error exporting schedule:",M),R("❌ Error exporting schedule. Please try again.")}},L=async M=>{R("Processing imported schedule file...");try{await new Promise(Q=>setTimeout(Q,3e3));const P={fileName:M.name,recordsProcessed:24,classesImported:8,conflictsResolved:2,errors:0};R(`✅ Schedule imported successfully!

File: ${P.fileName}
Records processed: ${P.recordsProcessed}
Classes imported: ${P.classesImported}
Conflicts resolved: ${P.conflictsResolved}
Errors: ${P.errors}

The schedule has been updated with the new data.`),h(!1)}catch(P){console.error("Error importing schedule:",P),R("❌ Error importing schedule. Please check the file format and try again.")}},j=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(Tt,{className:"w-5 h-5"})}),e.jsxs("h3",{className:`text-lg font-semibold ${m}`,children:["Week of ",u.toLocaleDateString()]}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(rt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:b,onChange:M=>T(M.target.value),className:`px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"all",children:"All Classes"}),z.map(M=>e.jsx("option",{value:M,children:M},M))]}),e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Class"]})]})]}),e.jsx("div",{className:`${k} rounded-xl shadow-lg overflow-hidden`,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${s?"bg-gray-700":"bg-gray-50"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${C}`,children:"Time"}),["Monday","Tuesday","Wednesday","Thursday","Friday"].map(M=>e.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${C}`,children:M},M))]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:B.map((M,P)=>e.jsxs("tr",{className:P%2===0?s?"bg-gray-800":"bg-white":s?"bg-gray-700":"bg-gray-50",children:[e.jsx("td",{className:`px-4 py-4 text-sm font-medium ${m}`,children:M}),["Monday","Tuesday","Wednesday","Thursday","Friday"].map(Q=>{const te=(_[Q]||[]).find(Z=>Z.time===M);return M.includes("Break")||M.includes("Lunch")?e.jsx("td",{className:`px-4 py-4 text-center ${J}`,children:e.jsx("span",{className:"text-xs",children:M.includes("Break")?"Break":"Lunch"})},Q):e.jsx("td",{className:"px-4 py-4",children:te&&(b==="all"||te.class===b)?e.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${f(te.subject)} hover:shadow-md transition-shadow cursor-pointer`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-semibold text-sm",children:te.subject}),e.jsx("span",{className:"text-xs opacity-75",children:te.class})]}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{className:"w-3 h-3 mr-1"}),te.room]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{className:"w-3 h-3 mr-1"}),te.students," students"]}),y==="admin"&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"w-3 h-3 mr-1"}),te.teacher]})]})]}):e.jsx("div",{className:"h-16 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:`text-xs ${J}`,children:"Free"})})},Q)})]},M))})]})})})]}),O=()=>{const M=new Date().toLocaleDateString("en-US",{weekday:"long"}),P=_[M]||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:`text-lg font-semibold ${m}`,children:["Today's Schedule - ",M]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${s?"bg-green-800 text-green-200":"bg-green-100 text-green-800"}`,children:[P.length," classes scheduled"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(Q=>e.jsxs("div",{className:`${k} rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${f(Q.subject)}`,children:Q.subject}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(Rt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(je,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{className:"w-4 h-4 mr-3 text-blue-600"}),e.jsx("span",{className:`font-medium ${m}`,children:Q.time})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{className:"w-4 h-4 mr-3 text-green-600"}),e.jsxs("span",{className:C,children:[Q.class," (",Q.students," students)"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-3 text-purple-600"}),e.jsx("span",{className:C,children:Q.room})]}),y==="admin"&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"w-4 h-4 mr-3 text-orange-600"}),e.jsx("span",{className:C,children:Q.teacher})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:`flex items-center text-sm ${Q.status==="scheduled"?"text-green-600":"text-yellow-600"}`,children:[e.jsx(se,{className:"w-4 h-4 mr-1"}),Q.status]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{className:"px-3 py-1 text-xs bg-blue-100 text-blue-800 rounded-full hover:bg-blue-200 transition-colors",children:"View Details"})})]})})]},Q.id))})]})};return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[S&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white"} border rounded-xl shadow-2xl p-4 flex items-center space-x-3 min-w-[300px]`,children:[e.jsx(se,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),e.jsx("p",{className:`${m} text-sm font-medium whitespace-pre-line`,children:g})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${m}`,children:"Class Schedules"}),e.jsx("p",{className:C,children:"Manage and view class timetables and schedules"})]}),e.jsxs("div",{className:`${k} rounded-xl shadow-lg p-6 mb-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search classes, teachers, or rooms...",value:w,onChange:M=>$(M.target.value),className:`pl-10 pr-4 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("button",{className:"flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx(zs,{className:"w-4 h-4 mr-2"}),"Filter"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:D,className:"flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Import"]}),e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]}),e.jsx("div",{className:`flex space-x-1 rounded-lg p-1 border ${s?"bg-gray-700 border-gray-600":"bg-gray-100 border-gray-200"}`,children:[{id:"daily",label:"Daily View",icon:ne},{id:"weekly",label:"Weekly View",icon:ne},{id:"monthly",label:"Monthly View",icon:ne}].map(M=>e.jsxs("button",{onClick:()=>v(M.id),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all ${i===M.id?`${s?"bg-gray-800":"bg-white"} text-blue-600 shadow-sm`:`${C} hover:text-blue-600 ${s?"hover:bg-gray-600":"hover:bg-white/50"}`}`,children:[e.jsx(M.icon,{className:"w-4 h-4 mr-2"}),M.label]},M.id))})]}),i==="daily"&&O(),i==="weekly"&&j(),i==="monthly"&&e.jsxs("div",{className:`${k} rounded-xl shadow-lg p-8 text-center`,children:[e.jsx(ne,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${m}`,children:"Monthly View"}),e.jsx("p",{className:C,children:"Monthly calendar view coming soon with advanced scheduling features."})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${k} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${m}`,children:"Add New Class"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("form",{onSubmit:M=>{M.preventDefault();const P=new FormData(M.target);alert(`Class Added Successfully! ✅

Subject: ${P.get("subject")}
Class: ${P.get("class")}
Day: ${P.get("day")}
Time: ${P.get("time")}
Room: ${P.get("room")}
Teacher: ${P.get("teacher")}`),x(!1)},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Subject *"}),e.jsxs("select",{name:"subject",required:!0,className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select subject"}),e.jsx("option",{children:"Mathematics"}),e.jsx("option",{children:"Physics"}),e.jsx("option",{children:"Chemistry"}),e.jsx("option",{children:"Biology"}),e.jsx("option",{children:"English"}),e.jsx("option",{children:"History"}),e.jsx("option",{children:"Geography"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Class *"}),e.jsxs("select",{name:"class",required:!0,className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select class"}),z.map(M=>e.jsx("option",{value:M,children:M},M))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Day *"}),e.jsxs("select",{name:"day",required:!0,className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select day"}),e.jsx("option",{children:"Monday"}),e.jsx("option",{children:"Tuesday"}),e.jsx("option",{children:"Wednesday"}),e.jsx("option",{children:"Thursday"}),e.jsx("option",{children:"Friday"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Time *"}),e.jsx("input",{name:"time",type:"time",required:!0,className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Room *"}),e.jsx("input",{name:"room",type:"text",required:!0,placeholder:"e.g., Room 201",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Teacher *"}),e.jsx("input",{name:"teacher",type:"text",required:!0,placeholder:"Teacher name",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Class"})]})]})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${k} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${m}`,children:"Schedule Settings"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("form",{onSubmit:M=>{M.preventDefault(),alert(`✅ Settings saved successfully!

Your schedule preferences have been updated.`),l(!1)},children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-md font-medium mb-4 ${m}`,children:"Time Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Class Duration (minutes)"}),e.jsx("input",{type:"number",value:r.classDuration,onChange:M=>p(P=>({...P,classDuration:parseInt(M.target.value)})),min:"30",max:"120",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Break Duration (minutes)"}),e.jsx("input",{type:"number",value:r.breakDuration,onChange:M=>p(P=>({...P,breakDuration:parseInt(M.target.value)})),min:"10",max:"60",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Lunch Duration (minutes)"}),e.jsx("input",{type:"number",value:r.lunchDuration,onChange:M=>p(P=>({...P,lunchDuration:parseInt(M.target.value)})),min:"30",max:"180",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"School Start Time"}),e.jsx("input",{type:"time",value:r.startTime,onChange:M=>p(P=>({...P,startTime:M.target.value})),className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"School End Time"}),e.jsx("input",{type:"time",value:r.endTime,onChange:M=>p(P=>({...P,endTime:M.target.value})),className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-md font-medium mb-4 ${m}`,children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.notifications,onChange:M=>p(P=>({...P,notifications:M.target.checked})),className:"mr-3"}),e.jsx("span",{className:C,children:"Enable schedule notifications"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.autoScheduling,onChange:M=>p(P=>({...P,autoScheduling:M.target.checked})),className:"mr-3"}),e.jsx("span",{className:C,children:"Enable auto-scheduling for conflicts"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.conflictDetection,onChange:M=>p(P=>({...P,conflictDetection:M.target.checked})),className:"mr-3"}),e.jsx("span",{className:C,children:"Enable conflict detection"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-md font-medium mb-4 ${m}`,children:"Advanced Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Default Room Assignment"}),e.jsxs("select",{className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Auto-assign"}),e.jsx("option",{value:"room-201",children:"Room 201"}),e.jsx("option",{value:"room-202",children:"Room 202"}),e.jsx("option",{value:"room-203",children:"Room 203"}),e.jsx("option",{value:"lab-101",children:"Lab 101"}),e.jsx("option",{value:"lab-102",children:"Lab 102"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Schedule Export Format"}),e.jsxs("select",{className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"pdf",children:"PDF"}),e.jsx("option",{value:"excel",children:"Excel"}),e.jsx("option",{value:"csv",children:"CSV"}),e.jsx("option",{value:"ical",children:"iCal"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Settings"})]})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${k} rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[e.jsx("h3",{className:`text-lg font-semibold ${m}`,children:"📥 Import Class Schedule"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${C} mb-2`,children:"Select Schedule File *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[e.jsx(is,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:`text-sm ${C} mb-2`,children:"Drag and drop your schedule file here, or click to browse"}),e.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:M=>{const P=M.target.files[0];P&&L(P)},className:"hidden",id:"schedule-file"}),e.jsxs("label",{htmlFor:"schedule-file",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Choose File"]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("h4",{className:`text-sm font-medium ${m} mb-2`,children:"📋 Supported File Formats"}),e.jsxs("ul",{className:`text-sm ${C} space-y-1`,children:[e.jsx("li",{children:"• CSV files with columns: Day, Time, Subject, Class, Teacher, Room, Students"}),e.jsx("li",{children:"• Excel files (.xlsx, .xls) with the same column structure"}),e.jsx("li",{children:"• Maximum file size: 10MB"}),e.jsx("li",{children:"• Date format: YYYY-MM-DD or MM/DD/YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${C} mb-3`,children:"Import Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-3"}),e.jsx("span",{className:C,children:"Replace existing schedule"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-3"}),e.jsx("span",{className:C,children:"Auto-resolve conflicts"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-3"}),e.jsx("span",{className:C,children:"Send notifications to affected teachers"})]})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{type:"button",onClick:()=>{document.getElementById("schedule-file").click()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Import Schedule"})]})})]})})]})},jl=({userRole:y,currentUser:A,darkMode:s=!1})=>{var D,L;const[i,v]=t.useState("weekly"),[u,o]=t.useState(null),[b,T]=t.useState(!1),[w,$]=t.useState(!1),[d,x]=t.useState(0),[a,l]=t.useState(0),[n,h]=t.useState([]),[S,N]=t.useState(null),[g,c]=t.useState([]),r={weekly:{},preferences:{peakHours:[],weakSubjects:[],strongSubjects:[],studyStyle:"",breakPreference:"",dailyTarget:""},analytics:{weeklyProgress:0,completedSessions:0,totalSessions:0,averageScore:0,improvementRate:0,consistencyScore:0}},p=j=>{switch(j){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=j=>{switch(j){case"intensive":return e.jsx(Ss,{className:"w-4 h-4 text-orange-600"});case"focused":return e.jsx(Ce,{className:"w-4 h-4 text-blue-600"});case"review":return e.jsx(be,{className:"w-4 h-4 text-green-600"});case"practical":return e.jsx(Ie,{className:"w-4 h-4 text-purple-600"});case"assessment":return e.jsx(se,{className:"w-4 h-4 text-red-600"});case"quiz":return e.jsx(Ce,{className:"w-4 h-4 text-indigo-600"});default:return e.jsx(ie,{className:"w-4 h-4 text-gray-600"})}},m=()=>{T(!0),setTimeout(()=>{T(!1)},3e3)},C=j=>{var M,P,Q,q;const O=[{q:"Quick recall: What is 2 + 2?",options:["3","4","5","6"],answer:1},{q:"Concept check: Define a vector quantity.",options:["Has magnitude only","Has magnitude and direction","A scalar multiple","A unitless value"],answer:1},{q:"Exam tip: Best way to revise?",options:["Only read notes","Active recall & spaced practice","Cram night before","Skip weak areas"],answer:1}];return(M=j==null?void 0:j.subject)!=null&&M.toLowerCase().includes("math")&&O.unshift({q:"Derivative of x^2 is?",options:["x","2x","x^2","2"],answer:1}),(P=j==null?void 0:j.subject)!=null&&P.toLowerCase().includes("physics")&&O.unshift({q:"SI unit of force?",options:["Pascal","Joule","Newton","Watt"],answer:2}),(Q=j==null?void 0:j.subject)!=null&&Q.toLowerCase().includes("chem")&&O.unshift({q:"Avogadro number approx?",options:["6.02e23","9.81","3.14","1.6e-19"],answer:0}),(q=j==null?void 0:j.subject)!=null&&q.toLowerCase().includes("bio")&&O.unshift({q:"DNA stands for?",options:["Deoxyribo Nucleic Acid","Di-nitro Acid","Deoxygen Acid","Ribo Nucleic Acid"],answer:0}),O.slice(0,5)},J=()=>{const j=C((u==null?void 0:u.session)||{});h(j),x(0),l(0),N(null),$(!0)},_=async()=>{var O,M,P,Q;if(S===null)return;const j=n[d].answer===S;if(j&&l(q=>q+1),d+1<n.length)x(q=>q+1),N(null);else{const q=a+(j?1:0),te=q/n.length*100,Z={id:Date.now(),subject:((O=u==null?void 0:u.session)==null?void 0:O.subject)||"General",topic:((M=u==null?void 0:u.session)==null?void 0:M.topic)||"Study Session",score:q,total:n.length,percentage:te.toFixed(1),date:new Date().toISOString()};c([Z,...g]),$(!1);try{const I=localStorage.getItem("token"),F="http://localhost:5000",le=await(await fetch(`${F}/api/ai-quizzes/create`,{method:"POST",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify({student_id:A==null?void 0:A.id,subject:((P=u==null?void 0:u.session)==null?void 0:P.subject)||"General",topic:((Q=u==null?void 0:u.session)==null?void 0:Q.topic)||"Study Session",difficulty_level:"medium",quiz_type:"multiple_choice",total_questions:n.length,max_score:n.length,questions:n.map((H,xe)=>({question_text:H.q,question_type:"multiple_choice",options:H.options,correct_answer:H.options[H.answer],points:1,difficulty:"medium"}))})})).json();if(le.success){const H={};n.forEach((xe,Y)=>{H[Y]=S===xe.answer?xe.options[xe.answer]:"wrong"}),await fetch(`${F}/api/ai-quizzes/${le.quiz_id}/submit`,{method:"POST",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify({answers:H})})}}catch(I){console.error("Failed to save quiz result",I)}alert(`🎯 Quiz completed!

Score: ${q} / ${n.length}
Percentage: ${te.toFixed(1)}%

${te>=80?"🌟 Excellent!":te>=60?"👍 Good job!":"📚 Keep practicing!"}`)}},z=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"AI-Generated Reading Timetable"}),e.jsx("p",{className:"text-purple-100",children:"Personalized schedule based on your performance and learning patterns"})]}),e.jsxs("button",{onClick:m,disabled:b,className:"bg-white text-purple-600 px-4 py-2 rounded-lg hover:bg-purple-50 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[e.jsx(ws,{className:`w-4 h-4 ${b?"animate-spin":""}`}),e.jsx("span",{children:b?"Generating...":"Regenerate"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-4",children:Object.entries(r.weekly).length===0?e.jsx("div",{className:`rounded-xl shadow p-8 text-center col-span-7 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:e.jsx("p",{className:s?"text-gray-300":"text-gray-600",children:"No AI timetable yet"})}):Object.entries(r.weekly).map(([j,O])=>e.jsxs("div",{className:`rounded-xl shadow-lg p-4 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:`font-semibold ${s?"text-white":"text-gray-900"}`,children:j}),e.jsxs("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"}`,children:[O.length," sessions"]})]}),e.jsx("div",{className:"space-y-3",children:O.map((M,P)=>e.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer hover:shadow-md transition-all ${p(M.priority)}`,onClick:()=>o({day:j,session:M,index:P}),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-medium",children:M.time}),k(M.type)]}),e.jsx("div",{className:"text-sm font-medium mb-1",children:M.subject}),e.jsx("div",{className:"text-xs opacity-80",children:M.topic}),e.jsxs("div",{className:"text-xs mt-2 flex items-center justify-between",children:[e.jsxs("span",{children:[M.duration," min"]}),e.jsx("span",{className:"capitalize",children:M.priority})]})]},P))})]},j))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:`rounded-xl shadow-lg p-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"Weekly Progress"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:[r.analytics.weeklyProgress,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completion Rate"}),e.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${r.analytics.weeklyProgress}%`}})})]})]}),e.jsxs("div",{className:`rounded-xl shadow-lg p-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"Study Sessions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Completed:"}),e.jsx("span",{className:"font-medium text-green-600",children:r.analytics.completedSessions})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Remaining:"}),e.jsx("span",{className:"font-medium text-orange-600",children:r.analytics.totalSessions-r.analytics.completedSessions})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Total:"}),e.jsx("span",{className:"font-medium text-blue-600",children:r.analytics.totalSessions})]})]})]}),e.jsxs("div",{className:`rounded-xl shadow-lg p-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"Performance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Average Score:"}),e.jsxs("span",{className:"font-medium text-blue-600",children:[r.analytics.averageScore,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Improvement:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["+",r.analytics.improvementRate,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Consistency:"}),e.jsxs("span",{className:"font-medium text-purple-600",children:[r.analytics.consistencyScore,"%"]})]})]})]})]})]}),B=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:`rounded-xl shadow-lg p-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"Today's Reading Schedule"}),e.jsx("div",{className:"space-y-4",children:(Object.entries(r.weekly).length===0?[]:r.weekly.Monday||[]).map((j,O)=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${s?"bg-gray-700":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-sm font-medium ${s?"text-white":"text-gray-900"}`,children:j.time.split("-")[0]}),e.jsxs("div",{className:`text-xs ${s?"text-gray-400":"text-gray-500"}`,children:[j.duration,"m"]})]}),e.jsx("div",{className:`w-px h-12 ${s?"bg-gray-600":"bg-gray-300"}`}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:j.subject}),e.jsx("div",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:j.topic}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[k(j.type),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${p(j.priority)}`,children:j.priority})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-800",children:e.jsx(se,{className:"w-4 h-4"})})]})]},O))})]})}),f=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:`rounded-xl shadow-lg p-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"Total Quizzes"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:g.length}),e.jsx("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Completed"})]})]}),e.jsxs("div",{className:`rounded-xl shadow-lg p-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"Average Score"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-4xl font-bold text-green-600 mb-2",children:[g.length>0?(g.reduce((j,O)=>j+parseFloat(O.percentage),0)/g.length).toFixed(1):0,"%"]}),e.jsx("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Overall Performance"})]})]}),e.jsxs("div",{className:`rounded-xl shadow-lg p-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"Best Score"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:[g.length>0?Math.max(...g.map(j=>parseFloat(j.percentage))).toFixed(1):0,"%"]}),e.jsx("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Highest Achievement"})]})]})]}),e.jsxs("div",{className:`rounded-xl shadow-lg p-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-6 ${s?"text-white":"text-gray-900"}`,children:"Quiz History"}),g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ce,{className:`w-16 h-16 mx-auto mb-4 ${s?"text-gray-600":"text-gray-300"}`}),e.jsx("p",{className:`${s?"text-gray-400":"text-gray-500"}`,children:"No quizzes completed yet"}),e.jsx("p",{className:`text-sm ${s?"text-gray-500":"text-gray-400"} mt-2`,children:"Complete study sessions with quizzes to see your results here"})]}):e.jsx("div",{className:"space-y-4",children:g.map(j=>e.jsx("div",{className:`p-4 rounded-lg border ${s?"border-gray-700 bg-gray-750":"border-gray-200 bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-semibold ${s?"text-white":"text-gray-900"}`,children:j.subject}),e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:j.topic}),e.jsxs("p",{className:`text-xs ${s?"text-gray-500":"text-gray-400"} mt-1`,children:[new Date(j.date).toLocaleDateString()," at ",new Date(j.date).toLocaleTimeString()]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:`text-2xl font-bold ${parseFloat(j.percentage)>=80?"text-green-600":parseFloat(j.percentage)>=60?"text-yellow-600":"text-red-600"}`,children:[j.percentage,"%"]}),e.jsxs("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:[j.score,"/",j.total," correct"]})]})]})},j.id))})]})]}),R=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:`rounded-xl shadow-lg p-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-6 ${s?"text-white":"text-gray-900"}`,children:"AI Learning Preferences"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium mb-3 ${s?"text-white":"text-gray-900"}`,children:"Study Patterns"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Peak Hours:"}),e.jsx("span",{className:"font-medium",children:r.preferences.peakHours.join(", ")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Study Style:"}),e.jsx("span",{className:"font-medium",children:r.preferences.studyStyle})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Break Preference:"}),e.jsx("span",{className:"font-medium",children:r.preferences.breakPreference})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Daily Target:"}),e.jsx("span",{className:"font-medium",children:r.preferences.dailyTarget})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium mb-3 ${s?"text-white":"text-gray-900"}`,children:"Subject Focus"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-red-700",children:"Weak Subjects:"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:r.preferences.weakSubjects.map((j,O)=>e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded",children:j},O))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Strong Subjects:"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:r.preferences.strongSubjects.map((j,O)=>e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:j},O))})]})]})]})]}),e.jsxs("div",{className:`mt-6 p-4 rounded-lg border ${s?"bg-blue-900 border-blue-700":"bg-blue-50 border-blue-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(pe,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:`font-medium ${s?"text-blue-200":"text-blue-900"}`,children:"AI Optimization Tips"})]}),e.jsxs("ul",{className:`text-sm space-y-1 ${s?"text-blue-300":"text-blue-800"}`,children:[e.jsx("li",{children:"• Schedule intensive subjects during your peak hours (6-8 AM)"}),e.jsx("li",{children:"• Focus 40% more time on weak subjects (Physics, Statistics)"}),e.jsx("li",{children:"• Use visual learning methods for better retention"}),e.jsx("li",{children:"• Take regular breaks to maintain concentration"})]})]})]})});return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:"AI Reading Timetable"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"Personalized study schedule optimized by artificial intelligence"})]}),e.jsx("div",{className:`rounded-xl shadow-lg mb-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:e.jsx("div",{className:`border-b ${s?"border-gray-700":"border-gray-200"}`,children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"weekly",label:"Weekly View",icon:ne},{id:"daily",label:"Today",icon:ie},{id:"quizzes",label:"My Quizzes",icon:Ce},{id:"preferences",label:"AI Preferences",icon:pe}].map(j=>e.jsxs("button",{onClick:()=>v(j.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===j.id?"border-blue-500 text-blue-600":`border-transparent ${s?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"}`}`,children:[e.jsx(j.icon,{className:"w-4 h-4"}),e.jsx("span",{children:j.label})]},j.id))})})}),i==="weekly"&&z(),i==="daily"&&B(),i==="quizzes"&&f(),i==="preferences"&&R(),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`rounded-xl shadow-xl p-6 max-w-md w-full mx-4 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Session Details"}),e.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("div",{className:"space-y-4",children:[!w&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:u.session.subject}),e.jsx("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:u.session.topic})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Time:"}),e.jsx("div",{className:"font-medium",children:u.session.time})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Duration:"}),e.jsxs("div",{className:"font-medium",children:[u.session.duration," minutes"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Priority:"}),e.jsx("div",{className:`inline-block px-2 py-1 text-xs font-medium rounded ${p(u.session.priority)}`,children:u.session.priority})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${s?"text-gray-400":"text-gray-600"}`,children:"Type:"}),e.jsx("div",{className:"font-medium capitalize",children:u.session.type})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.session.type==="quiz"?e.jsx("button",{onClick:J,className:"flex-1 bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors",children:"Start Quiz"}):e.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Start Session"}),e.jsx("button",{className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Reschedule"})]})]}),w&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`text-sm ${s?"text-gray-300":"text-gray-700"}`,children:["Question ",d+1," of ",n.length]}),e.jsx("div",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:(D=n[d])==null?void 0:D.q}),e.jsx("div",{className:"space-y-2",children:(L=n[d])==null?void 0:L.options.map((j,O)=>e.jsxs("label",{className:`flex items-center space-x-2 p-2 rounded border cursor-pointer ${S===O?"border-indigo-500 bg-indigo-50":s?"border-gray-700":"border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"quizopt",className:"hidden",onChange:()=>N(O)}),e.jsx("span",{className:`w-4 h-4 inline-block rounded-full border ${S===O?"bg-indigo-500 border-indigo-500":s?"border-gray-500":"border-gray-400"}`}),e.jsx("span",{className:`${s?"text-gray-200":"text-gray-800"}`,children:j})]},O))}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:`text-xs ${s?"text-gray-400":"text-gray-500"}`,children:["Score: ",a]}),e.jsx("button",{onClick:_,className:"bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors",children:d+1===n.length?"Finish":"Submit"})]})]})]})]})})]})},yl=({userRole:y,currentUser:A,darkMode:s=!1,setActiveTab:i})=>{const[v,u]=t.useState(0),[o,b]=t.useState(null),[T,w]=t.useState(!1),[$,d]=t.useState(null),x=[{id:1,title:"Mathematics Problem Set",subject:"Mathematics",dueDate:"2024-01-15",status:"pending",priority:"high",description:"Complete exercises 1-20 from chapter 5",teacher:"Mr. Johnson",points:25},{id:2,title:"Physics Lab Report",subject:"Physics",dueDate:"2024-01-12",status:"overdue",priority:"urgent",description:"Write lab report on Newton's Laws experiment",teacher:"Dr. Brown",points:30},{id:3,title:"English Essay",subject:"English",dueDate:"2024-01-18",status:"pending",priority:"medium",description:"Write a 500-word essay on climate change",teacher:"Ms. Smith",points:20},{id:4,title:"Biology Research",subject:"Biology",dueDate:"2024-01-20",status:"completed",priority:"low",description:"Research on photosynthesis process",teacher:"Dr. Davis",points:35}],a={weeks:[]},l=p=>{switch(p){case"core":return s?"bg-blue-900 text-blue-200 border-blue-700":"bg-blue-100 text-blue-800 border-blue-200";case"elective":return s?"bg-green-900 text-green-200 border-green-700":"bg-green-100 text-green-800 border-green-200";case"activity":return s?"bg-purple-900 text-purple-200 border-purple-700":"bg-purple-100 text-purple-800 border-purple-200";case"break":return s?"bg-orange-900 text-orange-200 border-orange-700":"bg-orange-100 text-orange-800 border-orange-200";case"study":return s?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-800 border-gray-300";case"assembly":return s?"bg-indigo-900 text-indigo-200 border-indigo-700":"bg-indigo-100 text-indigo-800 border-indigo-200";case"guidance":return s?"bg-teal-900 text-teal-200 border-teal-700":"bg-teal-100 text-teal-800 border-teal-200";default:return s?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-800 border-gray-300"}},n=p=>{switch(p){case"completed":return s?"bg-green-900 text-green-200 border-green-700":"bg-green-100 text-green-800 border-green-200";case"pending":return s?"bg-yellow-900 text-yellow-200 border-yellow-700":"bg-yellow-100 text-yellow-800 border-yellow-200";case"overdue":return s?"bg-red-900 text-red-200 border-red-700":"bg-red-100 text-red-800 border-red-200";default:return s?"bg-gray-700 text-gray-200 border-gray-600":"bg-gray-100 text-gray-800 border-gray-300"}},h=p=>{switch(p){case"urgent":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},S=p=>{switch(p){case"urgent":return e.jsx(Ts,{className:"w-4 h-4 text-red-600"});case"high":return e.jsx(Ie,{className:"w-4 h-4 text-orange-600"});case"medium":return e.jsx(Ce,{className:"w-4 h-4 text-yellow-600"});case"low":return e.jsx(se,{className:"w-4 h-4 text-green-600"});default:return e.jsx(Pt,{className:"w-4 h-4 text-gray-600"})}},N=p=>{switch(p){case"completed":return e.jsx(ua,{className:"w-4 h-4 text-green-600"});case"pending":return e.jsx(ie,{className:"w-4 h-4 text-yellow-600"});case"overdue":return e.jsx(Ts,{className:"w-4 h-4 text-red-600"});default:return e.jsx(Pt,{className:"w-4 h-4 text-gray-600"})}},g=Array.isArray(a.weeks)&&a.weeks.length>0,c=g?a.weeks[v]:null,r=["Monday","Tuesday","Wednesday","Thursday","Friday"];return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold mb-2 ${s?"text-white":"text-gray-900"}`,children:"Class Timetable"}),e.jsxs("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:["".trim()," ",""]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Download"})]}),e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(ra,{className:"w-4 h-4"}),e.jsx("span",{children:"Print"})]})]})]})}),e.jsx("div",{className:`rounded-xl shadow-lg mb-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>u(Math.max(0,v-1)),disabled:!g||v===0,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Tt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:g?`Week ${c.weekNumber}`:"No timetable"}),e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:g?`${new Date(c.startDate).toLocaleDateString()} - ${new Date(c.endDate).toLocaleDateString()}`:""})]}),e.jsx("button",{onClick:()=>u(Math.min(a.weeks.length-1,v+1)),disabled:!g||v===a.weeks.length-1,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(rt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.jsx("span",{className:`px-2 py-1 rounded border ${l("core")}`,children:"Core"}),e.jsx("span",{className:`px-2 py-1 rounded border ${l("elective")}`,children:"Elective"}),e.jsx("span",{className:`px-2 py-1 rounded border ${l("activity")}`,children:"Activity"}),e.jsx("span",{className:`px-2 py-1 rounded border ${l("break")}`,children:"Break"})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4",children:r.map(p=>{var k,m;return e.jsxs("div",{className:`rounded-xl shadow-lg ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h3",{className:`text-lg font-semibold text-center ${s?"text-white":"text-gray-900"}`,children:p}),e.jsxs("p",{className:`text-sm text-center ${s?"text-gray-400":"text-gray-600"}`,children:[(((k=c==null?void 0:c.schedule)==null?void 0:k[p])||[]).length," periods"]})]}),e.jsx("div",{className:"p-4 space-y-2",children:(((m=c==null?void 0:c.schedule)==null?void 0:m[p])||[]).map((C,J)=>e.jsxs("div",{onClick:()=>b({day:p,period:C,index:J}),className:`p-3 rounded-lg border cursor-pointer hover:shadow-md transition-all ${l(C.type)}`,children:[e.jsx("div",{className:"text-xs font-medium mb-1",children:C.time}),e.jsx("div",{className:"text-sm font-semibold mb-1",children:C.subject}),C.teacher&&e.jsxs("div",{className:"text-xs opacity-80 flex items-center",children:[e.jsx(es,{className:"w-3 h-3 mr-1"}),C.teacher]}),C.room&&e.jsxs("div",{className:"text-xs opacity-80 flex items-center mt-1",children:[e.jsx(as,{className:"w-3 h-3 mr-1"}),C.room]})]},J))})]},p)})}),e.jsxs("div",{className:`mt-8 rounded-xl shadow-lg p-6 ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(re,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Assignment Quick Actions"})]}),e.jsxs("div",{className:"flex space-x-2",children:[y!=="student"&&e.jsxs("button",{onClick:()=>w(!0),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:"New Assignment"})]}),e.jsxs("button",{onClick:()=>i&&i("assignments"),className:"flex items-center space-x-2 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:"View All"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:`p-4 rounded-lg border text-center ${s?"bg-gray-700 border-gray-600":"bg-blue-50 border-blue-200"}`,children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:x.filter(p=>p.status==="pending").length}),e.jsx("div",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:"Pending"})]}),e.jsxs("div",{className:`p-4 rounded-lg border text-center ${s?"bg-gray-700 border-gray-600":"bg-red-50 border-red-200"}`,children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:x.filter(p=>p.status==="overdue").length}),e.jsx("div",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:"Overdue"})]}),e.jsxs("div",{className:`p-4 rounded-lg border text-center ${s?"bg-gray-700 border-gray-600":"bg-green-50 border-green-200"}`,children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:x.filter(p=>p.status==="completed").length}),e.jsx("div",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:"Completed"})]}),e.jsxs("div",{className:`p-4 rounded-lg border text-center ${s?"bg-gray-700 border-gray-600":"bg-purple-50 border-purple-200"}`,children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:x.reduce((p,k)=>p+k.points,0)}),e.jsx("div",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:"Total Points"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("button",{onClick:()=>i&&i("submit-assignment"),className:`p-4 rounded-lg border transition-colors flex items-center space-x-3 ${s?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-blue-50 border-blue-200 hover:bg-blue-100"}`,children:[e.jsx(is,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:`font-medium ${s?"text-white":"text-gray-800"}`,children:"Submit Assignment"}),e.jsx("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Upload your work"})]})]}),e.jsxs("button",{onClick:()=>i&&i("assignments"),className:`p-4 rounded-lg border transition-colors flex items-center space-x-3 ${s?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-green-50 border-green-200 hover:bg-green-100"}`,children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:`font-medium ${s?"text-white":"text-gray-800"}`,children:"View Assignments"}),e.jsx("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"See all assignments"})]})]}),e.jsxs("button",{onClick:()=>i&&i("exam-schedule"),className:`p-4 rounded-lg border transition-colors flex items-center space-x-3 ${s?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-purple-50 border-purple-200 hover:bg-purple-100"}`,children:[e.jsx(Ye,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:`font-medium ${s?"text-white":"text-gray-800"}`,children:"Due Dates"}),e.jsx("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Check deadlines"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-md font-medium mb-3 ${s?"text-white":"text-gray-800"}`,children:"Recent Assignments"}),e.jsx("div",{className:"space-y-3",children:x.slice(0,3).map(p=>e.jsx("div",{onClick:()=>{d(p),w(!0)},className:`p-4 rounded-lg border cursor-pointer hover:shadow-md transition-all ${s?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-white border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[N(p.status),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${s?"text-white":"text-gray-800"}`,children:p.title}),e.jsxs("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:[p.subject," • Due: ",new Date(p.dueDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[S(p.priority),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${n(p.status)}`,children:p.status}),e.jsxs("span",{className:`text-sm font-medium ${h(p.priority)}`,children:[p.points," pts"]})]})]})},p.id))})]})]}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`rounded-xl shadow-xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto ${s?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-xl font-semibold ${s?"text-white":"text-gray-900"}`,children:$?"Assignment Details":"New Assignment"}),e.jsx("button",{onClick:()=>{w(!1),d(null)},className:"text-gray-400 hover:text-gray-600",children:"×"})]}),$?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold mb-2 ${s?"text-white":"text-gray-900"}`,children:$.title}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full border ${n($.status)}`,children:$.status}),e.jsxs("span",{className:`text-sm font-medium ${h($.priority)}`,children:[S($.priority)," ",$.priority," priority"]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[$.points," points"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium mb-2 ${s?"text-white":"text-gray-900"}`,children:"Subject"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:$.subject})]}),e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium mb-2 ${s?"text-white":"text-gray-900"}`,children:"Teacher"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:$.teacher})]}),e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium mb-2 ${s?"text-white":"text-gray-900"}`,children:"Due Date"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:new Date($.dueDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium mb-2 ${s?"text-white":"text-gray-900"}`,children:"Points"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:$.points})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium mb-2 ${s?"text-white":"text-gray-900"}`,children:"Description"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:$.description})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{onClick:()=>{w(!1),i&&i("submit-assignment")},className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(is,{className:"w-4 h-4"}),e.jsx("span",{children:"Submit Work"})]}),e.jsxs("button",{onClick:()=>{w(!1),i&&i("exam-schedule")},className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Ye,{className:"w-4 h-4"}),e.jsx("span",{children:"Set Reminder"})]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"Assignment Title"}),e.jsx("input",{type:"text",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter assignment title"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"Subject"}),e.jsxs("select",{className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{children:"Mathematics"}),e.jsx("option",{children:"Physics"}),e.jsx("option",{children:"Chemistry"}),e.jsx("option",{children:"Biology"}),e.jsx("option",{children:"English"}),e.jsx("option",{children:"History"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"Due Date"}),e.jsx("input",{type:"date",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"Description"}),e.jsx("textarea",{rows:"4",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter assignment description"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Assignment"}),e.jsx("button",{onClick:()=>w(!1),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]})})]})},fl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("assignments"),[u,o]=t.useState(null),[b,T]=t.useState(null),[w,$]=t.useState(!1),[d,x]=t.useState(!1),[a,l]=t.useState(!1),[n,h]=t.useState(!1),[S,N]=t.useState(!1),[g,c]=t.useState(!1),[r,p]=t.useState(!1),[k,m]=t.useState(!1),[C,J]=t.useState(!1),[_,z]=t.useState({}),[B,f]=t.useState([]),[R,D]=t.useState([{id:1,title:"Mathematics Problem Set",subject:"Mathematics",teacher:"Mr. Johnson",dueDate:"2024-01-15",dueTime:"23:59",status:"pending",priority:"high",description:"Complete exercises 1-20 from chapter 5",attachments:["problem_set.pdf"],submitted:!1,grade:null},{id:2,title:"English Essay",subject:"English",teacher:"Ms. Smith",dueDate:"2024-01-18",dueTime:"14:00",status:"pending",priority:"medium",description:"Write a 500-word essay on climate change",attachments:["essay_guidelines.pdf"],submitted:!1,grade:null},{id:3,title:"Physics Lab Report",subject:"Physics",teacher:"Dr. Brown",dueDate:"2024-01-12",dueTime:"16:00",status:"overdue",priority:"high",description:"Complete lab report for experiment 3",attachments:["lab_template.docx"],submitted:!1,grade:null},{id:4,title:"History Research Project",subject:"History",teacher:"Mr. Taylor",dueDate:"2024-01-20",dueTime:"23:59",status:"pending",priority:"low",description:"Research project on World War II",attachments:["research_guidelines.pdf"],submitted:!1,grade:null}]),L=s?"bg-gray-800 border border-gray-700":"bg-white",j=s?"text-white":"text-gray-900",O=s?"text-gray-300":"text-gray-600",M=s?"text-gray-400":"text-gray-500",P=[],Q=E=>{switch(E){case"upcoming":return"bg-blue-100 text-blue-800";case"today":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"missed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},q=E=>{switch(E){case"High":return"text-red-600";case"Medium":return"text-yellow-600";case"Low":return"text-green-600";default:return"text-gray-600"}},te=E=>E>=85?"text-green-600 bg-green-100":E>=70?"text-blue-600 bg-blue-100":E>=50?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",Z=E=>{switch(E){case"pending":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";case"submitted":return"bg-green-100 text-green-800";case"graded":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},I=E=>{switch(E){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},F=E=>{T(E),m(!0)},G=E=>{T(E),J(!0)},le=async E=>{try{alert(`✅ Assignment "${b==null?void 0:b.title}" submitted successfully!`),J(!1),T(null),D(K=>K.map(ae=>ae.id===E?{...ae,status:"submitted"}:ae))}catch{alert("❌ Failed to submit assignment. Please try again.")}},H=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:`${L} rounded-xl shadow p-6 text-center`,children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:R.filter(E=>E.status==="pending").length}),e.jsx("div",{className:`text-sm ${O}`,children:"Pending"})]}),e.jsxs("div",{className:`${L} rounded-xl shadow p-6 text-center`,children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:R.filter(E=>E.status==="overdue").length}),e.jsx("div",{className:`text-sm ${O}`,children:"Overdue"})]}),e.jsxs("div",{className:`${L} rounded-xl shadow p-6 text-center`,children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:R.filter(E=>E.status==="submitted").length}),e.jsx("div",{className:`text-sm ${O}`,children:"Submitted"})]}),e.jsxs("div",{className:`${L} rounded-xl shadow p-6 text-center`,children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:R.filter(E=>E.status==="graded").length}),e.jsx("div",{className:`text-sm ${O}`,children:"Graded"})]})]}),e.jsx("div",{className:"space-y-4",children:R.map(E=>e.jsxs("div",{className:`${L} rounded-xl shadow-lg p-6 hover:shadow-xl transition-all`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-semibold ${j} mb-2`,children:E.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsx("span",{className:`${O}`,children:E.subject}),e.jsx("span",{className:`${O}`,children:"•"}),e.jsx("span",{className:`${O}`,children:E.teacher})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${Z(E.status)}`,children:E.status}),e.jsx("span",{className:`text-sm font-bold ${I(E.priority)}`,children:E.priority})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(ne,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:O,children:["Due: ",E.dueDate," at ",E.dueTime]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(re,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:O,children:E.description})]}),E.attachments.length>0&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Ne,{className:"w-4 h-4 text-purple-600"}),e.jsxs("span",{className:O,children:["Attachments: ",E.attachments.join(", ")]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>F(E),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"View Details"}),E.status!=="submitted"&&E.status!=="graded"&&e.jsx("button",{onClick:()=>G(E),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Submit Assignment"})]}),E.grade&&e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-lg font-bold ${E.grade>=80?"text-green-600":E.grade>=60?"text-yellow-600":"text-red-600"}`,children:[E.grade,"%"]}),e.jsx("div",{className:`text-xs ${O}`,children:"Grade"})]})]})]},E.id))})]}),xe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Examinations "}),e.jsx("p",{className:"text-blue-100",children:"Your final examinations are approaching"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold mb-1",children:"0"}),e.jsx("div",{className:"text-blue-100 text-sm",children:"Days Remaining"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:P.filter(E=>E.status==="upcoming").length===0?e.jsx("div",{className:`${L} rounded-xl shadow p-8 text-center col-span-2`,children:e.jsx("p",{className:O,children:"No upcoming exams"})}):P.filter(E=>E.status==="upcoming").map(E=>e.jsxs("div",{className:`${L} rounded-xl shadow-lg p-6 hover:shadow-xl transition-all`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${j}`,children:E.subject}),e.jsx("p",{className:`text-sm ${O}`,children:E.paper})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${Q(E.status)}`,children:[E.daysRemaining," days"]}),e.jsx("span",{className:`text-sm font-bold ${q(E.difficulty)}`,children:E.difficulty})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(ne,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:O,children:E.date})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(ie,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:O,children:[E.time," (",E.duration,")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(as,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:O,children:E.venue})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(me,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:O,children:E.supervisor})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:`font-medium ${j}`,children:"Preparation Level"}),e.jsxs("span",{className:`font-bold ${te(E.preparationLevel).split(" ")[0]}`,children:[E.preparationLevel,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${te(E.preparationLevel).split(" ")[1]}`,style:{width:`${E.preparationLevel}%`}})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:`text-sm font-medium ${j} mb-2`,children:"Syllabus Coverage:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:E.syllabus.map((K,ae)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:K},ae))})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(oe,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"Instructions"})]}),e.jsx("p",{className:"text-sm text-yellow-800",children:E.instructions})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>o(E),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:"Details"})]}),e.jsx("button",{className:"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ye,{className:"w-4 h-4"})})]})]},E.id))})]}),Y=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:`${L} rounded-xl shadow-lg p-6`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-6 ${j}`,children:"Completed Examinations"}),e.jsx("div",{className:"space-y-4",children:P.filter(E=>E.status==="completed").map(E=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:`font-medium ${j}`,children:[E.subject," - ",E.paper]}),e.jsxs("div",{className:`text-sm ${O}`,children:[E.date," • ",E.venue]}),E.feedback&&e.jsx("div",{className:"text-sm text-green-600 mt-1",children:E.feedback})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[E.score,"%"]}),e.jsxs("div",{className:"text-sm text-green-600",children:["Grade ",E.grade]})]})]},E.id))})]})}),V=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${L} rounded-xl shadow-lg p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${j}`,children:"Study Progress Overview"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Loading..."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"--"}),e.jsx("div",{className:"text-sm text-blue-800",children:"Overall Readiness"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"--"}),e.jsx("div",{className:"text-sm text-green-800",children:"Hours Studied"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"--"}),e.jsx("div",{className:"text-sm text-purple-800",children:"Practice Tests"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"--"}),e.jsx("div",{className:"text-sm text-orange-800",children:"Days Remaining"})]})]})]}),e.jsxs("div",{className:`${L} rounded-xl shadow-lg p-6`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-6 ${j}`,children:"AI Study Recommendations"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pe,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h4",{className:`text-lg font-medium mb-2 ${j}`,children:"No Study Data Available"}),e.jsx("p",{className:`${O} mb-6`,children:"Start by taking practice tests or completing assignments to get personalized study recommendations."}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>$(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Take Practice Test"}),e.jsx("button",{onClick:()=>x(!0),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"View Assignments"})]})]})]}),e.jsxs("div",{className:`${L} rounded-xl shadow-lg p-6`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-6 ${j}`,children:"Weekly Study Calendar"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ne,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h4",{className:`text-lg font-medium mb-2 ${j}`,children:"No Study Schedule"}),e.jsx("p",{className:`${O} mb-6`,children:"Create a personalized study schedule to track your daily study activities."}),e.jsx("button",{onClick:()=>l(!0),className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Create Study Schedule"})]})]}),e.jsxs("div",{className:`${L} rounded-xl shadow-lg p-6`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-6 ${j}`,children:"Study Goals & Milestones"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ce,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h4",{className:`text-lg font-medium mb-2 ${j}`,children:"No Goals Set"}),e.jsx("p",{className:`${O} mb-6`,children:"Set study goals and track your progress to stay motivated and organized."}),e.jsx("button",{onClick:()=>h(!0),className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Set Study Goals"})]})]})]});return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-2xl font-bold mb-2 ${j}`,children:"Exam Schedule"}),e.jsx("p",{className:O,children:"Track your upcoming examinations and preparation progress"})]}),e.jsx("div",{className:`${L} rounded-xl shadow-lg mb-6`,children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"assignments",label:"Assignments",icon:re},{id:"upcoming",label:"Upcoming Exams",icon:ne},{id:"completed",label:"Results",icon:Se},{id:"study-plan",label:"Study Plan",icon:pe}].map(E=>e.jsxs("button",{onClick:()=>v(E.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===E.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(E.icon,{className:"w-4 h-4"}),e.jsx("span",{children:E.label})]},E.id))})})}),i==="assignments"&&H(),i==="upcoming"&&xe(),i==="completed"&&Y(),i==="study-plan"&&V(),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${L} rounded-xl shadow-xl p-6 max-w-2xl w-full mx-4 max-h-96 overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${j}`,children:"Exam Details"}),e.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium ${j}`,children:u.subject}),e.jsx("p",{className:O,children:u.paper})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:M,children:"Date:"}),e.jsx("div",{className:`font-medium ${j}`,children:u.date})]}),e.jsxs("div",{children:[e.jsx("span",{className:M,children:"Time:"}),e.jsx("div",{className:`font-medium ${j}`,children:u.time})]}),e.jsxs("div",{children:[e.jsx("span",{className:M,children:"Venue:"}),e.jsx("div",{className:`font-medium ${j}`,children:u.venue})]}),e.jsxs("div",{children:[e.jsx("span",{className:M,children:"Total Marks:"}),e.jsx("div",{className:`font-medium ${j}`,children:u.totalMarks})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:`text-sm ${M}`,children:"Syllabus Topics:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.syllabus.map((E,K)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:E},K))})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Set Reminder"}),e.jsx("button",{className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Study Plan"})]})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${L} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${j}`,children:"Take Practice Test"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(re,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h4",{className:`text-lg font-medium mb-2 ${j}`,children:"No Practice Tests Available"}),e.jsx("p",{className:`${O} mb-6`,children:"Practice tests will be available once your teachers create them. Check back later or contact your teachers for available tests."}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>{$(!1),N(!0)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Request Practice Test"}),e.jsx("button",{onClick:()=>{$(!1),c(!0)},className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Contact Teacher"})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${L} rounded-xl shadow-xl p-6 w-full max-w-4xl mx-4 max-h-[80vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${j}`,children:"View Assignments"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(re,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h4",{className:`text-lg font-medium mb-2 ${j}`,children:"No Assignments Available"}),e.jsx("p",{className:`${O} mb-6`,children:"You don't have any assignments at the moment. New assignments will appear here when your teachers create them."}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>{x(!1),p(!0)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Check for Updates"}),e.jsx("button",{onClick:()=>{x(!1),c(!0)},className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Contact Teacher"})]})]})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${L} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${j}`,children:"Create Study Schedule"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("form",{onSubmit:E=>{E.preventDefault(),new FormData(E.target),alert(`✅ Study Schedule Created!

Your personalized study schedule has been generated and will help you stay organized.`),l(!1)},children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Study Duration (hours per day)"}),e.jsxs("select",{name:"duration",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"1",children:"1 hour"}),e.jsx("option",{value:"2",children:"2 hours"}),e.jsx("option",{value:"3",children:"3 hours"}),e.jsx("option",{value:"4",children:"4 hours"}),e.jsx("option",{value:"5",children:"5+ hours"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Preferred Study Time"}),e.jsxs("select",{name:"time",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"morning",children:"Morning (6-9 AM)"}),e.jsx("option",{value:"afternoon",children:"Afternoon (2-5 PM)"}),e.jsx("option",{value:"evening",children:"Evening (7-10 PM)"}),e.jsx("option",{value:"flexible",children:"Flexible"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Subjects to Focus On"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Mathematics","Physics","Chemistry","Biology","English","History"].map(E=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"subjects",value:E,className:"mr-2"}),e.jsx("span",{className:O,children:E})]},E))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Study Goals"}),e.jsx("textarea",{name:"goals",rows:"3",placeholder:"What do you want to achieve with this study schedule?",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"AI-Powered Schedule"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Your schedule will be optimized based on your preferences and learning patterns."})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Create Schedule"})]})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${L} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${j}`,children:"Set Study Goals"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("form",{onSubmit:E=>{E.preventDefault(),new FormData(E.target),alert(`✅ Study Goals Set!

Your goals have been saved and will help track your progress.`),h(!1)},children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Goal Title"}),e.jsx("input",{type:"text",name:"title",required:!0,placeholder:"e.g., Master Quadratic Equations",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Subject"}),e.jsxs("select",{name:"subject",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"physics",children:"Physics"}),e.jsx("option",{value:"chemistry",children:"Chemistry"}),e.jsx("option",{value:"biology",children:"Biology"}),e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"history",children:"History"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Target Date"}),e.jsx("input",{type:"date",name:"targetDate",required:!0,className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Priority Level"}),e.jsxs("select",{name:"priority",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Goal Description"}),e.jsx("textarea",{name:"description",rows:"3",placeholder:"Describe what you want to achieve...",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Action Steps"}),e.jsx("textarea",{name:"actionSteps",rows:"3",placeholder:"List the specific steps you'll take to achieve this goal...",className:`w-full px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Goal Tracking"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your progress will be tracked automatically based on completed assignments and test scores."})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Set Goal"})]})]})]})}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`max-w-md w-full max-h-[90vh] ${L} rounded-lg shadow-xl flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:`text-lg font-semibold ${j}`,children:"📝 Request Practice Test"}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"practice-test-form",onSubmit:E=>{E.preventDefault();const K=new FormData(E.target),ae=Object.fromEntries(K.entries());alert(`✅ Practice Test Request Sent!

Subject: ${ae.subject}
Test Type: ${ae.testType}
Difficulty: ${ae.difficulty}

Your request has been sent to your teachers. You'll be notified when practice tests are available.`),N(!1)},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Subject *"}),e.jsxs("select",{name:"subject",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"science",children:"Science"}),e.jsx("option",{value:"history",children:"History"}),e.jsx("option",{value:"geography",children:"Geography"}),e.jsx("option",{value:"physics",children:"Physics"}),e.jsx("option",{value:"chemistry",children:"Chemistry"}),e.jsx("option",{value:"biology",children:"Biology"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Test Type *"}),e.jsxs("select",{name:"testType",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Test Type"}),e.jsx("option",{value:"quiz",children:"Quick Quiz (10-15 questions)"}),e.jsx("option",{value:"practice",children:"Practice Test (20-30 questions)"}),e.jsx("option",{value:"mock",children:"Mock Exam (Full length)"}),e.jsx("option",{value:"topic",children:"Topic-specific Test"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Difficulty Level"}),e.jsxs("select",{name:"difficulty",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"mixed",children:"Mixed Difficulty"}),e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"}),e.jsx("option",{value:"exam-level",children:"Exam Level"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Specific Topics (Optional)"}),e.jsx("textarea",{name:"topics",rows:"3",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"List specific topics you want to focus on..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Preferred Date"}),e.jsx("input",{type:"date",name:"preferredDate",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Additional Notes"}),e.jsx("textarea",{name:"notes",rows:"3",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Any additional requirements or notes..."})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),className:`flex-1 py-2 px-4 rounded-lg border ${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"}),e.jsx("button",{type:"submit",form:"practice-test-form",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Send Request"})]})})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`max-w-md w-full max-h-[90vh] ${L} rounded-lg shadow-xl flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:`text-lg font-semibold ${j}`,children:"📧 Contact Teacher"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"contact-teacher-form",onSubmit:E=>{E.preventDefault();const K=new FormData(E.target),ae=Object.fromEntries(K.entries());alert(`✅ Message Sent!

Teacher: ${ae.teacher}
Method: ${ae.contactMethod}
Subject: ${ae.subject}

Your message has been sent successfully. You'll receive a response soon.`),c(!1)},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Select Teacher *"}),e.jsxs("select",{name:"teacher",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Teacher"}),e.jsx("option",{value:"all",children:"All Teachers"}),e.jsx("option",{value:"homeroom",children:"Homeroom Teacher"}),e.jsx("option",{value:"mathematics",children:"Mathematics Teacher"}),e.jsx("option",{value:"english",children:"English Teacher"}),e.jsx("option",{value:"science",children:"Science Teacher"}),e.jsx("option",{value:"principal",children:"Principal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Contact Method *"}),e.jsxs("select",{name:"contactMethod",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Method"}),e.jsx("option",{value:"message",children:"Send Message"}),e.jsx("option",{value:"meeting",children:"Schedule Meeting"}),e.jsx("option",{value:"email",children:"Email Teacher"}),e.jsx("option",{value:"phone",children:"Phone Call"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Subject *"}),e.jsx("input",{type:"text",name:"subject",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Brief subject line",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Message *"}),e.jsx("textarea",{name:"message",rows:"4",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Type your message here...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Priority Level"}),e.jsxs("select",{name:"priority",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"emergency",children:"Emergency"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"followUp",id:"follow-up",className:"mr-2"}),e.jsx("label",{htmlFor:"follow-up",className:`text-sm ${O}`,children:"Request follow-up response"})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:`flex-1 py-2 px-4 rounded-lg border ${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"}),e.jsx("button",{type:"submit",form:"contact-teacher-form",className:"flex-1 py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Send Message"})]})})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`max-w-md w-full max-h-[90vh] ${L} rounded-lg shadow-xl flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:`text-lg font-semibold ${j}`,children:"🔄 Check for Updates"}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"check-updates-form",onSubmit:E=>{E.preventDefault();const K=new FormData(E.target),ae=Object.fromEntries(K.entries());alert(`✅ Update Check Complete!

Update Type: ${ae.updateType}
Subject Filter: ${ae.subjectFilter||"All"}
Date Range: ${ae.dateRange}

Your preferences have been saved. You'll be notified of any new updates.`),p(!1)},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Update Type *"}),e.jsxs("select",{name:"updateType",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Update Type"}),e.jsx("option",{value:"assignments",children:"New Assignments"}),e.jsx("option",{value:"exams",children:"Exam Schedule Updates"}),e.jsx("option",{value:"grades",children:"Grade Updates"}),e.jsx("option",{value:"announcements",children:"Announcements"}),e.jsx("option",{value:"all",children:"All Updates"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Subject Filter"}),e.jsxs("select",{name:"subjectFilter",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"All Subjects"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"science",children:"Science"}),e.jsx("option",{value:"history",children:"History"}),e.jsx("option",{value:"geography",children:"Geography"}),e.jsx("option",{value:"physics",children:"Physics"}),e.jsx("option",{value:"chemistry",children:"Chemistry"}),e.jsx("option",{value:"biology",children:"Biology"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Date Range"}),e.jsxs("select",{name:"dateRange",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"term",children:"This Term"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"emailNotifications",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:`text-sm ${O}`,children:"Email notifications"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"inAppNotifications",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:`text-sm ${O}`,children:"In-app notifications"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"smsNotifications",className:"mr-2"}),e.jsx("span",{className:`text-sm ${O}`,children:"SMS notifications"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"autoRefresh",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:`text-sm ${O}`,children:"Auto-refresh dashboard"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${O}`,children:"Additional Notes"}),e.jsx("textarea",{name:"notes",rows:"3",className:`w-full p-3 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Any specific information you're looking for..."})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:`flex-1 py-2 px-4 rounded-lg border ${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"}),e.jsx("button",{type:"submit",form:"check-updates-form",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Check for Updates"})]})})]})}),k&&b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Assignment Details"}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(je,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:b.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[b.subject," • ",b.teacher]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700",children:b.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:"Due Date"}),e.jsxs("p",{className:"text-gray-700",children:[b.dueDate," at ",b.dueTime]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:"Priority"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Z(b.priority)}`,children:b.priority})]})]}),b.instructions&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Instructions"}),e.jsx("p",{className:"text-gray-700",children:b.instructions})]}),b.attachments&&b.attachments.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Attachments"}),e.jsx("div",{className:"space-y-1",children:b.attachments.map((E,K)=>e.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:E})]},K))})]}),b.grade&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"Grade"}),e.jsxs("div",{className:`text-2xl font-bold ${b.grade>=80?"text-green-600":b.grade>=60?"text-yellow-600":"text-red-600"}`,children:[b.grade,"%"]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),b.status!=="submitted"&&b.status!=="graded"&&e.jsx("button",{onClick:()=>{m(!1),G(b)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Submit Assignment"})]})]})}),C&&b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Submit Assignment"}),e.jsx("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(re,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:b.title}),e.jsxs("p",{className:"text-sm text-blue-800",children:["Due: ",b.dueDate," at ",b.dueTime]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Submission Notes (Optional)"}),e.jsx("textarea",{rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Add any notes about your submission..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Files"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(re,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Drag and drop files here, or click to browse"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Choose Files"})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(oe,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-yellow-900",children:"Important"}),e.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:"Please ensure all files are properly uploaded before submitting. You cannot modify your submission after it's been submitted."})]})]})})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>le(b.id),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Submit Assignment"})]})]})})]})},Nl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("structure"),[u,o]=t.useState("all"),[b,T]=t.useState("current"),[w,$]=t.useState(!1),[d,x]=t.useState(null),a=s?"bg-gray-800 border border-gray-700":"bg-white",l=s?"text-white":"text-gray-900",n=s?"text-gray-300":"text-gray-600",h=s?"text-gray-400":"text-gray-500",S=[],N=p=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0,notation:"compact",compactDisplay:"short"}).format(p),g=p=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(p),c=p=>e.jsx("div",{className:`${a} rounded-xl shadow-lg overflow-hidden`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(ze,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-xl font-semibold ${l}`,children:p.level}),e.jsxs("p",{className:`${n}`,children:["Classes: ",p.classes.join(", ")," • ",p.studentsEnrolled," students"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>x(p),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(Rt,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(Kt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg min-w-0",children:[e.jsx("p",{className:`text-sm ${n} mb-2`,children:"Mandatory Fees"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-green-600 break-words",title:g(p.totalMandatory),children:N(p.totalMandatory)})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg min-w-0",children:[e.jsx("p",{className:`text-sm ${n} mb-2`,children:"Optional Fees"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-blue-600 break-words",title:g(p.totalOptional),children:N(p.totalOptional)})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg min-w-0",children:[e.jsx("p",{className:`text-sm ${n} mb-2`,children:"Total Fees"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-purple-600 break-words",title:g(p.totalFees),children:N(p.totalFees)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:`text-lg font-semibold ${l} mb-4`,children:"Fee Breakdown"}),p.fees.map((k,m)=>e.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 rounded-lg gap-3 border ${s?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full w-fit ${k.mandatory?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"}`,children:k.mandatory?"Mandatory":"Optional"}),e.jsx("h5",{className:`font-medium ${l} truncate`,children:k.category})]}),e.jsx("p",{className:`text-sm ${h} mt-1`,children:k.description})]}),e.jsxs("div",{className:"text-right sm:text-right flex-shrink-0",children:[e.jsx("p",{className:`text-base sm:text-lg font-bold ${l} break-words`,title:g(k.amount),children:N(k.amount)}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm mt-1",children:"Edit"})]})]},m))]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Fee Category"]}),e.jsxs("button",{className:"flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Export"]})]})})]})},p.id),r=()=>{var C,J;const p=S.reduce((_,z)=>_+(z.studentsEnrolled||0),0),k=S.reduce((_,z)=>_+(z.totalFees||0)*(z.studentsEnrolled||0),0),m=p?k/p:0;return e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[e.jsx("div",{className:`${a} rounded-xl shadow-lg p-4 lg:p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${n} mb-1`,children:"Total Students"}),e.jsx("p",{className:`text-2xl lg:text-3xl font-bold ${l}`,children:p}),e.jsx("p",{className:"text-blue-600 text-sm",children:"Enrolled students"})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-2 lg:p-3 flex-shrink-0",children:e.jsx(me,{className:"w-6 h-6 lg:w-8 lg:h-8 text-blue-600"})})]})}),e.jsx("div",{className:`${a} rounded-xl shadow-lg p-4 lg:p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${n} mb-1`,children:"Expected Revenue"}),e.jsx("p",{className:`text-lg lg:text-2xl font-bold ${l} break-words`,title:g(k),children:N(k)}),e.jsx("p",{className:"text-green-600 text-sm",children:"This term"})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-2 lg:p-3 flex-shrink-0",children:e.jsx(he,{className:"w-6 h-6 lg:w-8 lg:h-8 text-green-600"})})]})}),e.jsx("div",{className:`${a} rounded-xl shadow-lg p-4 lg:p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${n} mb-1`,children:"Avg Fee/Student"}),e.jsx("p",{className:`text-lg lg:text-2xl font-bold ${l} break-words`,title:g(m),children:N(m)}),e.jsx("p",{className:"text-purple-600 text-sm",children:"Per term"})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-2 lg:p-3 flex-shrink-0",children:e.jsx(Cs,{className:"w-6 h-6 lg:w-8 lg:h-8 text-purple-600"})})]})}),e.jsx("div",{className:`${a} rounded-xl shadow-lg p-4 lg:p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${n} mb-1`,children:"Fee Categories"}),e.jsx("p",{className:`text-2xl lg:text-3xl font-bold ${l}`,children:((J=(C=S[0])==null?void 0:C.fees)==null?void 0:J.length)||0}),e.jsx("p",{className:"text-orange-600 text-sm",children:"Active categories"})]}),e.jsx("div",{className:"bg-orange-100 rounded-full p-2 lg:p-3 flex-shrink-0",children:e.jsx(re,{className:"w-6 h-6 lg:w-8 lg:h-8 text-orange-600"})})]})})]})};return e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${s?"text-white":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold mb-2 ${l}`,children:"Fee Structure Management"}),e.jsx("p",{className:n,children:"Configure and manage school fee structures for different levels"})]}),e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-6 mb-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:u,onChange:p=>o(p.target.value),className:`px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"O-Level",children:"O-Level"}),e.jsx("option",{value:"A-Level",children:"A-Level"})]}),e.jsxs("select",{value:b,onChange:p=>T(p.target.value),className:`px-3 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"current",children:"Current Term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>{const p=document.createElement("input");p.type="file",p.accept=".csv,.xlsx,.xls",p.onchange=k=>{const m=k.target.files[0];m&&alert(`Importing fee structure from: ${m.name}

This will upload and process the file.`)},p.click()},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Import Structure"]}),e.jsxs("button",{onClick:()=>$(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"New Structure"]})]})]}),e.jsx("div",{className:`flex space-x-1 rounded-lg p-1 border ${s?"bg-gray-700 border-gray-600":"bg-gray-100 border-gray-200"}`,children:[{id:"structure",label:"Fee Structure",icon:ze},{id:"analytics",label:"Analytics",icon:de},{id:"comparison",label:"Comparison",icon:he}].map(p=>e.jsxs("button",{onClick:()=>v(p.id),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all ${i===p.id?`${s?"bg-gray-800":"bg-white"} text-blue-600 shadow-sm`:`${n} hover:text-blue-600 ${s?"hover:bg-gray-600":"hover:bg-white/50"}`}`,children:[e.jsx(p.icon,{className:"w-4 h-4 mr-2"}),p.label]},p.id))})]}),r(),i==="structure"&&e.jsx("div",{className:"space-y-6",children:S.map(p=>e.jsx("div",{className:`${s?"bg-gray-800 border-gray-600":"bg-white border-gray-200"} rounded-lg p-4 border-b border-gray-200 dark:border-gray-600`,children:c(p)},p.level))}),i==="analytics"&&e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-8 text-center`,children:[e.jsx(de,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${l}`,children:"Fee Analytics"}),e.jsx("p",{className:n,children:"Detailed fee analytics and revenue projections coming soon."})]}),i==="comparison"&&e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-8 text-center`,children:[e.jsx(he,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${l}`,children:"Fee Comparison"}),e.jsx("p",{className:n,children:"Compare fee structures across different terms and years."})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${a} rounded-2xl shadow-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold ${l}`,children:"Create New Fee Structure"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("form",{onSubmit:p=>{p.preventDefault();const k=new FormData(p.target);alert(`Fee Structure Created! ✅

Class: ${k.get("class")}
Term: ${k.get("term")}
Tuition: UGX ${k.get("tuition")}
Total: UGX ${parseInt(k.get("tuition"))+parseInt(k.get("boarding"))+parseInt(k.get("meals"))}`),$(!1)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${n} text-sm font-medium mb-2`,children:"Class Level *"}),e.jsxs("select",{name:"class",required:!0,className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select class"}),e.jsx("option",{value:"S1",children:"Senior 1"}),e.jsx("option",{value:"S2",children:"Senior 2"}),e.jsx("option",{value:"S3",children:"Senior 3"}),e.jsx("option",{value:"S4",children:"Senior 4"}),e.jsx("option",{value:"S5",children:"Senior 5"}),e.jsx("option",{value:"S6",children:"Senior 6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${n} text-sm font-medium mb-2`,children:"Term *"}),e.jsxs("select",{name:"term",required:!0,className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${n} text-sm font-medium mb-2`,children:"Tuition Fee (UGX) *"}),e.jsx("input",{name:"tuition",type:"number",required:!0,min:"0",className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"e.g., 500000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${n} text-sm font-medium mb-2`,children:"Boarding Fee (UGX)"}),e.jsx("input",{name:"boarding",type:"number",defaultValue:"0",min:"0",className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"e.g., 300000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${n} text-sm font-medium mb-2`,children:"Meals Fee (UGX)"}),e.jsx("input",{name:"meals",type:"number",defaultValue:"0",min:"0",className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"e.g., 200000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${n} text-sm font-medium mb-2`,children:"Other Fees (UGX)"}),e.jsx("input",{name:"other",type:"number",defaultValue:"0",min:"0",className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"e.g., 50000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${n} text-sm font-medium mb-2`,children:"Description"}),e.jsx("textarea",{name:"description",rows:"3",className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Additional notes about this fee structure..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>$(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Structure"})]})]})]})})]})},vl=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("academic"),[v,u]=t.useState("this-month"),[o,b]=t.useState(!1),[T,w]=t.useState(!1),[$,d]=t.useState(!1),x=y==="admin",a=[],l=[],n=[],h=a.length+l.length+n.length,S=0,N=0,g=0,c=()=>{switch(s){case"academic":case"performance":return a;case"attendance":return l;case"financial":return x?n:a;default:return a}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Reports Generated"}),e.jsx("p",{className:"text-2xl font-bold text-blue-800",children:h})]}),e.jsx(re,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-green-800",children:S})]}),e.jsx(ne,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Data Points"}),e.jsx("p",{className:"text-2xl font-bold text-purple-800",children:N})]}),e.jsx(de,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Automated"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-800",children:[g,"%"]})]}),e.jsx(he,{className:"w-8 h-8 text-yellow-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"academic",label:"Academic Reports",icon:de},{id:"attendance",label:"Attendance Reports",icon:ie},...x?[{id:"financial",label:"Financial Reports",icon:ze}]:[],{id:"performance",label:"Performance Analytics",icon:he}].map(r=>e.jsxs("button",{onClick:()=>i(r.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===r.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(r.icon,{className:"w-4 h-4 mr-2"}),r.label]},r.id))})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(zs,{className:"w-4 h-4 text-gray-500 mr-2"}),e.jsxs("select",{value:v,onChange:r=>u(r.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"this-week",children:"This Week"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"this-term",children:"This Term"}),e.jsx("option",{value:"this-year",children:"This Year"})]})]})}),e.jsxs("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Export All"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold capitalize",children:[s," Reports"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c().length===0?e.jsx("div",{className:"text-center text-gray-500 p-8 bg-gray-50 rounded-lg col-span-2",children:"No reports"}):null})]}),e.jsxs("div",{className:"border-t pt-6 mt-8",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>b(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(de,{className:"w-6 h-6 text-blue-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"Custom Report"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create a custom report with specific parameters"})]}),e.jsxs("button",{onClick:()=>w(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(ne,{className:"w-6 h-6 text-green-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"Schedule Report"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Set up automated report generation"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(Ne,{className:"w-6 h-6 text-purple-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"Bulk Export"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Export multiple reports at once"})]})]})]})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-2xl w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📊 Custom Report Builder"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"custom-report-form",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Report Type *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Report Type"}),e.jsx("option",{value:"academic",children:"Academic Performance Analysis"}),e.jsx("option",{value:"attendance",children:"Attendance Patterns"}),e.jsx("option",{value:"financial",children:"Financial Summary"}),e.jsx("option",{value:"student-progress",children:"Student Progress Tracking"}),e.jsx("option",{value:"teacher-performance",children:"Teacher Performance Metrics"}),e.jsx("option",{value:"behavioral",children:"Behavioral Analysis"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Date Range *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Date Range"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"term",children:"This Term"}),e.jsx("option",{value:"year",children:"This Year"}),e.jsx("option",{value:"custom",children:"Custom Range"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full p-3 rounded-lg border bg-white border-gray-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full p-3 rounded-lg border bg-white border-gray-300"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Filter by Class/Grade"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"",children:"All Classes"}),e.jsx("option",{value:"S1",children:"Senior 1"}),e.jsx("option",{value:"S2",children:"Senior 2"}),e.jsx("option",{value:"S3",children:"Senior 3"}),e.jsx("option",{value:"S4",children:"Senior 4"}),e.jsx("option",{value:"S5",children:"Senior 5"}),e.jsx("option",{value:"S6",children:"Senior 6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Data Visualization Type"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"bar",children:"Bar Chart"}),e.jsx("option",{value:"line",children:"Line Chart"}),e.jsx("option",{value:"pie",children:"Pie Chart"}),e.jsx("option",{value:"table",children:"Data Table"}),e.jsx("option",{value:"mixed",children:"Mixed Charts"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Export Format"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"PDF"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Excel"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"CSV"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"JSON"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Additional Notes"}),e.jsx("textarea",{rows:"3",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"Any specific requirements or notes for the report..."})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"custom-report-form",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Generate Report"})]})})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📅 Schedule Report Automation"}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"schedule-report-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Report Type *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Report Type"}),e.jsx("option",{value:"daily",children:"Daily Summary"}),e.jsx("option",{value:"weekly",children:"Weekly Report"}),e.jsx("option",{value:"monthly",children:"Monthly Analytics"}),e.jsx("option",{value:"term",children:"Term-end Report"}),e.jsx("option",{value:"custom",children:"Custom Report"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Frequency *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Frequency"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"custom",children:"Custom Interval"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Start Date *"}),e.jsx("input",{type:"date",className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Delivery Method *"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Email delivery"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Dashboard notifications"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"File downloads"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"API endpoints"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Recipients *"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Administrators"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Teachers"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Parents"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"External stakeholders"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Email Addresses"}),e.jsx("textarea",{rows:"3",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"Enter email addresses (one per line)"})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"schedule-report-form",className:"flex-1 py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Schedule Report"})]})})]})}),$&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📤 Bulk Export & Notifications"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"bulk-export-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Export Type *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Export Type"}),e.jsx("option",{value:"all-reports",children:"All Reports"}),e.jsx("option",{value:"academic",children:"Academic Reports Only"}),e.jsx("option",{value:"attendance",children:"Attendance Reports Only"}),e.jsx("option",{value:"financial",children:"Financial Reports Only"}),e.jsx("option",{value:"custom",children:"Custom Selection"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Date Range *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Date Range"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"term",children:"This Term"}),e.jsx("option",{value:"year",children:"This Year"}),e.jsx("option",{value:"custom",children:"Custom Range"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Export Format *"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ZIP Archive"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Individual Files"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Cloud Storage"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Email Attachment"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Notification Recipients"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All users"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Administrators only"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Teachers only"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Custom list"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Notification Message"}),e.jsx("textarea",{rows:"3",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"Custom message to include with notifications..."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"send-notifications",defaultChecked:!0,className:"mr-2"}),e.jsx("label",{htmlFor:"send-notifications",className:"text-sm text-gray-700",children:"Send notifications when export is complete"})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"bulk-export-form",className:"flex-1 py-2 px-4 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:"Start Export"})]})})]})})]})},wl=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("upcoming"),[v,u]=t.useState(!1),[o,b]=t.useState(!1),[T,w]=t.useState(!1),[$,d]=t.useState(!1),[x,a]=t.useState(null),[l,n]=t.useState({childId:"",teacherId:"",subject:"",date:"",time:"",type:"in-person",reason:"",priority:"normal"}),h=[],S=[],[N,g]=t.useState([]),[c]=t.useState([]),r=_=>{var B,f,R;_.preventDefault();const z={id:N.length+1,child:(B=h.find(D=>D.id===parseInt(l.childId)))==null?void 0:B.name,teacher:(f=S.find(D=>D.id===parseInt(l.teacherId)))==null?void 0:f.name,subject:(R=S.find(D=>D.id===parseInt(l.teacherId)))==null?void 0:R.subject,date:l.date,time:l.time,type:l.type,location:l.type==="virtual"?"Virtual Meeting":"TBD",reason:l.reason,status:"pending",priority:l.priority,notes:"",meetingLink:l.type==="virtual"?"Will be provided before meeting":null};g([...N,z]),u(!1),n({childId:"",teacherId:"",subject:"",date:"",time:"",type:"in-person",reason:"",priority:"normal"})},p=_=>{switch(_){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},k=_=>{switch(_){case"high":return"bg-red-100 text-red-800";case"normal":return"bg-blue-100 text-blue-800";case"low":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},m=()=>e.jsx("div",{className:"space-y-4",children:N.map(_=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[_.child," - ",_.subject]}),e.jsxs("p",{className:"text-gray-600",children:["with ",_.teacher]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(_.status)}`,children:_.status}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k(_.priority)}`,children:[_.priority," priority"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:new Date(_.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:_.time})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:_.location})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center text-sm text-gray-600",children:_.type==="virtual"?e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Virtual Meeting"})]}):e.jsxs(e.Fragment,{children:[e.jsx(es,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"In-Person"})]})}),_.meetingLink&&e.jsxs("a",{href:_.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:[e.jsx(ke,{className:"w-4 h-4 mr-1"}),"Join Meeting"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Meeting Purpose:"}),e.jsx("p",{className:"text-gray-600 text-sm",children:_.reason})]}),_.notes&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Teacher's Notes:"}),e.jsx("p",{className:"text-gray-600 text-sm",children:_.notes})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>a(_),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"View Details"}),_.status==="pending"&&e.jsx("button",{className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm",children:"Reschedule"})]})]},_.id))}),C=()=>e.jsx("div",{className:"space-y-4",children:c.map(_=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[_.child," - ",_.subject]}),e.jsxs("p",{className:"text-gray-600",children:["with ",_.teacher]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(_.status)}`,children:_.status}),_.rating&&e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((z,B)=>e.jsx("span",{className:`text-sm ${B<_.rating?"text-yellow-400":"text-gray-300"}`,children:"★"},B))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:new Date(_.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:_.time})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:_.location})]})})]}),_.notes&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Meeting Notes:"}),e.jsx("p",{className:"text-gray-600 text-sm",children:_.notes})]}),_.outcome&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Outcome & Action Items:"}),e.jsx("p",{className:"text-gray-600 text-sm",children:_.outcome})]})]},_.id))}),J=()=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"📅 Book Parent-Teacher Meeting"}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"booking-form",onSubmit:r,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Child"}),e.jsxs("select",{value:l.childId,onChange:_=>n({...l,childId:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Child"}),h.map(_=>e.jsxs("option",{value:_.id,children:[_.name," - ",_.class]},_.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teacher"}),e.jsxs("select",{value:l.teacherId,onChange:_=>n({...l,teacherId:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Teacher"}),S.map(_=>e.jsxs("option",{value:_.id,children:[_.name," - ",_.subject]},_.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:l.date,onChange:_=>n({...l,date:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),e.jsx("input",{type:"time",value:l.time,onChange:_=>n({...l,time:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Type"}),e.jsxs("select",{value:l.type,onChange:_=>n({...l,type:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"in-person",children:"In-Person"}),e.jsx("option",{value:"virtual",children:"Virtual"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),e.jsxs("select",{value:l.priority,onChange:_=>n({...l,priority:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for Meeting"}),e.jsx("textarea",{value:l.reason,onChange:_=>n({...l,reason:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Please describe what you'd like to discuss...",required:!0})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-2 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"booking-form",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Book Meeting"})]})})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2 text-blue-600"}),"Parent-Teacher Meetings"]}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Book Meeting"]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"upcoming",label:"Upcoming Meetings",count:N.length},{id:"past",label:"Past Meetings",count:c.length}].map(_=>e.jsxs("button",{onClick:()=>i(_.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===_.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[_.label,e.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:_.count})]},_.id))})}),e.jsxs("div",{className:"p-6",children:[s==="upcoming"&&m(),s==="past"&&C()]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>w(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(ne,{className:"w-6 h-6 text-blue-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"View Teacher Availability"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Check when teachers are available for meetings"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(We,{className:"w-6 h-6 text-green-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"Emergency Contact"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Contact teachers for urgent matters"})]}),e.jsxs("button",{onClick:()=>b(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(ps,{className:"w-6 h-6 text-purple-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"Send Message"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Send a message to your child's teachers"})]})]})]}),v&&J(),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"💬 Send Message to Teachers"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"send-message-form",onSubmit:_=>{_.preventDefault();const z=new FormData(_.target),B=Object.fromEntries(z.entries());alert(`✅ Message Sent Successfully!

Recipients: ${B.recipients}
Message Type: ${B.messageType}
Subject: ${B.subject}
Priority: ${B.priority}
Follow-up Requested: ${B.followUp?"Yes":"No"}

Your message has been sent to the selected recipients. You will receive a response soon.`),b(!1)},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Select Recipients *"}),e.jsxs("select",{name:"recipients",className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Recipients"}),e.jsx("option",{value:"all",children:"All Teachers"}),e.jsx("option",{value:"homeroom",children:"Homeroom Teacher"}),e.jsx("option",{value:"subject",children:"Subject Teachers"}),e.jsx("option",{value:"principal",children:"Principal"}),e.jsx("option",{value:"specific",children:"Specific Teacher"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Message Type *"}),e.jsxs("select",{name:"messageType",className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"general",children:"General Inquiry"}),e.jsx("option",{value:"academic",children:"Academic Concern"}),e.jsx("option",{value:"behavioral",children:"Behavioral Issue"}),e.jsx("option",{value:"medical",children:"Medical Information"}),e.jsx("option",{value:"schedule",children:"Schedule Change"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Subject *"}),e.jsx("input",{type:"text",name:"subject",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"Brief subject line",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Message *"}),e.jsx("textarea",{name:"message",rows:"4",className:"w-full p-3 rounded-lg border bg-white border-gray-300",placeholder:"Type your message here...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Priority Level"}),e.jsxs("select",{name:"priority",className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"emergency",children:"Emergency"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"followUp",id:"follow-up",className:"mr-2"}),e.jsx("label",{htmlFor:"follow-up",className:"text-sm text-gray-700",children:"Request follow-up response within 24 hours"})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"send-message-form",className:"flex-1 py-2 px-4 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:"Send Message"})]})})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"📅 Teacher Availability Schedule"}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"General Availability Hours"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800",children:"Monday - Friday"}),e.jsx("p",{className:"text-blue-700",children:"3:00 PM - 5:00 PM"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800",children:"Saturday"}),e.jsx("p",{className:"text-blue-700",children:"9:00 AM - 12:00 PM"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Ms. Johnson - Mathematics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Monday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Wednesday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Friday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Saturday"}),e.jsx("span",{className:"font-medium text-yellow-600",children:"Limited"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Mr. Smith - English"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tuesday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Thursday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Saturday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Monday"}),e.jsx("span",{className:"font-medium text-red-600",children:"Unavailable"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Dr. Brown - Science"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Monday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Wednesday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Thursday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Friday"}),e.jsx("span",{className:"font-medium text-yellow-600",children:"Limited"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Ms. Davis - History"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tuesday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Friday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Saturday"}),e.jsx("span",{className:"font-medium text-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Wednesday"}),e.jsx("span",{className:"font-medium text-red-600",children:"Unavailable"})]})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"📋 Booking Instructions"}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[e.jsx("li",{children:"• Book meetings at least 24 hours in advance"}),e.jsx("li",{children:"• Select a time slot that works for both you and the teacher"}),e.jsx("li",{children:"• Provide a clear reason for the meeting"}),e.jsx("li",{children:"• Choose between in-person or virtual meeting options"}),e.jsx("li",{children:"• You will receive a confirmation email once the teacher approves"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>w(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Close"}),e.jsx("button",{onClick:()=>{w(!1),u(!0)},className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Book Meeting Now"})]})]})]})}),$&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"🚨 Emergency Contact"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-red-900 mb-3",children:"Emergency Contact Numbers"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-red-800",children:"School Main Office"}),e.jsx("a",{href:"tel:+5551234567",className:"font-medium text-red-600 hover:text-red-800",children:"(555) 123-4567"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-red-800",children:"Principal"}),e.jsx("a",{href:"tel:+5551234568",className:"font-medium text-red-600 hover:text-red-800",children:"(555) 123-4568"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-red-800",children:"Vice Principal"}),e.jsx("a",{href:"tel:+5551234569",className:"font-medium text-red-600 hover:text-red-800",children:"(555) 123-4569"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-red-800",children:"After Hours Emergency"}),e.jsx("a",{href:"tel:+5551234570",className:"font-medium text-red-600 hover:text-red-800",children:"(555) 123-4570"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-yellow-900 mb-3",children:"Emergency Hours"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-yellow-800",children:"School Hours"}),e.jsx("p",{className:"text-yellow-700",children:"7:00 AM - 6:00 PM"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-yellow-800",children:"After Hours"}),e.jsx("p",{className:"text-yellow-700",children:"24/7 Emergency Hotline"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Send Emergency Message"}),e.jsxs("form",{onSubmit:_=>{_.preventDefault();const z=new FormData(_.target),B=Object.fromEntries(z.entries());alert(`🚨 Emergency Message Sent!

Recipient: ${B.recipient}
Urgency Level: ${B.urgency}
Subject: ${B.subject}
Message: ${B.message}

Your emergency message has been sent. You should also call the emergency number for immediate assistance.`),d(!1)},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient *"}),e.jsxs("select",{name:"recipient",className:"w-full p-3 border border-gray-300 rounded-lg",required:!0,children:[e.jsx("option",{value:"",children:"Select Recipient"}),e.jsx("option",{value:"principal",children:"Principal"}),e.jsx("option",{value:"vice-principal",children:"Vice Principal"}),e.jsx("option",{value:"homeroom-teacher",children:"Homeroom Teacher"}),e.jsx("option",{value:"school-nurse",children:"School Nurse"}),e.jsx("option",{value:"security",children:"Security Office"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level *"}),e.jsxs("select",{name:"urgency",className:"w-full p-3 border border-gray-300 rounded-lg",required:!0,children:[e.jsx("option",{value:"",children:"Select Urgency"}),e.jsx("option",{value:"low",children:"Low - General concern"}),e.jsx("option",{value:"medium",children:"Medium - Needs attention today"}),e.jsx("option",{value:"high",children:"High - Urgent matter"}),e.jsx("option",{value:"critical",children:"Critical - Immediate attention required"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),e.jsx("input",{type:"text",name:"subject",className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"Brief subject line",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),e.jsx("textarea",{name:"message",rows:"4",className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"Describe the emergency situation...",required:!0})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 py-2 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Send Emergency Message"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"📞 Emergency Guidelines"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• For immediate assistance, call the emergency numbers above"}),e.jsx("li",{children:"• Use this form for non-urgent emergency communications"}),e.jsx("li",{children:"• Always follow up with a phone call for critical matters"}),e.jsx("li",{children:"• Provide as much detail as possible about the situation"}),e.jsx("li",{children:"• Include your contact information for immediate response"})]})]})]})]})})]})},Sl=({userRole:y,currentUser:A})=>{const[s,i]=t.useState(!1),[v,u]=t.useState(null),[o,b]=t.useState({name:"",relationship:"",phone:"",email:"",address:"",priority:"primary",isAuthorized:!0}),[T,w]=t.useState([]),$=[],d=h=>{if(h.preventDefault(),v)w(T.map(S=>S.id===v.id?{...o,id:v.id,lastUpdated:new Date().toISOString().split("T")[0]}:S)),u(null);else{const S={...o,id:T.length+1,lastUpdated:new Date().toISOString().split("T")[0]};w([...T,S])}i(!1),b({name:"",relationship:"",phone:"",email:"",address:"",priority:"primary",isAuthorized:!0})},x=h=>{b(h),u(h),i(!0)},a=h=>{window.confirm("Are you sure you want to delete this emergency contact?")&&w(T.filter(S=>S.id!==h))},l=h=>{switch(h){case"primary":return"bg-red-100 text-red-800";case"secondary":return"bg-yellow-100 text-yellow-800";case"medical":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},n=h=>{switch(h){case"administrative":return"bg-blue-100 text-blue-800";case"medical":return"bg-red-100 text-red-800";case"security":return"bg-orange-100 text-orange-800";case"academic":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(We,{className:"w-5 h-5 mr-2 text-red-600"}),"Emergency Contacts"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage emergency contacts for your children"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Contact"]})]})}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(oe,{className:"w-5 h-5 text-red-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800",children:"Emergency Protocol"}),e.jsx("p",{className:"text-red-700 text-sm mt-1",children:"In case of emergency, the school will contact emergency contacts in priority order. Please ensure all information is current and accurate."})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(es,{className:"w-5 h-5 mr-2 text-blue-600"}),"Personal Emergency Contacts"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:T.map(h=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:h.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:h.relationship})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l(h.priority)}`,children:h.priority}),h.isAuthorized&&e.jsx(He,{className:"w-4 h-4 text-green-500",title:"Authorized for pickup"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),e.jsx("a",{href:`tel:${h.phone}`,className:"hover:text-blue-600",children:h.phone})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),e.jsx("a",{href:`mailto:${h.email}`,className:"hover:text-blue-600",children:h.email})]}),e.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[e.jsx(as,{className:"w-4 h-4 mr-2 mt-0.5"}),e.jsx("span",{children:h.address})]})]}),e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:e.jsxs("span",{children:["Last updated: ",new Date(h.lastUpdated).toLocaleDateString()]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>x(h),className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded text-sm hover:bg-blue-700 flex items-center justify-center",children:[e.jsx(ms,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>a(h.id),className:"flex-1 bg-red-600 text-white py-2 px-3 rounded text-sm hover:bg-red-700 flex items-center justify-center",children:[e.jsx(Rs,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]},h.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(He,{className:"w-5 h-5 mr-2 text-green-600"}),"School Emergency Contacts"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:$.map(h=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:h.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:h.role})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n(h.type)}`,children:h.type})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),e.jsx("a",{href:`tel:${h.phone}`,className:"hover:text-blue-600",children:h.phone})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),e.jsx("a",{href:`mailto:${h.email}`,className:"hover:text-blue-600",children:h.email})]}),e.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[e.jsx(as,{className:"w-4 h-4 mr-2 mt-0.5"}),e.jsx("span",{children:h.address})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:h.hours})]})]})]},h.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Emergency Procedures"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-red-800 mb-2",children:"Medical Emergency"}),e.jsxs("p",{className:"text-red-700 text-sm",children:["1. School nurse will provide immediate care",e.jsx("br",{}),"2. Emergency services will be called if necessary",e.jsx("br",{}),"3. Primary emergency contact will be notified immediately",e.jsx("br",{}),"4. Student will be transported to nearest medical facility if required"]})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-orange-800 mb-2",children:"School Closure/Emergency"}),e.jsxs("p",{className:"text-orange-700 text-sm",children:["1. Parents will be notified via SMS and email",e.jsx("br",{}),"2. Students will remain supervised until pickup",e.jsx("br",{}),"3. Only authorized contacts can pick up students",e.jsx("br",{}),"4. Valid ID required for student release"]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Student Illness"}),e.jsxs("p",{className:"text-blue-700 text-sm",children:["1. Student will be assessed by school nurse",e.jsx("br",{}),"2. Parents will be contacted for pickup if necessary",e.jsx("br",{}),"3. Student will rest in medical center until pickup",e.jsx("br",{}),"4. Return to school requires medical clearance if applicable"]})]})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4 max-h-screen overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:v?"Edit Emergency Contact":"Add Emergency Contact"}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:o.name,onChange:h=>b({...o,name:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship"}),e.jsxs("select",{value:o.relationship,onChange:h=>b({...o,relationship:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Relationship"}),e.jsx("option",{value:"Mother",children:"Mother"}),e.jsx("option",{value:"Father",children:"Father"}),e.jsx("option",{value:"Guardian",children:"Guardian"}),e.jsx("option",{value:"Grandparent",children:"Grandparent"}),e.jsx("option",{value:"Aunt",children:"Aunt"}),e.jsx("option",{value:"Uncle",children:"Uncle"}),e.jsx("option",{value:"Family Friend",children:"Family Friend"}),e.jsx("option",{value:"Doctor",children:"Doctor"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",value:o.phone,onChange:h=>b({...o,phone:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+256 700 123 456",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",value:o.email,onChange:h=>b({...o,email:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("textarea",{value:o.address,onChange:h=>b({...o,address:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority Level"}),e.jsxs("select",{value:o.priority,onChange:h=>b({...o,priority:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"primary",children:"Primary"}),e.jsx("option",{value:"secondary",children:"Secondary"}),e.jsx("option",{value:"medical",children:"Medical"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"authorized",checked:o.isAuthorized,onChange:h=>b({...o,isAuthorized:h.target.checked}),className:"mr-2"}),e.jsx("label",{htmlFor:"authorized",className:"text-sm text-gray-700",children:"Authorized to pick up student from school"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700",children:v?"Update Contact":"Add Contact"}),e.jsx("button",{type:"button",onClick:()=>{i(!1),u(null),b({name:"",relationship:"",phone:"",email:"",address:"",priority:"primary",isAuthorized:!0})},className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700",children:"Cancel"})]})]})]})})]})},$l=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("opportunities"),[v,u]=t.useState(!1),[o,b]=t.useState(null),[T,w]=t.useState(!1),[$,d]=t.useState(!1),[x,a]=t.useState(!1),[l,n]=t.useState([]),[h,S]=t.useState([]),N=k=>{n(l.map(m=>m.id===k?{...m,volunteersSignedUp:m.volunteersSignedUp+1}:m)),alert("Successfully signed up for volunteer opportunity!")},g=k=>{switch(k){case"open":return"bg-green-100 text-green-800";case"full":return"bg-red-100 text-red-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},c=k=>{switch(k){case"Academic":return"bg-blue-100 text-blue-800";case"Educational Support":return"bg-green-100 text-green-800";case"Events":return"bg-purple-100 text-purple-800";case"Career Development":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},r=()=>e.jsx("div",{className:"space-y-6",children:l.map(k=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:k.title}),e.jsx("p",{className:"text-gray-600 mt-1",children:k.description})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${c(k.category)}`,children:k.category}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g(k.status)}`,children:k.status})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:k.date==="Ongoing"?"Ongoing":new Date(k.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:k.time})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:k.location})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[k.volunteersSignedUp,"/",k.volunteersNeeded," volunteers"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Commitment: ",k.commitment]})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Volunteers Needed"}),e.jsxs("span",{children:[k.volunteersSignedUp,"/",k.volunteersNeeded]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${k.volunteersSignedUp>=k.volunteersNeeded?"bg-red-500":"bg-green-500"}`,style:{width:`${k.volunteersSignedUp/k.volunteersNeeded*100}%`}})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Skills/Requirements:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.skills.map((m,C)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:m},C))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Benefits:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.benefits.map((m,C)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:m},C))})]}),e.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Coordinator:"})," ",k.coordinator," (",k.coordinatorEmail,")"]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>b(k),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"View Details"}),k.status==="open"&&e.jsx("button",{onClick:()=>N(k.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:"Sign Up"})]})]},k.id))}),p=()=>e.jsxs("div",{className:"space-y-4",children:[h.map(k=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:k.title}),e.jsxs("p",{className:"text-gray-600",children:["Coordinator: ",k.coordinator]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:k.status}),e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((m,C)=>e.jsx(Ie,{className:`w-4 h-4 ${C<k.rating?"text-yellow-400":"text-gray-300"}`},C))})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:new Date(k.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[k.hours," hours volunteered"]})]})]})}),k.feedback&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Coordinator Feedback:"}),e.jsx("p",{className:"text-gray-700 text-sm",children:k.feedback})]})]},k.id)),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Your Volunteer Impact"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.reduce((k,m)=>k+m.hours,0)}),e.jsx("div",{className:"text-sm text-blue-700",children:"Total Hours"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.length}),e.jsx("div",{className:"text-sm text-green-700",children:"Activities Completed"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(h.reduce((k,m)=>k+m.rating,0)/h.length).toFixed(1)}),e.jsx("div",{className:"text-sm text-yellow-700",children:"Average Rating"})]})]})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(js,{className:"w-5 h-5 mr-2 text-red-600"}),"Volunteer Opportunities"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Make a difference in your child's school community"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.reduce((k,m)=>k+m.hours,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Hours Volunteered"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Your Volunteer Impact Matters!"}),e.jsx("p",{className:"text-blue-100",children:"Every hour you volunteer helps create a better learning environment for all students."})]}),e.jsx(Se,{className:"w-16 h-16 text-yellow-300"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"opportunities",label:"Available Opportunities",count:l.filter(k=>k.status==="open").length},{id:"history",label:"My Volunteer History",count:h.length}].map(k=>e.jsxs("button",{onClick:()=>i(k.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===k.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[k.label,e.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:k.count})]},k.id))})}),e.jsxs("div",{className:"p-6",children:[s==="opportunities"&&r(),s==="history"&&p()]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Get Involved"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>w(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(me,{className:"w-6 h-6 text-blue-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"Join Parent Committee"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Participate in school governance and decision making"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(ne,{className:"w-6 h-6 text-green-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"Event Planning"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Help organize school events and activities"})]}),e.jsxs("button",{onClick:()=>a(!0),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[e.jsx(js,{className:"w-6 h-6 text-red-600 mb-2"}),e.jsx("h5",{className:"font-medium",children:"Fundraising"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Support school improvement projects"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Volunteer Guidelines"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Before You Volunteer:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Complete volunteer application form"}),e.jsx("li",{children:"• Provide valid identification"}),e.jsx("li",{children:"• Attend orientation session if required"}),e.jsx("li",{children:"• Review school policies and procedures"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Volunteer Expectations:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Arrive on time and prepared"}),e.jsx("li",{children:"• Follow school dress code"}),e.jsx("li",{children:"• Maintain student confidentiality"}),e.jsx("li",{children:"• Report to designated coordinator"})]})]})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-screen overflow-y-auto",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:o.title}),e.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:o.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"Date & Time"}),e.jsxs("p",{className:"text-gray-600",children:[o.date," at ",o.time]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"Location"}),e.jsx("p",{className:"text-gray-600",children:o.location})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Required Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.map((k,m)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:k},m))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Benefits"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.benefits.map((k,m)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-sm rounded-full",children:k},m))})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"Contact"}),e.jsx("p",{className:"text-gray-600",children:o.coordinator}),e.jsx("p",{className:"text-gray-600",children:o.coordinatorEmail})]}),o.status==="open"&&e.jsx("button",{onClick:()=>{N(o.id),b(null)},className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700",children:"Sign Up for This Opportunity"})]})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"📋 Join Parent Committee"}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("form",{onSubmit:k=>{k.preventDefault();const m=new FormData(k.target),C=Object.fromEntries(m.entries());alert(`✅ Parent Committee Application Submitted!

Name: ${C.name}
Email: ${C.email}
Phone: ${C.phone}
Experience: ${C.experience}
Interests: ${C.interests}

Thank you for your interest! You will receive a confirmation email with meeting details.`),w(!1)},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",name:"name",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",name:"email",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your.email@example.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",name:"phone",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+256 700 000 000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Child's Class"}),e.jsxs("select",{name:"childClass",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Class"}),e.jsx("option",{value:"P1",children:"Primary 1"}),e.jsx("option",{value:"P2",children:"Primary 2"}),e.jsx("option",{value:"P3",children:"Primary 3"}),e.jsx("option",{value:"P4",children:"Primary 4"}),e.jsx("option",{value:"P5",children:"Primary 5"}),e.jsx("option",{value:"P6",children:"Primary 6"}),e.jsx("option",{value:"P7",children:"Primary 7"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relevant Experience"}),e.jsx("textarea",{name:"experience",rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe any relevant experience in education, governance, or community service..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Areas of Interest *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Academic Policy","Budget & Finance","School Events","Student Welfare","Teacher Support","Facilities Management"].map(k=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"interests",value:k,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:k})]},k))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Weekday Evenings","Weekend Mornings","Weekend Afternoons","Flexible"].map(k=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"availability",value:k,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:k})]},k))})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 py-2 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Submit Application"})]})]})]})}),$&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"🎉 Event Planning Volunteer"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("form",{onSubmit:k=>{k.preventDefault();const m=new FormData(k.target),C=Object.fromEntries(m.entries());alert(`✅ Event Planning Application Submitted!

Name: ${C.name}
Email: ${C.email}
Phone: ${C.phone}
Event Type: ${C.eventType}
Experience: ${C.experience}

Thank you for your interest! The Events Coordinator will contact you soon.`),d(!1)},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",name:"name",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",name:"email",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your.email@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",name:"phone",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+256 700 000 000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type Interest *"}),e.jsxs("select",{name:"eventType",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Event Type"}),e.jsx("option",{value:"fundraising",children:"Fundraising Events"}),e.jsx("option",{value:"sports",children:"Sports Day Organization"}),e.jsx("option",{value:"cultural",children:"Cultural Festival"}),e.jsx("option",{value:"graduation",children:"Graduation Ceremony"}),e.jsx("option",{value:"social",children:"Parent-Teacher Social Events"}),e.jsx("option",{value:"academic",children:"Academic Competitions"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Planning Experience"}),e.jsx("textarea",{name:"experience",rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe any experience in event planning, organization, or coordination..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills & Strengths"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Organization","Communication","Creativity","Budget Management","Team Leadership","Marketing"].map(k=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"skills",value:k,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:k})]},k))})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 py-2 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Submit Application"})]})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"💰 Fundraising Volunteer"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("form",{onSubmit:k=>{k.preventDefault();const m=new FormData(k.target),C=Object.fromEntries(m.entries());alert(`✅ Fundraising Application Submitted!

Name: ${C.name}
Email: ${C.email}
Phone: ${C.phone}
Campaign Interest: ${C.campaign}
Contribution Type: ${C.contributionType}

Thank you for your support! The Development Office will contact you soon.`),a(!1)},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",name:"name",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",name:"email",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your.email@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",name:"phone",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+256 700 000 000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Interest *"}),e.jsxs("select",{name:"campaign",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Campaign"}),e.jsx("option",{value:"library",children:"Library Renovation Fund"}),e.jsx("option",{value:"computer",children:"Computer Lab Upgrade"}),e.jsx("option",{value:"sports",children:"Sports Equipment Fund"}),e.jsx("option",{value:"scholarship",children:"Scholarship Program"}),e.jsx("option",{value:"teacher",children:"Teacher Training Fund"}),e.jsx("option",{value:"general",children:"General School Fund"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contribution Type *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Direct Donation","Organize Events","Sponsor Projects","Volunteer Time","Corporate Partnership","In-Kind Donations"].map(k=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"contributionType",value:k,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:k})]},k))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Information"}),e.jsx("textarea",{name:"additionalInfo",rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional information about your fundraising experience or ideas..."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 py-2 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Submit Application"})]})]})]})})]})},kl=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("submit"),[v,u]=t.useState(!1),[o,b]=t.useState({category:"",subject:"",message:"",priority:"normal",anonymous:!1,rating:0}),T=[{id:"academic",label:"Academic Programs",icon:"📚"},{id:"facilities",label:"School Facilities",icon:"🏫"},{id:"communication",label:"Communication",icon:"💬"},{id:"events",label:"School Events",icon:"🎉"},{id:"transport",label:"Transportation",icon:"🚌"},{id:"meals",label:"School Meals",icon:"🍽️"},{id:"safety",label:"Safety & Security",icon:"🛡️"},{id:"technology",label:"Technology",icon:"💻"},{id:"extracurricular",label:"Extracurricular Activities",icon:"⚽"},{id:"other",label:"Other",icon:"📝"}],[w,$]=t.useState([]),[d,x]=t.useState([]),a=c=>{c.preventDefault();const r={id:w.length+1,...o,status:"pending",response:null,submittedDate:new Date().toISOString().split("T")[0],responseDate:null};$([r,...w]),b({category:"",subject:"",message:"",priority:"normal",anonymous:!1,rating:0}),u(!1),alert("Feedback submitted successfully!")},l=c=>{switch(c){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"reviewed":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},n=c=>{switch(c){case"high":return"bg-red-100 text-red-800";case"normal":return"bg-blue-100 text-blue-800";case"low":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},h=(c,r=!1,p=null)=>e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(k=>e.jsx("button",{type:"button",onClick:()=>r&&p&&p(k),className:`${r?"cursor-pointer":"cursor-default"} ${k<=c?"text-yellow-400":"text-gray-300"}`,disabled:!r,children:e.jsx(Ie,{className:"w-5 h-5",fill:k<=c?"currentColor":"none"})},k))}),S=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Quick Feedback"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:T.map(c=>e.jsxs("button",{onClick:()=>{b({...o,category:c.id}),u(!0)},className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-center transition-colors",children:[e.jsx("div",{className:"text-2xl mb-2",children:c.icon}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.label})]},c.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Submit Detailed Feedback"}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Write Feedback"]})]}),e.jsx("p",{className:"text-gray-600",children:"Your feedback helps us improve our school community. Share your thoughts, suggestions, or concerns."})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Recent Improvements Based on Your Feedback"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-green-50 rounded-lg",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-green-800",children:"Extended Library Hours"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Based on parent feedback, library hours have been extended until 6 PM on weekdays."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-blue-50 rounded-lg",children:[e.jsx(se,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-blue-800",children:"Improved School Meals"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"New healthy meal options added to the cafeteria menu following nutrition feedback."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-purple-50 rounded-lg",children:[e.jsx(se,{className:"w-5 h-5 text-purple-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-purple-800",children:"Enhanced Communication"}),e.jsx("p",{className:"text-purple-700 text-sm",children:"New parent portal features implemented for better school-home communication."})]})]})]})]})]}),N=()=>e.jsx("div",{className:"space-y-4",children:w.map(c=>{var r;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:c.subject}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Category: ",(r=T.find(p=>p.id===c.category))==null?void 0:r.label]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l(c.status)}`,children:c.status.replace("_"," ")}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n(c.priority)}`,children:c.priority})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-700",children:c.message})}),c.rating>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Rating:"}),h(c.rating)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Submitted:"})," ",new Date(c.submittedDate).toLocaleDateString()]}),c.responseDate&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Responded:"})," ",new Date(c.responseDate).toLocaleDateString()]})]}),c.response&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"School Response:"}),e.jsx("p",{className:"text-blue-700 text-sm",children:c.response})]}),c.status==="pending"&&e.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{className:"w-4 h-4 text-yellow-600 mr-2"}),e.jsx("span",{className:"text-yellow-800 text-sm",children:"Your feedback is being reviewed. We'll respond within 3-5 business days."})]})})]},c.id)})}),g=()=>e.jsx("div",{className:"space-y-4",children:d.map(c=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:c.title}),e.jsx("p",{className:"text-gray-600 mt-1",children:c.description})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${c.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c.status}),c.completed&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"completed"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Questions:"})," ",c.questions]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Deadline:"})," ",new Date(c.deadline).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Category:"})," ",c.category]})]}),e.jsxs("div",{className:"flex space-x-3",children:[c.status==="active"&&!c.completed&&e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Take Survey"}),c.completed&&e.jsx("button",{className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm",children:"View Results"})]})]},c.id))});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Fe,{className:"w-5 h-5 mr-2 text-blue-600"}),"School Feedback & Suggestions"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Help us improve by sharing your thoughts and experiences"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:w.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Feedback Submitted"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"submit",label:"Submit Feedback",count:T.length},{id:"my-feedback",label:"My Feedback",count:w.length},{id:"surveys",label:"Surveys",count:d.filter(c=>c.status==="active").length}].map(c=>e.jsxs("button",{onClick:()=>i(c.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===c.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.label,e.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:c.count})]},c.id))})}),e.jsxs("div",{className:"p-6",children:[s==="submit"&&S(),s==="my-feedback"&&N(),s==="surveys"&&g()]})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4 max-h-screen overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Submit Feedback"}),e.jsxs("form",{onSubmit:a,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:o.category,onChange:c=>b({...o,category:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),T.map(c=>e.jsx("option",{value:c.id,children:c.label},c.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),e.jsx("input",{type:"text",value:o.subject,onChange:c=>b({...o,subject:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief summary of your feedback",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),e.jsx("textarea",{value:o.message,onChange:c=>b({...o,message:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"4",placeholder:"Please provide detailed feedback...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),e.jsxs("select",{value:o.priority,onChange:c=>b({...o,priority:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating (Optional)"}),h(o.rating,!0,c=>b({...o,rating:c}))]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"anonymous",checked:o.anonymous,onChange:c=>b({...o,anonymous:c.target.checked}),className:"mr-2"}),e.jsx("label",{htmlFor:"anonymous",className:"text-sm text-gray-700",children:"Submit anonymously"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[e.jsx(Es,{className:"w-4 h-4 mr-2"}),"Submit Feedback"]}),e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700",children:"Cancel"})]})]})]})})]})},Cl=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("alignment"),[v,u]=t.useState(!1),[o,b]=t.useState(!1),[T,w]=t.useState({name:"",level:"",code:"",description:"",topics:[]}),[$,d]=t.useState({title:"",type:"",subject:"",level:"",description:"",file:null}),x=[],a=n=>({excellent:"bg-green-100 text-green-800",good:"bg-blue-100 text-blue-800","needs-improvement":"bg-yellow-100 text-yellow-800",poor:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",l=n=>n>=95?"text-green-600":n>=85?"text-blue-600":n>=75?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Overall Alignment"}),e.jsx("p",{className:"text-2xl font-bold text-green-800",children:"0%"})]}),e.jsx(Ce,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Subjects Tracked"}),e.jsx("p",{className:"text-2xl font-bold text-blue-800",children:"0"})]}),e.jsx(be,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Topics Covered"}),e.jsx("p",{className:"text-2xl font-bold text-purple-800",children:"0/0"})]}),e.jsx(se,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Resources"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-800",children:"0"})]}),e.jsx(re,{className:"w-8 h-8 text-yellow-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"alignment",label:"Curriculum Alignment",icon:Ce},{id:"subjects",label:"Subject Management",icon:be},{id:"resources",label:"Teaching Resources",icon:re},{id:"assessment",label:"Assessment Mapping",icon:$s}].map(n=>e.jsxs("button",{onClick:()=>i(n.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===n.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(n.icon,{className:"w-4 h-4 mr-2"}),n.label]},n.id))})}),e.jsxs("div",{className:"p-6",children:[s==="alignment"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"UNEB Curriculum Alignment Status"}),e.jsxs("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Export Report"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.length===0?e.jsx("div",{className:"text-center text-gray-500 p-8 bg-gray-50 rounded-lg col-span-3",children:"No curriculum data yet"}):x.map((n,h)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:n.name}),e.jsx("p",{className:"text-sm text-gray-600",children:n.level})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a(n.status)}`,children:n.status.replace("-"," ")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Alignment"}),e.jsxs("span",{className:`text-sm font-medium ${l(n.alignment)}`,children:[n.alignment,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${n.alignment>=95?"bg-green-500":n.alignment>=85?"bg-blue-500":n.alignment>=75?"bg-yellow-500":"bg-red-500"}`,style:{width:`${n.alignment}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Topics"}),e.jsxs("p",{className:"font-medium",children:[n.covered,"/",n.topics]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Resources"}),e.jsx("p",{className:"font-medium",children:n.resources})]})]})]}),e.jsxs("div",{className:"mt-4 flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm",children:"View Details"}),e.jsx("button",{className:"text-green-600 hover:text-green-800 text-sm",children:"Update"})]})]},h))})]}),s==="subjects"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Subject Management"}),e.jsx("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Subject"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"O-Level Subjects"}),e.jsx("div",{className:"space-y-2",children:[].map((n,h)=>e.jsx("div",{},h))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"A-Level Subjects"}),e.jsx("div",{className:"space-y-2",children:[].map((n,h)=>e.jsx("div",{},h))})]})]})]}),s==="resources"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Teaching Resources"}),e.jsxs("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Upload Resource"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-3",children:"Lesson Plans"}),e.jsx("div",{className:"space-y-2",children:[].map((n,h)=>e.jsx("div",{},h))})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-800 mb-3",children:"Past Papers"}),e.jsx("div",{className:"space-y-2",children:[].map((n,h)=>e.jsx("div",{},h))})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-purple-800 mb-3",children:"Study Materials"}),e.jsx("div",{className:"space-y-2",children:[].map((n,h)=>e.jsx("div",{},h))})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Resource Upload"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource Type"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"lesson-plan",children:"Lesson Plan"}),e.jsx("option",{value:"past-paper",children:"Past Paper"}),e.jsx("option",{value:"study-material",children:"Study Material"}),e.jsx("option",{value:"assessment",children:"Assessment Tool"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"physics",children:"Physics"}),e.jsx("option",{value:"chemistry",children:"Chemistry"}),e.jsx("option",{value:"biology",children:"Biology"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Level"}),e.jsx("option",{value:"o-level",children:"O-Level"}),e.jsx("option",{value:"a-level",children:"A-Level"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter resource title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File"}),e.jsx("input",{type:"file",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Upload Resource"})})]})]}),s==="assessment"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Mapping"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"UNEB Assessment Structure"}),e.jsx("div",{className:"space-y-3",children:[].map((n,h)=>e.jsx("div",{},h))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"School Assessment Alignment"}),e.jsx("div",{className:"space-y-3",children:[].map((n,h)=>e.jsx("div",{},h))})]})]})]})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Teaching Resource"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("form",{onSubmit:n=>{n.preventDefault(),alert(`✅ Resource Uploaded Successfully!

Title: ${$.title}
Type: ${$.type}
Subject: ${$.subject}
Level: ${$.level}

Resource is now available for teachers and students.`),d({title:"",type:"",subject:"",level:"",description:"",file:null}),b(!1)},children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource Title *"}),e.jsx("input",{type:"text",value:$.title,onChange:n=>d(h=>({...h,title:n.target.value})),required:!0,placeholder:"e.g., Physics Past Papers 2023",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource Type *"}),e.jsxs("select",{value:$.type,onChange:n=>d(h=>({...h,type:n.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"lesson-plan",children:"Lesson Plan"}),e.jsx("option",{value:"past-paper",children:"Past Paper"}),e.jsx("option",{value:"study-material",children:"Study Material"}),e.jsx("option",{value:"assessment",children:"Assessment Tool"}),e.jsx("option",{value:"worksheet",children:"Worksheet"}),e.jsx("option",{value:"presentation",children:"Presentation"}),e.jsx("option",{value:"video",children:"Video Lesson"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),e.jsxs("select",{value:$.subject,onChange:n=>d(h=>({...h,subject:n.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"physics",children:"Physics"}),e.jsx("option",{value:"chemistry",children:"Chemistry"}),e.jsx("option",{value:"biology",children:"Biology"}),e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"history",children:"History"}),e.jsx("option",{value:"geography",children:"Geography"}),e.jsx("option",{value:"literature",children:"Literature"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level *"}),e.jsxs("select",{value:$.level,onChange:n=>d(h=>({...h,level:n.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Level"}),e.jsx("option",{value:"o-level",children:"O-Level"}),e.jsx("option",{value:"a-level",children:"A-Level"}),e.jsx("option",{value:"primary",children:"Primary"}),e.jsx("option",{value:"lower-secondary",children:"Lower Secondary"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:$.description,onChange:n=>d(h=>({...h,description:n.target.value})),rows:"3",placeholder:"Brief description of the resource...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload File *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 transition-colors cursor-pointer",children:[e.jsx("input",{type:"file",className:"hidden",id:"resource-upload",onChange:n=>d(h=>({...h,file:n.target.files[0]})),accept:".pdf,.doc,.docx,.ppt,.pptx,.xlsx,.mp4,.mp3"}),e.jsx("label",{htmlFor:"resource-upload",className:"cursor-pointer",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(is,{className:"w-12 h-12 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, PPT, XLSX, MP4, MP3 up to 50MB"})]})})]}),$.file&&e.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["✓ File selected: ",$.file.name]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900",children:"UNEB Aligned"}),e.jsx("p",{className:"text-sm text-green-700",children:"This resource will be automatically tagged with relevant UNEB curriculum standards and made available to appropriate classes."})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Resource"})]})]})]})}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add New Subject"}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("form",{onSubmit:n=>{n.preventDefault(),alert(`✅ Subject Added Successfully!

Subject: ${T.name}
Level: ${T.level}
Code: ${T.code}

UNEB curriculum alignment will be automatically configured.`),w({name:"",level:"",code:"",description:"",topics:[]}),u(!1)},children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Name *"}),e.jsx("input",{type:"text",value:T.name,onChange:n=>w(h=>({...h,name:n.target.value})),required:!0,placeholder:"e.g., Mathematics, Physics",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Code *"}),e.jsx("input",{type:"text",value:T.code,onChange:n=>w(h=>({...h,code:n.target.value})),required:!0,placeholder:"e.g., MATH, PHYS",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level *"}),e.jsxs("select",{value:T.level,onChange:n=>w(h=>({...h,level:n.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Level"}),e.jsx("option",{value:"O-Level",children:"O-Level"}),e.jsx("option",{value:"A-Level",children:"A-Level"}),e.jsx("option",{value:"Primary",children:"Primary"}),e.jsx("option",{value:"Lower Secondary",children:"Lower Secondary"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:T.description,onChange:n=>w(h=>({...h,description:n.target.value})),rows:"3",placeholder:"Brief description of the subject...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key Topics (comma-separated)"}),e.jsx("input",{type:"text",placeholder:"e.g., Algebra, Geometry, Calculus, Statistics",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:n=>{const h=n.target.value.split(",").map(S=>S.trim()).filter(S=>S);w(S=>({...S,topics:h}))}}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter topics separated by commas"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"UNEB Alignment"}),e.jsx("p",{className:"text-sm text-blue-700",children:"This subject will be automatically aligned with UNEB curriculum standards and assessment criteria."})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Subject"})]})]})]})})]})},Al=({userRole:y})=>{const[A,s]=t.useState([]),[i,v]=t.useState({title:"",category:"other",description:"",priority:"normal"}),[u,o]=t.useState(!1),[b,T]=t.useState({search:"",status:"all",category:"all",priority:"all"}),w=async()=>{try{const h=await(await fetch("http://localhost:5000/api/complaints/")).json();h.success&&s(h.items)}catch(l){console.error(l)}},$=A.filter(l=>{const n=b.status==="all"||l.status===b.status,h=b.category==="all"||l.category===b.category,S=b.priority==="all"||l.priority===b.priority,N=(b.search||"").toLowerCase(),g=!N||`${l.title} ${l.description||""}`.toLowerCase().includes(N);return n&&h&&S&&g}),d={total:A.length,open:A.filter(l=>l.status==="open").length,in_review:A.filter(l=>l.status==="in_review").length,resolved:A.filter(l=>l.status==="resolved").length,urgent:A.filter(l=>l.priority==="urgent").length,high:A.filter(l=>l.priority==="high").length};t.useEffect(()=>{w()},[]);const x=async l=>{l.preventDefault(),o(!0);try{const n=localStorage.getItem("token")||"",N=await(await fetch("http://localhost:5000/api/complaints/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(i)})).json();N.success?(v({title:"",category:"other",description:"",priority:"normal"}),w()):alert(N.message||"Failed to create complaint")}catch(n){console.error(n),alert("Network error")}finally{o(!1)}},a=async(l,n)=>{try{const h=localStorage.getItem("token")||"";(await(await fetch(`http://localhost:5000/api/complaints/${l}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify(n)})).json()).success&&w()}catch(h){console.error(h)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Total"}),e.jsx("div",{className:"text-xl font-bold",children:d.total})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Open"}),e.jsx("div",{className:"text-xl font-bold text-red-600",children:d.open})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"In Review"}),e.jsx("div",{className:"text-xl font-bold text-yellow-600",children:d.in_review})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Resolved"}),e.jsx("div",{className:"text-xl font-bold text-green-600",children:d.resolved})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Urgent"}),e.jsx("div",{className:"text-xl font-bold text-red-700",children:d.urgent})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"High"}),e.jsx("div",{className:"text-xl font-bold text-orange-600",children:d.high})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Submit Complaint"}),e.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{className:"border rounded p-2",placeholder:"Title",value:i.title,onChange:l=>v({...i,title:l.target.value}),required:!0}),e.jsxs("select",{className:"border rounded p-2",value:i.category,onChange:l=>v({...i,category:l.target.value}),children:[e.jsx("option",{value:"discipline",children:"Discipline"}),e.jsx("option",{value:"facilities",children:"Facilities"}),e.jsx("option",{value:"academics",children:"Academics"}),e.jsx("option",{value:"finance",children:"Finance"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsxs("select",{className:"border rounded p-2",value:i.priority,onChange:l=>v({...i,priority:l.target.value}),children:[e.jsx("option",{children:"low"}),e.jsx("option",{children:"normal"}),e.jsx("option",{children:"high"}),e.jsx("option",{children:"urgent"})]}),e.jsx("input",{className:"border rounded p-2",placeholder:"Target User ID (optional)",value:i.target_user_id||"",onChange:l=>v({...i,target_user_id:l.target.value})}),e.jsx("textarea",{className:"border rounded p-2 md:col-span-2",rows:4,placeholder:"Description",value:i.description,onChange:l=>v({...i,description:l.target.value})}),e.jsx("button",{disabled:u,className:"bg-blue-600 text-white px-4 py-2 rounded md:col-span-2",children:u?"Submitting...":"Submit"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Complaints"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{className:"border rounded p-2 text-sm",placeholder:"Search...",value:b.search,onChange:l=>T({...b,search:l.target.value})}),e.jsxs("select",{className:"border rounded p-2 text-sm",value:b.status,onChange:l=>T({...b,status:l.target.value}),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"in_review",children:"In Review"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"dismissed",children:"Dismissed"})]}),e.jsxs("select",{className:"border rounded p-2 text-sm",value:b.category,onChange:l=>T({...b,category:l.target.value}),children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"discipline",children:"Discipline"}),e.jsx("option",{value:"facilities",children:"Facilities"}),e.jsx("option",{value:"academics",children:"Academics"}),e.jsx("option",{value:"finance",children:"Finance"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsxs("select",{className:"border rounded p-2 text-sm",value:b.priority,onChange:l=>T({...b,priority:l.target.value}),children:[e.jsx("option",{value:"all",children:"All Priority"}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-600",children:[e.jsx("th",{className:"p-2",children:"Title"}),e.jsx("th",{className:"p-2",children:"Category"}),e.jsx("th",{className:"p-2",children:"Priority"}),e.jsx("th",{className:"p-2",children:"Status"}),e.jsx("th",{className:"p-2",children:"Target"}),e.jsx("th",{className:"p-2",children:"Created"}),e.jsx("th",{className:"p-2",children:"Actions"})]})}),e.jsx("tbody",{children:$.map(l=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-2 font-medium",children:l.title}),e.jsx("td",{className:"p-2",children:l.category}),e.jsx("td",{className:"p-2",children:l.priority}),e.jsx("td",{className:"p-2",children:l.status}),e.jsx("td",{className:"p-2",children:l.target_user_id||"-"}),e.jsx("td",{className:"p-2",children:new Date(l.created_at).toLocaleString()}),e.jsx("td",{className:"p-2 space-x-2",children:y==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-2 py-1 bg-green-600 text-white rounded",onClick:()=>a(l.id,{status:"resolved"}),children:"Resolve"}),e.jsx("button",{className:"px-2 py-1 bg-yellow-600 text-white rounded",onClick:()=>a(l.id,{status:"in_review"}),children:"Review"}),e.jsx("button",{className:"px-2 py-1 bg-gray-600 text-white rounded",onClick:()=>a(l.id,{status:"dismissed"}),children:"Dismiss"})]})})]},l.id))})]})})]})]})},Pl=({userRole:y})=>{const[A,s]=t.useState([]),[i,v]=t.useState([]),[u,o]=t.useState([]),[b,T]=t.useState({gender:"all",search:""}),[w,$]=t.useState({name:"",gender:"mixed",capacity:0,warden_id:""}),[d,x]=t.useState({hostel_id:"",room_number:"",bed_count:4}),[a,l]=t.useState({room_id:"",student_id:"",start_date:"",end_date:""}),n=localStorage.getItem("token")||"",h=async()=>{try{const p="http://localhost:5000",[k,m,C]=await Promise.all([fetch(`${p}/api/hostels`,{headers:{Authorization:`Bearer ${n}`}}),fetch(`${p}/api/rooms`,{headers:{Authorization:`Bearer ${n}`}}),fetch(`${p}/api/allocations`,{headers:{Authorization:`Bearer ${n}`}})]),J=await k.json(),_=await m.json(),z=await C.json();J.success&&s(J.items),_.success&&v(_.items),z.success&&o(z.items)}catch(p){console.error(p)}};t.useEffect(()=>{h()},[]);const S={hostels:A.length,rooms:i.length,beds:i.reduce((p,k)=>p+(k.bed_count||0),0),occupied:u.filter(p=>p.status==="active").length,occupancy:i.length>0?Math.round(u.filter(p=>p.status==="active").length/i.reduce((p,k)=>p+(k.bed_count||0),0)*100):0},N=A.filter(p=>{const k=b.gender==="all"||p.gender===b.gender,m=p.name.toLowerCase().includes(b.search.toLowerCase());return k&&m}),g=async p=>{p.preventDefault();try{(await(await fetch("http://localhost:5000/api/hostels",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({...w,capacity:Number(w.capacity)})})).json()).success&&($({name:"",gender:"mixed",capacity:0,warden_id:""}),h())}catch(k){console.error(k)}},c=async p=>{p.preventDefault();try{(await(await fetch("http://localhost:5000/api/rooms",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({...d,bed_count:Number(d.bed_count)})})).json()).success&&(x({hostel_id:"",room_number:"",bed_count:4}),h())}catch(k){console.error(k)}},r=async p=>{p.preventDefault();try{(await(await fetch("http://localhost:5000/api/allocations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(a)})).json()).success&&(l({room_id:"",student_id:"",start_date:"",end_date:""}),h())}catch(k){console.error(k)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Hostels"}),e.jsx("div",{className:"text-xl font-bold",children:S.hostels})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Rooms"}),e.jsx("div",{className:"text-xl font-bold",children:S.rooms})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Beds"}),e.jsx("div",{className:"text-xl font-bold",children:S.beds})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Occupied"}),e.jsx("div",{className:"text-xl font-bold text-blue-600",children:S.occupied})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Occupancy"}),e.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[S.occupancy,"%"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Hostel"}),e.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsx("input",{className:"border rounded p-2",placeholder:"Name",value:w.name,onChange:p=>$({...w,name:p.target.value}),required:!0}),e.jsxs("select",{className:"border rounded p-2",value:w.gender,onChange:p=>$({...w,gender:p.target.value}),children:[e.jsx("option",{children:"male"}),e.jsx("option",{children:"female"}),e.jsx("option",{children:"mixed"})]}),e.jsx("input",{className:"border rounded p-2",type:"number",placeholder:"Capacity",value:w.capacity,onChange:p=>$({...w,capacity:p.target.value})}),e.jsx("input",{className:"border rounded p-2",placeholder:"Warden User ID",value:w.warden_id,onChange:p=>$({...w,warden_id:p.target.value})}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded md:col-span-4",children:"Create"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Room"}),e.jsxs("form",{onSubmit:c,className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsx("input",{className:"border rounded p-2",placeholder:"Hostel ID",value:d.hostel_id,onChange:p=>x({...d,hostel_id:p.target.value}),required:!0}),e.jsx("input",{className:"border rounded p-2",placeholder:"Room Number",value:d.room_number,onChange:p=>x({...d,room_number:p.target.value}),required:!0}),e.jsx("input",{className:"border rounded p-2",type:"number",placeholder:"Beds",value:d.bed_count,onChange:p=>x({...d,bed_count:p.target.value})}),e.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",children:"Add Room"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Allocate Student"}),e.jsxs("form",{onSubmit:r,className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[e.jsx("input",{className:"border rounded p-2",placeholder:"Room ID",value:a.room_id,onChange:p=>l({...a,room_id:p.target.value}),required:!0}),e.jsx("input",{className:"border rounded p-2",placeholder:"Student User ID",value:a.student_id,onChange:p=>l({...a,student_id:p.target.value}),required:!0}),e.jsx("input",{className:"border rounded p-2",type:"date",value:a.start_date,onChange:p=>l({...a,start_date:p.target.value}),required:!0}),e.jsx("input",{className:"border rounded p-2",type:"date",value:a.end_date,onChange:p=>l({...a,end_date:p.target.value})}),e.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded",children:"Allocate"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hostels"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"border rounded p-2 text-sm",value:b.gender,onChange:p=>T({...b,gender:p.target.value}),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"mixed",children:"Mixed"})]}),e.jsx("input",{className:"border rounded p-2 text-sm",placeholder:"Search by name...",value:b.search,onChange:p=>T({...b,search:p.target.value})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:N.map(p=>e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"font-semibold",children:p.name}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Gender: ",p.gender," • Rooms: ",p.room_count]}),e.jsxs("div",{className:"text-sm",children:["Beds: ",e.jsx("span",{className:"font-medium",children:p.beds})," • Occupied: ",e.jsx("span",{className:"font-medium",children:p.occupied})]}),e.jsx("div",{className:"mt-2 h-2 bg-gray-100 rounded",children:e.jsx("div",{className:"h-2 bg-purple-500 rounded",style:{width:`${p.occupancy}%`},title:`Occupancy ${p.occupancy}%`})})]},p.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Allocations"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-600",children:[e.jsx("th",{className:"p-2",children:"Room"}),e.jsx("th",{className:"p-2",children:"Student"}),e.jsx("th",{className:"p-2",children:"Start"}),e.jsx("th",{className:"p-2",children:"End"}),e.jsx("th",{className:"p-2",children:"Status"})]})}),e.jsx("tbody",{children:u.map(p=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-2",children:p.room_id}),e.jsx("td",{className:"p-2",children:p.student_id}),e.jsx("td",{className:"p-2",children:p.start_date}),e.jsx("td",{className:"p-2",children:p.end_date||"-"}),e.jsx("td",{className:"p-2",children:p.status})]},p.id))})]})})]})]})},Tl=({userRole:y})=>{const[A,s]=t.useState([]),[i,v]=t.useState({title:"",description:"",recipient_user_id:"",recipient_class_id:"",category:"academic",awarded_on:""}),[u,o]=t.useState({category:"all",search:"",from:"",to:""}),b=localStorage.getItem("token")||"",T=async()=>{try{const l=await(await fetch("http://localhost:5000/api/awards/",{headers:{Authorization:`Bearer ${b}`}})).json();l.success&&s(l.items)}catch(x){console.error(x)}};t.useEffect(()=>{T()},[]);const w=async x=>{x.preventDefault();try{const a={...i,recipient_user_id:i.recipient_user_id||null,recipient_class_id:i.recipient_class_id||null,created_by:1},h=await(await fetch("http://localhost:5000/api/awards/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(a)})).json();h.success?(v({title:"",description:"",recipient_user_id:"",recipient_class_id:"",category:"academic",awarded_on:""}),T()):alert(h.message||"Failed to create award")}catch(a){console.error(a),alert("Network error")}},$=A.filter(x=>{const a=u.category==="all"||x.category===u.category,l=(u.search||"").toLowerCase(),n=`${x.title} ${x.description||""}`.toLowerCase(),h=!l||n.includes(l),S=x.awarded_on?new Date(x.awarded_on):null,N=!u.from||S&&S>=new Date(u.from),g=!u.to||S&&S<=new Date(u.to);return a&&h&&N&&g}),d={total:A.length,academic:A.filter(x=>x.category==="academic").length,sports:A.filter(x=>x.category==="sports").length,behavior:A.filter(x=>x.category==="behavior").length,leadership:A.filter(x=>x.category==="leadership").length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Total"}),e.jsx("div",{className:"text-xl font-bold",children:d.total})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Academic"}),e.jsx("div",{className:"text-xl font-bold text-blue-600",children:d.academic})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Sports"}),e.jsx("div",{className:"text-xl font-bold text-green-600",children:d.sports})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Behavior"}),e.jsx("div",{className:"text-xl font-bold text-yellow-600",children:d.behavior})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Leadership"}),e.jsx("div",{className:"text-xl font-bold text-purple-600",children:d.leadership})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Award"}),e.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx("input",{className:"border rounded p-2",placeholder:"Title",value:i.title,onChange:x=>v({...i,title:x.target.value}),required:!0}),e.jsxs("select",{className:"border rounded p-2",value:i.category,onChange:x=>v({...i,category:x.target.value}),children:[e.jsx("option",{children:"academic"}),e.jsx("option",{children:"sports"}),e.jsx("option",{children:"behavior"}),e.jsx("option",{children:"leadership"}),e.jsx("option",{children:"other"})]}),e.jsx("input",{className:"border rounded p-2",type:"date",value:i.awarded_on,onChange:x=>v({...i,awarded_on:x.target.value})}),e.jsx("input",{className:"border rounded p-2 md:col-span-3",placeholder:"Description",value:i.description,onChange:x=>v({...i,description:x.target.value})}),e.jsx("input",{className:"border rounded p-2",placeholder:"Recipient User ID (optional)",value:i.recipient_user_id,onChange:x=>v({...i,recipient_user_id:x.target.value})}),e.jsx("input",{className:"border rounded p-2",placeholder:"Recipient Class ID (optional)",value:i.recipient_class_id,onChange:x=>v({...i,recipient_class_id:x.target.value})}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Save Award"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Awards"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"border rounded p-2 text-sm",value:u.category,onChange:x=>o({...u,category:x.target.value}),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"academic",children:"Academic"}),e.jsx("option",{value:"sports",children:"Sports"}),e.jsx("option",{value:"behavior",children:"Behavior"}),e.jsx("option",{value:"leadership",children:"Leadership"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("input",{className:"border rounded p-2 text-sm",placeholder:"Search...",value:u.search,onChange:x=>o({...u,search:x.target.value})}),e.jsx("input",{className:"border rounded p-2 text-sm",type:"date",value:u.from,onChange:x=>o({...u,from:x.target.value})}),e.jsx("input",{className:"border rounded p-2 text-sm",type:"date",value:u.to,onChange:x=>o({...u,to:x.target.value})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:$.map(x=>e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"font-semibold",children:x.title}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[x.category," • ",x.awarded_on]}),e.jsx("div",{className:"text-sm text-gray-700",children:x.description})]},x.id))})]})]})},Dl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState(""),[u,o]=t.useState(""),[b,T]=t.useState(""),[w,$]=t.useState(null),[d,x]=t.useState("register"),[a,l]=t.useState([]),[n,h]=t.useState({deviceName:"DEV-01",location:"Admin Office",scanTimeout:30,retryAttempts:3,autoSync:!0,notifications:!0,backupEnabled:!0}),[S,N]=t.useState(!1),[g,c]=t.useState(!1),r=localStorage.getItem("token")||"",p=s?"bg-gray-800 border border-gray-700":"bg-white",k=s?"text-white":"text-gray-900",m=s?"text-gray-300":"text-gray-600",C=s?"text-gray-400":"text-gray-500",J=async D=>{D.preventDefault();try{const j=await(await fetch("/api/attendance/register-biometric",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({user_id:Number(i)||void 0,biometric_data:u||void 0})})).json();$({...j,type:"success",message:"Biometric template registered successfully!"})}catch(L){console.error(L),$({type:"error",message:"Network error occurred"})}},_=async D=>{if(D.preventDefault(),!b.trim()){$({type:"error",message:"Please enter an Employee ID"});return}if(!u.trim()){$({type:"error",message:"Please enter biometric data for testing"});return}N(!0),$(null);try{const j=await fetch("http://localhost:5000/api/attendance/biometric",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({employee_id:b.trim(),biometric_data:u.trim()})});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const O=await j.json();$({...O,type:"success",message:`Biometric scan completed successfully! Employee ${b} verified.`}),T(""),o("")}catch(L){console.error("Simulate scan error:",L),$({type:"error",message:L.message||"Network error occurred. Please check your connection and try again."})}finally{N(!1)}},z=D=>{window.confirm("Are you sure you want to remove this user's biometric data?")&&l(a.filter(L=>L.id!==D))},B=D=>{l(a.map(L=>L.id===D?{...L,status:L.status==="active"?"inactive":"active"}:L))},f=async D=>{D.preventDefault();try{if(!n.deviceName.trim()){$({type:"error",message:"Device name is required"});return}if(!n.location.trim()){$({type:"error",message:"Location is required"});return}if(n.scanTimeout<5||n.scanTimeout>120){$({type:"error",message:"Scan timeout must be between 5 and 120 seconds"});return}if(n.retryAttempts<1||n.retryAttempts>10){$({type:"error",message:"Retry attempts must be between 1 and 10"});return}c(!0),$(null),localStorage.setItem("biometricSettings",JSON.stringify(n));try{const j=await fetch("http://localhost:5000/api/biometric/settings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(j.ok){const O=await j.json();$({type:"success",message:"Biometric settings saved successfully to server!"})}else $({type:"success",message:"Settings saved locally. Server sync will be attempted later."})}catch(L){console.log("Server save failed, using local storage:",L),$({type:"success",message:"Settings saved locally. Server sync will be attempted later."})}}catch(L){console.error("Save settings error:",L),$({type:"error",message:"Failed to save settings. Please try again."})}finally{c(!1)}},R=(D,L)=>{h(j=>({...j,[D]:L}))};return t.useEffect(()=>{const D=localStorage.getItem("biometricSettings");if(D)try{const L=JSON.parse(D);h(j=>({...j,...L}))}catch(L){console.error("Error loading saved settings:",L)}},[]),e.jsx("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:`${p} rounded-3xl shadow-2xl p-8 mb-8`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-2xl p-4",children:e.jsx(Ps,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${k}`,children:"Biometric Setup"}),e.jsx("p",{className:`${m} mt-2`,children:"Configure fingerprint and facial recognition for secure access"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-2",children:e.jsx(He,{className:"w-5 h-5 text-green-600"})}),e.jsx("span",{className:`${m} text-sm`,children:"Secure Authentication"})]})]})}),e.jsx("div",{className:`${p} rounded-2xl shadow-xl mb-8`,children:e.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"register",label:"Register Biometric",icon:ve},{id:"scan",label:"Test Scan",icon:je},{id:"manage",label:"Manage Users",icon:me},{id:"settings",label:"Device Settings",icon:Xe}].map(D=>e.jsxs("button",{onClick:()=>x(D.id),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 font-medium transition-colors ${d===D.id?"border-b-2 border-blue-500 text-blue-600 bg-blue-50":`${m} hover:${s?"text-white":"text-gray-900"}`}`,children:[e.jsx(D.icon,{className:"w-5 h-5"}),e.jsx("span",{children:D.label})]},D.id))})}),d==="register"&&e.jsxs("div",{className:`${p} rounded-2xl shadow-xl p-8`,children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Ps,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h3",{className:`text-xl font-semibold ${k}`,children:"Register New Biometric Template"})]}),e.jsxs("form",{onSubmit:J,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${m} text-sm font-medium mb-2`,children:"User ID"}),e.jsx("input",{className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,placeholder:"Enter staff user ID",value:i,onChange:D=>v(D.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${m} text-sm font-medium mb-2`,children:"Biometric Data"}),e.jsx("input",{className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,placeholder:"Biometric template (auto-generated)",value:u,onChange:D=>o(D.target.value)})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center space-x-2 shadow-lg",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Register Template"})]})})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:e.jsxs("p",{className:`text-sm ${m}`,children:[e.jsx("strong",{children:"Note:"})," Staff only (Admin/Teacher roles). This registers biometric templates for secure attendance tracking."]})})]}),d==="scan"&&e.jsxs("div",{className:`${p} rounded-2xl shadow-xl p-8`,children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(je,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsx("h3",{className:`text-xl font-semibold ${k}`,children:"Test Biometric Scan"})]}),e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${m} text-sm font-medium mb-2`,children:"Employee ID"}),e.jsx("input",{className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,placeholder:"Enter employee ID to test",value:b,onChange:D=>T(D.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${m} text-sm font-medium mb-2`,children:"Test Biometric Data"}),e.jsx("input",{className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,placeholder:"Simulated biometric scan data",value:u,onChange:D=>o(D.target.value)})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:S,className:`bg-gradient-to-r from-green-500 to-emerald-600 text-white px-8 py-3 rounded-xl transition-all duration-300 flex items-center space-x-2 shadow-lg ${S?"opacity-50 cursor-not-allowed":"hover:from-green-600 hover:to-emerald-700"}`,children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Scanning..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"Simulate Scan"})]})})})]}),e.jsx("div",{className:"mt-6 p-4 bg-green-50 rounded-xl",children:e.jsxs("p",{className:`text-sm ${m}`,children:[e.jsx("strong",{children:"Test Mode:"})," This simulates a biometric scan for attendance tracking. Device: DEV-01, Location: Admin Office."]})})]}),d==="manage"&&e.jsxs("div",{className:`${p} rounded-2xl shadow-xl p-8`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{className:"w-6 h-6 text-purple-600 mr-3"}),e.jsx("h3",{className:`text-xl font-semibold ${k}`,children:"Registered Users"})]}),e.jsxs("span",{className:`${C} text-sm`,children:[a.length," users registered"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${s?"bg-gray-700":"bg-gray-50"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${C} uppercase tracking-wider`,children:"User"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${C} uppercase tracking-wider`,children:"Fingerprints"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${C} uppercase tracking-wider`,children:"Face ID"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${C} uppercase tracking-wider`,children:"Status"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${C} uppercase tracking-wider`,children:"Actions"})]})}),e.jsx("tbody",{className:`${s?"bg-gray-800":"bg-white"} divide-y ${s?"divide-gray-700":"divide-gray-200"}`,children:a.map(D=>e.jsxs("tr",{className:`hover:${s?"bg-gray-700":"bg-gray-50"} transition-colors`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${k}`,children:D.name}),e.jsx("div",{className:`text-sm ${C}`,children:D.role})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ps,{className:"w-4 h-4 text-blue-500 mr-2"}),e.jsxs("span",{className:`text-sm ${k}`,children:[D.fingerprints," registered"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${D.faceId?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.faceId?"Enabled":"Disabled"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>B(D.id),className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${D.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[D.status==="active"?e.jsx(se,{className:"w-3 h-3 mr-1"}):e.jsx(oe,{className:"w-3 h-3 mr-1"}),D.status.charAt(0).toUpperCase()+D.status.slice(1)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z(D.id),className:"text-red-600 hover:text-red-900 p-1 rounded",children:e.jsx(Rs,{className:"w-4 h-4"})})]})})]},D.id))})]})})]}),d==="settings"&&e.jsxs("div",{className:`${p} rounded-2xl shadow-xl p-8`,children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Xe,{className:"w-6 h-6 text-gray-600 mr-3"}),e.jsx("h3",{className:`text-xl font-semibold ${k}`,children:"Device Settings"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${m} text-sm font-medium mb-3`,children:"Device Name"}),e.jsx("input",{type:"text",value:n.deviceName,onChange:D=>R("deviceName",D.target.value),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,placeholder:"Enter device name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${m} text-sm font-medium mb-3`,children:"Location"}),e.jsx("input",{type:"text",value:n.location,onChange:D=>R("location",D.target.value),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,placeholder:"Enter device location"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${m} text-sm font-medium mb-3`,children:"Scan Timeout (seconds)"}),e.jsx("input",{type:"number",min:"5",max:"120",value:n.scanTimeout,onChange:D=>R("scanTimeout",parseInt(D.target.value)||30),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${m} text-sm font-medium mb-3`,children:"Max Retry Attempts"}),e.jsx("input",{type:"number",min:"1",max:"10",value:n.retryAttempts,onChange:D=>R("retryAttempts",parseInt(D.target.value)||3),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Device Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Fingerprint Scanner"}),e.jsxs("span",{className:"text-green-600 flex items-center",children:[e.jsx(se,{className:"w-4 h-4 mr-1"}),"Online"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Face Recognition"}),e.jsxs("span",{className:"text-green-600 flex items-center",children:[e.jsx(se,{className:"w-4 h-4 mr-1"}),"Online"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Network Connection"}),e.jsxs("span",{className:"text-green-600 flex items-center",children:[e.jsx(se,{className:"w-4 h-4 mr-1"}),"Connected"]})]})]})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"System Options"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-green-700",children:"Auto Sync"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.autoSync,onChange:D=>R("autoSync",D.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-green-700",children:"Notifications"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.notifications,onChange:D=>R("notifications",D.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-green-700",children:"Backup Enabled"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.backupEnabled,onChange:D=>R("backupEnabled",D.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e.jsx("button",{onClick:f,disabled:g,className:`w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl transition-all duration-300 flex items-center justify-center space-x-2 ${g?"opacity-50 cursor-not-allowed":"hover:from-blue-600 hover:to-purple-700"}`,children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-5 h-5"}),e.jsx("span",{children:"Save Settings"})]})})]})]})]}),w&&e.jsx("div",{className:`mt-8 p-6 rounded-2xl shadow-xl ${w.type==="error"?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"}`,children:e.jsxs("div",{className:"flex items-center",children:[w.type==="error"?e.jsx(oe,{className:"w-6 h-6 text-red-600 mr-3"}):e.jsx(se,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold ${w.type==="error"?"text-red-800":"text-green-800"}`,children:w.type==="error"?"Error":"Success"}),e.jsx("p",{className:`${w.type==="error"?"text-red-700":"text-green-700"}`,children:w.message}),w.data&&e.jsx("pre",{className:`mt-2 text-xs ${w.type==="error"?"text-red-600":"text-green-600"} bg-white p-2 rounded`,children:JSON.stringify(w.data,null,2)})]})]})})]})})},El=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState([]),[u,o]=t.useState(!1),[b,T]=t.useState(null),[w,$]=t.useState({name:"",startDate:"",endDate:"",totalStudents:"",totalFees:"",subjects:[],holidays:[],examPeriod:""}),d=s?"bg-gray-800 border border-gray-700":"bg-white",x=s?"text-white":"text-gray-900",a=s?"text-gray-300":"text-gray-600",l=s?"text-gray-400":"text-gray-500",n=p=>{switch(p){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"upcoming":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},h=(p,k)=>(p/k*100).toFixed(1),S=p=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(p),N=()=>{const p={id:Date.now(),...w,status:"upcoming",collectedFees:0,totalStudents:parseInt(w.totalStudents),totalFees:parseInt(w.totalFees)};v([...i,p]),$({name:"",startDate:"",endDate:"",totalStudents:"",totalFees:"",subjects:[],holidays:[],examPeriod:""}),o(!1)},g=p=>{T(p.id),$({...p,totalStudents:p.totalStudents.toString(),totalFees:p.totalFees.toString()})},c=()=>{v(i.map(p=>p.id===b?{...w,id:b,totalStudents:parseInt(w.totalStudents),totalFees:parseInt(w.totalFees)}:p)),T(null),$({name:"",startDate:"",endDate:"",totalStudents:"",totalFees:"",subjects:[],holidays:[],examPeriod:""})},r=p=>{window.confirm("Are you sure you want to delete this term?")&&v(i.filter(k=>k.id!==p))};return e.jsx("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:`${d} rounded-3xl shadow-2xl p-8 mb-8`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-4",children:e.jsx(ne,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${x}`,children:"Term Management"}),e.jsx("p",{className:`${a} mt-2`,children:"Manage academic terms, schedules, and financial planning"})]})]}),y==="admin"&&e.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 flex items-center space-x-2 shadow-lg",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Add New Term"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:`${d} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${l} text-sm font-medium`,children:"Total Terms"}),e.jsx("p",{className:`${x} text-3xl font-bold mt-2`,children:i.length})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(be,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:`${d} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${l} text-sm font-medium`,children:"Active Terms"}),e.jsx("p",{className:`${x} text-3xl font-bold mt-2`,children:i.filter(p=>p.status==="active").length})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:`${d} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${l} text-sm font-medium`,children:"Total Revenue"}),e.jsx("p",{className:`${x} text-2xl font-bold mt-2`,children:S(i.reduce((p,k)=>p+(k.collectedFees||0),0))})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(ze,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsx("div",{className:"space-y-6",children:i.length===0?e.jsx("div",{className:`${d} rounded-2xl p-8 text-center text-gray-500`,children:"No terms defined"}):i.map(p=>e.jsx("div",{className:`${d} rounded-2xl shadow-xl p-8`,children:b===p.id?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Term Name"}),e.jsx("input",{type:"text",value:w.name,onChange:k=>$({...w,name:k.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Total Students"}),e.jsx("input",{type:"number",value:w.totalStudents,onChange:k=>$({...w,totalStudents:k.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Start Date"}),e.jsx("input",{type:"date",value:w.startDate,onChange:k=>$({...w,startDate:k.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"End Date"}),e.jsx("input",{type:"date",value:w.endDate,onChange:k=>$({...w,endDate:k.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsxs("button",{onClick:()=>T(null),className:"px-6 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[e.jsx(Qe,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancel"})]}),e.jsxs("button",{onClick:c,className:"px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Changes"})]})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h3",{className:`text-2xl font-bold ${x}`,children:p.name}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n(p.status)}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]}),y==="admin"&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>g(p),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>r(p.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",children:e.jsx(Rs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ne,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-800 font-medium",children:"Duration"}),e.jsxs("p",{className:"text-blue-600 text-sm",children:[p.startDate," to ",p.endDate]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(me,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-800 font-medium",children:"Students"}),e.jsxs("p",{className:"text-green-600 text-sm",children:[p.totalStudents," enrolled"]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ze,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-800 font-medium",children:"Fee Collection"}),e.jsxs("p",{className:"text-purple-600 text-sm",children:[h(p.collectedFees,p.totalFees),"% collected"]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ie,{className:"w-5 h-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-800 font-medium",children:"Exam Period"}),e.jsx("p",{className:"text-orange-600 text-sm",children:p.examPeriod})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`${x} font-semibold mb-3`,children:"Subjects Offered"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(p.subjects||[]).map((k,m)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:k},m))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`${x} font-semibold mb-3`,children:"Holidays & Breaks"}),e.jsx("div",{className:"space-y-2",children:(p.holidays||[]).map((k,m)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ts,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:`${a} text-sm`,children:k})]},m))})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Expected Fees"}),e.jsx("p",{className:"text-gray-900 font-bold text-lg",children:S(p.totalFees)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Collected Fees"}),e.jsx("p",{className:"text-green-600 font-bold text-lg",children:S(p.collectedFees)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Outstanding"}),e.jsx("p",{className:"text-red-600 font-bold text-lg",children:S(p.totalFees-p.collectedFees)})]})]})})]})},p.id))}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${d} rounded-2xl shadow-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto`,children:[e.jsx("h2",{className:`text-2xl font-bold ${x} mb-6`,children:"Add New Term"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Term Name"}),e.jsx("input",{type:"text",value:w.name,onChange:p=>$({...w,name:p.target.value}),placeholder:"e.g., Term 1 2025",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Total Students"}),e.jsx("input",{type:"number",value:w.totalStudents,onChange:p=>$({...w,totalStudents:p.target.value}),placeholder:"Expected enrollment",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Start Date"}),e.jsx("input",{type:"date",value:w.startDate,onChange:p=>$({...w,startDate:p.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"End Date"}),e.jsx("input",{type:"date",value:w.endDate,onChange:p=>$({...w,endDate:p.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Expected Total Fees (UGX)"}),e.jsx("input",{type:"number",value:w.totalFees,onChange:p=>$({...w,totalFees:p.target.value}),placeholder:"Total expected fee collection",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsxs("button",{onClick:()=>o(!1),className:"px-6 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[e.jsx(Qe,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancel"})]}),e.jsxs("button",{onClick:N,className:"px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Term"})]})]})]})]})})]})})},Rl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState([]),[u,o]=t.useState(""),[b,T]=t.useState("all"),[w,$]=t.useState(!1),[d,x]=t.useState(null),[a,l]=t.useState(!1),n=s?"bg-gray-800 border border-gray-700":"bg-white",h=s?"text-white":"text-gray-900",S=s?"text-gray-300":"text-gray-600",N=s?"text-gray-400":"text-gray-500",g=f=>{switch(f){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=f=>{switch(f){case"paid":return e.jsx(se,{className:"w-4 h-4"});case"partial":return e.jsx(ie,{className:"w-4 h-4"});case"pending":return e.jsx(ie,{className:"w-4 h-4"});case"overdue":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(ie,{className:"w-4 h-4"})}},r=f=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(f),p=i.filter(f=>{const R=f.studentName.toLowerCase().includes(u.toLowerCase())||f.id.toLowerCase().includes(u.toLowerCase())||f.class.toLowerCase().includes(u.toLowerCase()),D=b==="all"||f.status===b;return R&&D}),k=i.length,m=i.reduce((f,R)=>f+R.amount,0),C=i.reduce((f,R)=>f+R.paidAmount,0),J=m-C,_=f=>{x(f),$(!0)},z=f=>{alert(`Downloading invoice ${f.id} for ${f.studentName}`)},B=f=>{alert(`Sending invoice ${f.id} to ${f.studentName}'s parent/guardian`)};return e.jsx("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:`${n} rounded-3xl shadow-2xl p-8 mb-8`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-4",children:e.jsx(re,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${h}`,children:"Invoice Management"}),e.jsx("p",{className:`${S} mt-2`,children:"Create, manage, and track student fee invoices"})]})]}),y==="admin"&&e.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 flex items-center space-x-2 shadow-lg",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Invoice"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[e.jsx("div",{className:`${n} rounded-2xl shadow-xl p-4 lg:p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`${N} text-xs lg:text-sm font-medium`,children:"Total Invoices"}),e.jsx("p",{className:`${h} text-xl lg:text-2xl font-bold mt-1 lg:mt-2`,children:k})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-2 lg:p-3 flex-shrink-0 ml-2",children:e.jsx(re,{className:"w-4 h-4 lg:w-6 lg:h-6 text-blue-600"})})]})}),e.jsx("div",{className:`${n} rounded-2xl shadow-xl p-4 lg:p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`${N} text-xs lg:text-sm font-medium`,children:"Total Amount"}),e.jsx("p",{className:`${h} text-sm lg:text-lg font-bold mt-1 lg:mt-2 truncate`,title:r(m),children:r(m)})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-2 lg:p-3 flex-shrink-0 ml-2",children:e.jsx(ze,{className:"w-4 h-4 lg:w-6 lg:h-6 text-purple-600"})})]})}),e.jsx("div",{className:`${n} rounded-2xl shadow-xl p-4 lg:p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`${N} text-xs lg:text-sm font-medium`,children:"Amount Paid"}),e.jsx("p",{className:`${h} text-sm lg:text-lg font-bold mt-1 lg:mt-2 text-green-600 truncate`,title:r(C),children:r(C)})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-2 lg:p-3 flex-shrink-0 ml-2",children:e.jsx(se,{className:"w-4 h-4 lg:w-6 lg:h-6 text-green-600"})})]})}),e.jsx("div",{className:`${n} rounded-2xl shadow-xl p-4 lg:p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`${N} text-xs lg:text-sm font-medium`,children:"Outstanding"}),e.jsx("p",{className:`${h} text-sm lg:text-lg font-bold mt-1 lg:mt-2 text-red-600 truncate`,title:r(J),children:r(J)})]}),e.jsx("div",{className:"bg-red-100 rounded-full p-2 lg:p-3 flex-shrink-0 ml-2",children:e.jsx(oe,{className:"w-6 h-6 text-red-600"})})]})})]}),e.jsx("div",{className:`${n} rounded-2xl shadow-xl p-6 mb-8`,children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search by student name, invoice ID, or class...",value:u,onChange:f=>o(f.target.value),className:`w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]})}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zs,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:b,onChange:f=>T(f.target.value),className:`px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"partial",children:"Partial"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]})})]})}),e.jsx("div",{className:`${n} rounded-2xl shadow-xl overflow-hidden`,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${s?"bg-gray-700":"bg-gray-50"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${N} uppercase tracking-wider`,children:"Invoice"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${N} uppercase tracking-wider`,children:"Student"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${N} uppercase tracking-wider`,children:"Class"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${N} uppercase tracking-wider`,children:"Amount"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${N} uppercase tracking-wider`,children:"Due Date"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${N} uppercase tracking-wider`,children:"Status"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${N} uppercase tracking-wider`,children:"Actions"})]})}),e.jsx("tbody",{className:`${s?"bg-gray-800":"bg-white"} divide-y ${s?"divide-gray-700":"divide-gray-200"}`,children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:`px-6 py-8 text-center ${S}`,children:"No invoices"})}):p.map(f=>e.jsxs("tr",{className:`hover:${s?"bg-gray-700":"bg-gray-50"} transition-colors`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${h}`,children:f.id}),e.jsx("div",{className:`text-sm ${N}`,children:f.term})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-blue-100 rounded-full w-10 h-10 flex items-center justify-center mr-3",children:e.jsx(es,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${h}`,children:f.studentName}),e.jsx("div",{className:`text-sm ${N}`,children:f.studentId})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm ${h}`,children:f.class})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${h}`,children:r(f.amount)}),f.paidAmount>0&&e.jsxs("div",{className:"text-sm text-green-600",children:["Paid: ",r(f.paidAmount)]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ne,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:`text-sm ${S}`,children:f.dueDate})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${g(f.status)}`,children:[c(f.status),e.jsx("span",{className:"ml-1 capitalize",children:f.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_(f),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"View Invoice",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z(f),className:"text-green-600 hover:text-green-900 p-1 rounded",title:"Download PDF",children:e.jsx(Ne,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>B(f),className:"text-purple-600 hover:text-purple-900 p-1 rounded",title:"Send Invoice",children:e.jsx(Es,{className:"w-4 h-4"})})]})})]},f.id))})]})})}),w&&d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${n} rounded-2xl shadow-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold ${h}`,children:"Invoice Details"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"border-b pb-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${h} mb-4`,children:"Invoice Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:`${N}`,children:"Invoice ID:"})," ",e.jsx("span",{className:`${h} font-medium`,children:d.id})]}),e.jsxs("p",{children:[e.jsx("span",{className:`${N}`,children:"Issue Date:"})," ",e.jsx("span",{className:`${h}`,children:d.issueDate})]}),e.jsxs("p",{children:[e.jsx("span",{className:`${N}`,children:"Due Date:"})," ",e.jsx("span",{className:`${h}`,children:d.dueDate})]}),e.jsxs("p",{children:[e.jsx("span",{className:`${N}`,children:"Term:"})," ",e.jsx("span",{className:`${h}`,children:d.term})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${h} mb-4`,children:"Student Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:`${N}`,children:"Name:"})," ",e.jsx("span",{className:`${h} font-medium`,children:d.studentName})]}),e.jsxs("p",{children:[e.jsx("span",{className:`${N}`,children:"Student ID:"})," ",e.jsx("span",{className:`${h}`,children:d.studentId})]}),e.jsxs("p",{children:[e.jsx("span",{className:`${N}`,children:"Class:"})," ",e.jsx("span",{className:`${h}`,children:d.class})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${N}`,children:"Status:"}),e.jsxs("span",{className:`ml-2 inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${g(d.status)}`,children:[c(d.status),e.jsx("span",{className:"ml-1 capitalize",children:d.status})]})]})]})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${h} mb-4`,children:"Fee Breakdown"}),e.jsxs("div",{className:"space-y-3",children:[d.items.map((f,R)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:`${S}`,children:f.description}),e.jsx("span",{className:`${h} font-medium`,children:r(f.amount)})]},R)),e.jsxs("div",{className:"flex justify-between items-center py-3 border-t-2 border-gray-300 font-bold",children:[e.jsx("span",{className:`${h} text-lg`,children:"Total Amount"}),e.jsx("span",{className:`${h} text-lg`,children:r(d.amount)})]})]})]}),d.paidAmount>0&&e.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Payment Information"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-green-600",children:"Amount Paid:"})," ",e.jsx("span",{className:"font-medium text-green-800",children:r(d.paidAmount)})]}),d.paidDate&&e.jsxs("p",{children:[e.jsx("span",{className:"text-green-600",children:"Payment Date:"})," ",e.jsx("span",{className:"text-green-800",children:d.paidDate})]}),d.amount>d.paidAmount&&e.jsxs("p",{children:[e.jsx("span",{className:"text-red-600",children:"Outstanding:"})," ",e.jsx("span",{className:"font-medium text-red-800",children:r(d.amount-d.paidAmount)})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsxs("button",{onClick:()=>z(d),className:"px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Download PDF"})]}),e.jsxs("button",{onClick:()=>B(d),className:"px-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors flex items-center space-x-2",children:[e.jsx(Es,{className:"w-4 h-4"}),e.jsx("span",{children:"Send Invoice"})]})]})]})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${n} rounded-2xl shadow-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold ${h}`,children:"Create New Invoice"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("form",{onSubmit:f=>{f.preventDefault();const R=new FormData(f.target),D={id:`INV-${Date.now()}`,studentName:R.get("studentName"),studentId:R.get("studentId"),class:R.get("class"),term:R.get("term"),amount:parseFloat(R.get("amount")),paidAmount:0,dueDate:R.get("dueDate"),status:"pending",items:R.get("items").split(",").map(L=>L.trim())};v([...i,D]),l(!1),alert("Invoice created successfully! ✅")},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${S} text-sm font-medium mb-2`,children:"Student Name *"}),e.jsx("input",{name:"studentName",required:!0,className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter student name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${S} text-sm font-medium mb-2`,children:"Student ID *"}),e.jsx("input",{name:"studentId",required:!0,className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter student ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${S} text-sm font-medium mb-2`,children:"Class *"}),e.jsxs("select",{name:"class",required:!0,className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select class"}),e.jsx("option",{value:"S1",children:"S1"}),e.jsx("option",{value:"S2",children:"S2"}),e.jsx("option",{value:"S3",children:"S3"}),e.jsx("option",{value:"S4",children:"S4"}),e.jsx("option",{value:"S5",children:"S5"}),e.jsx("option",{value:"S6",children:"S6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${S} text-sm font-medium mb-2`,children:"Term *"}),e.jsxs("select",{name:"term",required:!0,className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select term"}),e.jsx("option",{value:"Term 1",children:"Term 1"}),e.jsx("option",{value:"Term 2",children:"Term 2"}),e.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${S} text-sm font-medium mb-2`,children:"Amount (UGX) *"}),e.jsx("input",{name:"amount",type:"number",required:!0,min:"0",className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${S} text-sm font-medium mb-2`,children:"Due Date *"}),e.jsx("input",{name:"dueDate",type:"date",required:!0,className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${S} text-sm font-medium mb-2`,children:"Invoice Items (comma separated) *"}),e.jsx("textarea",{name:"items",required:!0,rows:"3",className:`w-full px-4 py-2 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"e.g., Tuition Fee, Library Fee, Sports Fee"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Create Invoice"})]})]})]})})]})})},_l=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState([]),[u,o]=t.useState(!1),[b,T]=t.useState(null),[w,$]=t.useState(""),[d,x]=t.useState("all"),[a,l]=t.useState("all"),[n,h]=t.useState({description:"",category:"",amount:"",date:"",paymentMethod:"",vendor:"",department:"",receiptNumber:""}),S=s?"bg-gray-800 border border-gray-700":"bg-white",N=s?"text-white":"text-gray-900",g=s?"text-gray-300":"text-gray-600",c=s?"text-gray-400":"text-gray-500",r=["Salaries","Equipment","Utilities","Maintenance","Educational Materials","Transport","Administration","Other"],p=["Bank Transfer","Cheque","Cash","Mobile Money","Credit Card"],k=["Administration","Academic Affairs","Human Resources","Science Department","ICT Department","Transport","Maintenance","Finance"],m=F=>{switch(F){case"paid":return"bg-green-100 text-green-800";case"approved":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=F=>({Salaries:"bg-purple-100 text-purple-800",Equipment:"bg-blue-100 text-blue-800",Utilities:"bg-orange-100 text-orange-800",Maintenance:"bg-red-100 text-red-800","Educational Materials":"bg-green-100 text-green-800",Transport:"bg-indigo-100 text-indigo-800",Administration:"bg-gray-100 text-gray-800",Other:"bg-pink-100 text-pink-800"})[F]||"bg-gray-100 text-gray-800",J=F=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(F),_=i.filter(F=>{const G=F.description.toLowerCase().includes(w.toLowerCase())||F.vendor.toLowerCase().includes(w.toLowerCase())||F.receiptNumber.toLowerCase().includes(w.toLowerCase()),le=d==="all"||F.category===d,H=a==="all"||F.status===a;return G&&le&&H}),z=i.reduce((F,G)=>F+G.amount,0),B=i.filter(F=>F.status==="paid").reduce((F,G)=>F+G.amount,0),f=i.filter(F=>F.status==="pending"||F.status==="approved").reduce((F,G)=>F+G.amount,0),R=()=>{const F={id:Date.now(),...n,amount:parseFloat(n.amount),status:"pending",approvedBy:A.name||"System"};v([...i,F]),h({description:"",category:"",amount:"",date:"",paymentMethod:"",vendor:"",department:"",receiptNumber:""}),o(!1)},D=F=>{T(F.id),h({...F,amount:F.amount.toString()})},L=()=>{v(i.map(F=>F.id===b?{...n,id:b,amount:parseFloat(n.amount)}:F)),T(null),h({description:"",category:"",amount:"",date:"",paymentMethod:"",vendor:"",department:"",receiptNumber:""})},j=F=>{window.confirm("Are you sure you want to delete this expense?")&&v(i.filter(G=>G.id!==F))},O=(F,G)=>{v(i.map(le=>le.id===F?{...le,status:G}:le))},M=new Date().getMonth(),P=new Date().getFullYear(),Q=i.filter(F=>{const G=new Date(F.date);return G.getMonth()===M&&G.getFullYear()===P}).reduce((F,G)=>F+G.amount,0),q=M===0?11:M-1,te=M===0?P-1:P,Z=i.filter(F=>{const G=new Date(F.date);return G.getMonth()===q&&G.getFullYear()===te}).reduce((F,G)=>F+G.amount,0),I=Z>0?(Q-Z)/Z*100:0;return e.jsx("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:`${S} rounded-3xl shadow-2xl p-8 mb-8`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 rounded-2xl p-4",children:e.jsx(Ds,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${N}`,children:"Expense Management"}),e.jsx("p",{className:`${g} mt-2`,children:"Track and manage school expenses and payments"})]})]}),y==="admin"&&e.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 flex items-center space-x-2 shadow-lg",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Add Expense"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Total Expenses"}),e.jsx("p",{className:`${N} text-2xl font-bold mt-2`,children:J(z)})]}),e.jsx("div",{className:"bg-red-100 rounded-full p-3",children:e.jsx(Ds,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Paid Expenses"}),e.jsx("p",{className:`${N} text-2xl font-bold mt-2 text-green-600`,children:J(B)})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(ze,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Pending Payments"}),e.jsx("p",{className:`${N} text-2xl font-bold mt-2 text-yellow-600`,children:J(f)})]}),e.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:e.jsx(ne,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Monthly Change"}),e.jsxs("p",{className:`${N} text-2xl font-bold mt-2 ${I>=0?"text-red-600":"text-green-600"}`,children:[I>=0?"+":"",I.toFixed(1),"%"]})]}),e.jsx("div",{className:`${I>=0?"bg-red-100":"bg-green-100"} rounded-full p-3`,children:I>=0?e.jsx(he,{className:`w-6 h-6 ${I>=0?"text-red-600":"text-green-600"}`}):e.jsx(lt,{className:`w-6 h-6 ${I>=0?"text-red-600":"text-green-600"}`})})]})})]}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6 mb-8`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search expenses...",value:w,onChange:F=>$(F.target.value),className:`w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]})}),e.jsx("div",{children:e.jsxs("select",{value:d,onChange:F=>x(F.target.value),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"all",children:"All Categories"}),r.map(F=>e.jsx("option",{value:F,children:F},F))]})}),e.jsx("div",{children:e.jsxs("select",{value:a,onChange:F=>l(F.target.value),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})})]})}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl overflow-hidden`,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${s?"bg-gray-700":"bg-gray-50"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${c} uppercase tracking-wider`,children:"Description"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${c} uppercase tracking-wider`,children:"Category"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${c} uppercase tracking-wider`,children:"Amount"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${c} uppercase tracking-wider`,children:"Date"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${c} uppercase tracking-wider`,children:"Status"}),e.jsx("th",{className:`px-6 py-4 text-left text-xs font-medium ${c} uppercase tracking-wider`,children:"Actions"})]})}),e.jsx("tbody",{className:`${s?"bg-gray-800":"bg-white"} divide-y ${s?"divide-gray-700":"divide-gray-200"}`,children:_.map(F=>e.jsxs("tr",{className:`hover:${s?"bg-gray-700":"bg-gray-50"} transition-colors`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${N}`,children:F.description}),e.jsxs("div",{className:`text-sm ${c}`,children:[F.vendor," • ",F.receiptNumber]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${C(F.category)}`,children:[e.jsx(Ra,{className:"w-3 h-3 mr-1"}),F.category]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:`text-sm font-medium ${N}`,children:J(F.amount)}),e.jsx("div",{className:`text-sm ${c}`,children:F.paymentMethod})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ne,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:`text-sm ${g}`,children:F.date})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y==="admin"?e.jsxs("select",{value:F.status,onChange:G=>O(F.id,G.target.value),className:`text-xs font-medium rounded-full px-3 py-1 border-0 ${m(F.status)}`,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}):e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${m(F.status)}`,children:F.status.charAt(0).toUpperCase()+F.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:y==="admin"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D(F),className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j(F.id),className:"text-red-600 hover:text-red-900 p-1 rounded",children:e.jsx(Rs,{className:"w-4 h-4"})})]})})]},F.id))})]})})}),(u||b)&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${S} rounded-2xl shadow-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto`,children:[e.jsx("h2",{className:`text-2xl font-bold ${N} mb-6`,children:b?"Edit Expense":"Add New Expense"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Description"}),e.jsx("input",{type:"text",value:n.description,onChange:F=>h({...n,description:F.target.value}),placeholder:"Expense description",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Category"}),e.jsxs("select",{value:n.category,onChange:F=>h({...n,category:F.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"",children:"Select Category"}),r.map(F=>e.jsx("option",{value:F,children:F},F))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Amount (UGX)"}),e.jsx("input",{type:"number",value:n.amount,onChange:F=>h({...n,amount:F.target.value}),placeholder:"0",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Date"}),e.jsx("input",{type:"date",value:n.date,onChange:F=>h({...n,date:F.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Payment Method"}),e.jsxs("select",{value:n.paymentMethod,onChange:F=>h({...n,paymentMethod:F.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"",children:"Select Payment Method"}),p.map(F=>e.jsx("option",{value:F,children:F},F))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Vendor"}),e.jsx("input",{type:"text",value:n.vendor,onChange:F=>h({...n,vendor:F.target.value}),placeholder:"Vendor name",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Department"}),e.jsxs("select",{value:n.department,onChange:F=>h({...n,department:F.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"",children:"Select Department"}),k.map(F=>e.jsx("option",{value:F,children:F},F))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Receipt Number"}),e.jsx("input",{type:"text",value:n.receiptNumber,onChange:F=>h({...n,receiptNumber:F.target.value}),placeholder:"RCP-2024-XXX",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsxs("button",{onClick:()=>{o(!1),T(null),h({description:"",category:"",amount:"",date:"",paymentMethod:"",vendor:"",department:"",receiptNumber:""})},className:"px-6 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[e.jsx(Qe,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancel"})]}),e.jsxs("button",{onClick:b?L:R,className:"px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsxs("span",{children:[b?"Update":"Add"," Expense"]})]})]})]})]})})]})})},Fl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("email"),[u,o]=t.useState([]),[b,T]=t.useState([]),[w,$]=t.useState(!1),[d,x]=t.useState(!1),[a,l]=t.useState({name:"",type:"email",trigger:"weekly",recipients:"parents",template:"",subject:"",content:""}),[n,h]=t.useState({name:"",type:"email",subject:"",content:"",variables:[],description:"",category:"general"}),S=s?"bg-gray-800 border border-gray-700":"bg-white",N=s?"text-white":"text-gray-900",g=s?"text-gray-300":"text-gray-600",c=s?"text-gray-400":"text-gray-500",r=j=>{switch(j){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=j=>j==="email"?e.jsx(ps,{className:"w-4 h-4"}):e.jsx(Fe,{className:"w-4 h-4"}),k=j=>{o(u.map(O=>O.id===j?{...O,status:O.status==="active"?"paused":"active"}:O))},m=j=>{window.confirm("Are you sure you want to delete this automation?")&&o(u.filter(O=>O.id!==j))},C=()=>{const j={id:Date.now(),...a,status:"draft",lastRun:null,nextRun:null,sent:0,opened:0,clicked:0};o([...u,j]),l({name:"",type:"email",trigger:"weekly",recipients:"parents",template:"",subject:"",content:""}),$(!1)},J=()=>{const j={id:Date.now(),...n,created_at:new Date().toISOString(),usage_count:0};T([...b,j]),h({name:"",type:"email",subject:"",content:"",variables:[],description:"",category:"general"}),x(!1),alert("✅ Template created successfully!")},_=j=>{n.variables.includes(j)||h({...n,variables:[...n.variables,j]})},z=j=>{h({...n,variables:n.variables.filter(O=>O!==j)})},B=u.reduce((j,O)=>j+O.sent,0),f=u.reduce((j,O)=>j+O.opened,0),R=u.reduce((j,O)=>j+O.clicked,0),D=B>0?(f/B*100).toFixed(1):0,L=f>0?(R/f*100).toFixed(1):0;return e.jsx("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:`${S} rounded-3xl shadow-2xl p-8 mb-8`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl p-4",children:e.jsx(xt,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${N}`,children:"AI Automation Hub"}),e.jsx("p",{className:`${g} mt-2`,children:"Automate emails, messages, and communications with AI"})]})]}),y==="admin"&&e.jsxs("button",{onClick:()=>$(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 flex items-center space-x-2 shadow-lg",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Automation"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Active Automations"}),e.jsx("p",{className:`${N} text-3xl font-bold mt-2`,children:u.filter(j=>j.status==="active").length})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(xt,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Messages Sent"}),e.jsx("p",{className:`${N} text-2xl font-bold mt-2`,children:B.toLocaleString()})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(Es,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Open Rate"}),e.jsxs("p",{className:`${N} text-2xl font-bold mt-2 text-green-600`,children:[D,"%"]})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(ps,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Click Rate"}),e.jsxs("p",{className:`${N} text-2xl font-bold mt-2 text-purple-600`,children:[L,"%"]})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(he,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Templates"}),e.jsx("p",{className:`${N} text-3xl font-bold mt-2`,children:b.length})]}),e.jsx("div",{className:"bg-orange-100 rounded-full p-3",children:e.jsx(ms,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl mb-8`,children:e.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"email",label:"Email Automations",icon:ps},{id:"messages",label:"Message Automations",icon:Fe},{id:"templates",label:"Templates",icon:ms},{id:"analytics",label:"Analytics",icon:de}].map(j=>e.jsxs("button",{onClick:()=>v(j.id),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 font-medium transition-colors ${i===j.id?"border-b-2 border-blue-500 text-blue-600 bg-blue-50":`${g} hover:${s?"text-white":"text-gray-900"}`}`,children:[e.jsx(j.icon,{className:"w-5 h-5"}),e.jsx("span",{children:j.label})]},j.id))})}),(i==="email"||i==="messages")&&e.jsxs("div",{className:`${S} rounded-2xl shadow-xl p-8`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:`text-xl font-semibold ${N}`,children:[i==="email"?"Email":"Message"," Automations"]}),e.jsxs("span",{className:`${c} text-sm`,children:[u.filter(j=>j.type===i).length," automations"]})]}),e.jsx("div",{className:"space-y-4",children:u.filter(j=>j.type===i).map(j=>e.jsxs("div",{className:`border rounded-xl p-6 hover:shadow-lg transition-shadow ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:p(j.type)}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold ${N}`,children:j.name}),e.jsxs("p",{className:`text-sm ${c}`,children:["Trigger: ",j.trigger," • Recipients: ",j.recipients]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${r(j.status)}`,children:[j.status==="active"?e.jsx(se,{className:"w-3 h-3 mr-1"}):e.jsx(ie,{className:"w-3 h-3 mr-1"}),j.status.charAt(0).toUpperCase()+j.status.slice(1)]}),y==="admin"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>k(j.id),className:`p-2 rounded-lg ${j.status==="active"?"text-yellow-600 hover:bg-yellow-50":"text-green-600 hover:bg-green-50"}`,children:j.status==="active"?e.jsx(aa,{className:"w-4 h-4"}):e.jsx(la,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 rounded-lg text-blue-600 hover:bg-blue-50",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m(j.id),className:"p-2 rounded-lg text-red-600 hover:bg-red-50",children:e.jsx(Rs,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-2xl font-bold ${N}`,children:j.sent}),e.jsx("p",{className:`text-xs ${c}`,children:"Sent"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.opened}),e.jsx("p",{className:`text-xs ${c}`,children:"Opened"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:j.clicked}),e.jsx("p",{className:`text-xs ${c}`,children:"Clicked"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[j.sent>0?(j.opened/j.sent*100).toFixed(1):0,"%"]}),e.jsx("p",{className:`text-xs ${c}`,children:"Open Rate"})]})]}),j.nextRun&&e.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-500",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),"Next run: ",j.nextRun]})]},j.id))})]}),i==="templates"&&e.jsxs("div",{className:`${S} rounded-2xl shadow-xl p-8`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-xl font-semibold ${N}`,children:"Message Templates"}),e.jsxs("button",{onClick:()=>x(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center space-x-2",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:"New Template"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map(j=>e.jsxs("div",{className:`border rounded-xl p-6 ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-purple-100 rounded-full p-2",children:p(j.type)}),e.jsx("h4",{className:`font-semibold ${N}`,children:j.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 rounded-lg text-blue-600 hover:bg-blue-50",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 rounded-lg text-red-600 hover:bg-red-50",children:e.jsx(Rs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${g}`,children:"Subject:"}),e.jsx("p",{className:`text-sm ${c}`,children:j.subject})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${g}`,children:"Content Preview:"}),e.jsx("p",{className:`text-sm ${c} line-clamp-3`,children:j.content})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${g}`,children:"Variables:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:j.variables.map((O,M)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:`{{${O}}}`},M))})]})]})]},j.id))})]}),i==="analytics"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:`${S} rounded-2xl shadow-xl p-8`,children:[e.jsx("h3",{className:`text-xl font-semibold ${N} mb-6`,children:"Performance Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-4",children:e.jsxs("span",{className:"text-white text-2xl font-bold",children:[D,"%"]})}),e.jsx("h4",{className:`font-semibold ${N}`,children:"Average Open Rate"}),e.jsx("p",{className:`text-sm ${c}`,children:"Industry average: 21.3%"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-4",children:e.jsxs("span",{className:"text-white text-2xl font-bold",children:[L,"%"]})}),e.jsx("h4",{className:`font-semibold ${N}`,children:"Average Click Rate"}),e.jsx("p",{className:`text-sm ${c}`,children:"Industry average: 2.6%"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:u.filter(j=>j.status==="active").length})}),e.jsx("h4",{className:`font-semibold ${N}`,children:"Active Campaigns"}),e.jsx("p",{className:`text-sm ${c}`,children:"Running automations"})]})]})]}),e.jsxs("div",{className:`${S} rounded-2xl shadow-xl p-8`,children:[e.jsx("h3",{className:`text-xl font-semibold ${N} mb-6`,children:"Recent Activity"}),e.jsx("div",{className:"space-y-4",children:u.slice(0,5).map(j=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:p(j.type)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${N}`,children:j.name}),e.jsxs("p",{className:`text-sm ${c}`,children:["Last run: ",j.lastRun||"Never"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-semibold ${N}`,children:[j.sent," sent"]}),e.jsxs("p",{className:`text-sm ${c}`,children:[j.opened," opened"]})]})]},j.id))})]})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${S} rounded-2xl shadow-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto`,children:[e.jsx("h2",{className:`text-2xl font-bold ${N} mb-6`,children:"Create New Automation"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Automation Name"}),e.jsx("input",{type:"text",value:a.name,onChange:j=>l({...a,name:j.target.value}),placeholder:"Enter automation name",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Type"}),e.jsxs("select",{value:a.type,onChange:j=>l({...a,type:j.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"message",children:"Message"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Trigger"}),e.jsxs("select",{value:a.trigger,onChange:j=>l({...a,trigger:j.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"due_date",children:"Due Date"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"event",children:"Event Based"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Recipients"}),e.jsxs("select",{value:a.recipients,onChange:j=>l({...a,recipients:j.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"parents",children:"Parents"}),e.jsx("option",{value:"students",children:"Students"}),e.jsx("option",{value:"teachers",children:"Teachers"}),e.jsx("option",{value:"all",children:"All Users"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Subject"}),e.jsx("input",{type:"text",value:a.subject,onChange:j=>l({...a,subject:j.target.value}),placeholder:"Enter email subject or message title",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Content"}),e.jsx("textarea",{value:a.content,onChange:j=>l({...a,content:j.target.value}),placeholder:"Enter message content. Use {{variable_name}} for dynamic content.",rows:6,className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>$(!1),className:"px-6 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:C,className:"px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors",children:"Create Automation"})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${S} rounded-2xl shadow-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold ${N}`,children:"Create New Template"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("form",{onSubmit:j=>{j.preventDefault(),J()},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Template Name *"}),e.jsx("input",{type:"text",required:!0,value:n.name,onChange:j=>h({...n,name:j.target.value}),placeholder:"Enter template name",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Template Type *"}),e.jsxs("select",{value:n.type,onChange:j=>h({...n,type:j.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"email",children:"Email Template"}),e.jsx("option",{value:"sms",children:"SMS Template"}),e.jsx("option",{value:"push",children:"Push Notification"}),e.jsx("option",{value:"in-app",children:"In-App Message"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Category"}),e.jsxs("select",{value:n.category,onChange:j=>h({...n,category:j.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"academic",children:"Academic"}),e.jsx("option",{value:"attendance",children:"Attendance"}),e.jsx("option",{value:"financial",children:"Financial"}),e.jsx("option",{value:"events",children:"Events"}),e.jsx("option",{value:"emergency",children:"Emergency"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Subject/Title *"}),e.jsx("input",{type:"text",required:!0,value:n.subject,onChange:j=>h({...n,subject:j.target.value}),placeholder:"Enter subject or title",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Description"}),e.jsx("textarea",{rows:"2",value:n.description,onChange:j=>h({...n,description:j.target.value}),placeholder:"Enter template description (optional)",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Message Content *"}),e.jsx("textarea",{rows:"6",required:!0,value:n.content,onChange:j=>h({...n,content:j.target.value}),placeholder:"Enter message content. Use {{variable_name}} for dynamic content.",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Available Variables"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-4",children:["student_name","parent_name","teacher_name","class_name","subject_name","grade","attendance_rate","fee_amount","due_date","school_name","current_date","term_name"].map(j=>e.jsx("button",{type:"button",onClick:()=>_(j),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${n.variables.includes(j)?"bg-blue-100 text-blue-800 border-blue-300":"bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200"}`,children:`{{${j}}}`},j))}),n.variables.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:`block ${g} text-sm font-medium mb-2`,children:"Selected Variables"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.variables.map(j=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[`{{${j}}}`,e.jsx("button",{type:"button",onClick:()=>z(j),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},j))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors",children:"Create Template"})]})]})]})})]})})},Il=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState({subject:"",topic:"",gradeLevel:"",duration:"",learningObjectives:"",standards:"",prerequisites:""}),[u,o]=t.useState(null),[b,T]=t.useState(!1),[w,$]=t.useState([{id:1,title:"Photosynthesis in Plants",subject:"Biology",grade:"S.3",duration:"2 weeks",createdAt:"2024-09-28",status:"completed"},{id:2,title:"Quadratic Equations",subject:"Mathematics",grade:"S.4",duration:"3 weeks",createdAt:"2024-09-25",status:"in_progress"}]),d=s?"bg-gray-800 border border-gray-700":"bg-white",x=s?"text-white":"text-gray-900",a=s?"text-gray-300":"text-gray-600",l=s?"text-gray-400":"text-gray-500",n=async()=>{T(!0),setTimeout(()=>{const S={title:i.topic,subject:i.subject,grade:i.gradeLevel,duration:i.duration,overview:`This unit plan covers ${i.topic} for ${i.gradeLevel} students over ${i.duration}. Students will explore key concepts through interactive activities and assessments.`,objectives:[`Understand the fundamental concepts of ${i.topic}`,"Apply knowledge through practical exercises","Analyze real-world applications","Evaluate different perspectives and approaches"],lessons:[{day:1,title:`Introduction to ${i.topic}`,duration:"40 minutes",activities:["Opening discussion","Concept introduction","Initial assessment"],materials:["Textbook","Whiteboard","Handouts"],assessment:"Formative - Class participation"},{day:2,title:"Core Concepts",duration:"40 minutes",activities:["Lecture","Group work","Practice exercises"],materials:["Slides","Worksheets","Calculator"],assessment:"Formative - Worksheet completion"},{day:3,title:"Practical Application",duration:"40 minutes",activities:["Lab work","Experiments","Data collection"],materials:["Lab equipment","Safety gear","Recording sheets"],assessment:"Summative - Lab report"}],assessments:[{type:"Formative",description:"Daily exit tickets",weight:"20%"},{type:"Summative",description:"Unit test",weight:"50%"},{type:"Project",description:"Research presentation",weight:"30%"}],resources:["UNEB Curriculum Guidelines","Recommended textbooks","Online resources and videos","Supplementary materials"]};o(S),T(!1)},3e3)},h=()=>{if(u){const S={id:Date.now(),title:u.title,subject:u.subject,grade:u.grade,duration:u.duration,createdAt:new Date().toISOString().split("T")[0],status:"draft"};$([S,...w]),alert("Unit plan saved successfully!")}};return e.jsx("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:`${d} rounded-3xl shadow-2xl p-8 mb-8`,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 rounded-2xl p-4",children:e.jsx(pe,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${x}`,children:"AI Unit Plan Generator"}),e.jsx("p",{className:`${a} mt-2`,children:"Generate comprehensive unit plans aligned with UNEB standards"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:`${d} rounded-2xl shadow-xl p-6`,children:[e.jsx("h3",{className:`text-xl font-semibold ${x} mb-6`,children:"Unit Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Subject"}),e.jsxs("select",{value:i.subject,onChange:S=>v({...i,subject:S.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"Mathematics",children:"Mathematics"}),e.jsx("option",{value:"English",children:"English"}),e.jsx("option",{value:"Biology",children:"Biology"}),e.jsx("option",{value:"Chemistry",children:"Chemistry"}),e.jsx("option",{value:"Physics",children:"Physics"}),e.jsx("option",{value:"History",children:"History"}),e.jsx("option",{value:"Geography",children:"Geography"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Topic/Unit Title"}),e.jsx("input",{type:"text",value:i.topic,onChange:S=>v({...i,topic:S.target.value}),placeholder:"e.g., Photosynthesis, Quadratic Equations",className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Grade Level"}),e.jsxs("select",{value:i.gradeLevel,onChange:S=>v({...i,gradeLevel:S.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"",children:"Select Grade"}),e.jsx("option",{value:"S.1",children:"S.1"}),e.jsx("option",{value:"S.2",children:"S.2"}),e.jsx("option",{value:"S.3",children:"S.3"}),e.jsx("option",{value:"S.4",children:"S.4"}),e.jsx("option",{value:"S.5",children:"S.5"}),e.jsx("option",{value:"S.6",children:"S.6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Duration"}),e.jsxs("select",{value:i.duration,onChange:S=>v({...i,duration:S.target.value}),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"",children:"Select Duration"}),e.jsx("option",{value:"1 week",children:"1 week"}),e.jsx("option",{value:"2 weeks",children:"2 weeks"}),e.jsx("option",{value:"3 weeks",children:"3 weeks"}),e.jsx("option",{value:"4 weeks",children:"4 weeks"}),e.jsx("option",{value:"1 month",children:"1 month"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${a} text-sm font-medium mb-2`,children:"Learning Objectives"}),e.jsx("textarea",{value:i.learningObjectives,onChange:S=>v({...i,learningObjectives:S.target.value}),placeholder:"What should students learn?",rows:3,className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]}),e.jsx("button",{onClick:n,disabled:!i.subject||!i.topic||!i.gradeLevel||b,className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-blue-700 transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50",children:b?e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Generating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Generate Unit Plan"})]})})]})]}),e.jsxs("div",{className:`${d} rounded-2xl shadow-xl p-6 mt-6`,children:[e.jsx("h3",{className:`text-xl font-semibold ${x} mb-4`,children:"Saved Plans"}),e.jsx("div",{className:"space-y-3",children:w.map(S=>e.jsxs("div",{className:`border rounded-lg p-4 ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsx("h4",{className:`font-medium ${x}`,children:S.title}),e.jsxs("p",{className:`text-sm ${l}`,children:[S.subject," • ",S.grade," • ",S.duration]}),e.jsxs("p",{className:`text-xs ${l}`,children:["Created: ",S.createdAt]})]},S.id))})]})]}),e.jsx("div",{className:"lg:col-span-2",children:u?e.jsxs("div",{className:`${d} rounded-2xl shadow-xl p-8`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-2xl font-bold ${x}`,children:u.title}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:h,className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center space-x-2",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:"Save"})]}),e.jsxs("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(be,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:`font-semibold ${x}`,children:u.subject}),e.jsx("p",{className:`text-sm ${l}`,children:"Subject"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(me,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:`font-semibold ${x}`,children:u.grade}),e.jsx("p",{className:`text-sm ${l}`,children:"Grade Level"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(ie,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:`font-semibold ${x}`,children:u.duration}),e.jsx("p",{className:`text-sm ${l}`,children:"Duration"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold ${x} mb-3`,children:"Unit Overview"}),e.jsx("p",{className:`${a}`,children:u.overview})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold ${x} mb-3`,children:"Learning Objectives"}),e.jsx("ul",{className:"space-y-2",children:u.objectives.map((S,N)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{className:`${a}`,children:S})]},N))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold ${x} mb-3`,children:"Daily Lesson Plans"}),e.jsx("div",{className:"space-y-4",children:u.lessons.map((S,N)=>e.jsxs("div",{className:`border rounded-lg p-4 ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h5",{className:`font-semibold ${x}`,children:["Day ",S.day,": ",S.title]}),e.jsx("span",{className:`text-sm ${l}`,children:S.duration})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${a} mb-1`,children:"Activities:"}),e.jsx("ul",{className:`${l} space-y-1`,children:S.activities.map((g,c)=>e.jsxs("li",{children:["• ",g]},c))})]}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${a} mb-1`,children:"Materials:"}),e.jsx("ul",{className:`${l} space-y-1`,children:S.materials.map((g,c)=>e.jsxs("li",{children:["• ",g]},c))})]}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${a} mb-1`,children:"Assessment:"}),e.jsx("p",{className:`${l}`,children:S.assessment})]})]})]},N))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold ${x} mb-3`,children:"Assessment Strategy"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:u.assessments.map((S,N)=>e.jsxs("div",{className:`border rounded-lg p-4 ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsx("h5",{className:`font-semibold ${x} mb-2`,children:S.type}),e.jsx("p",{className:`text-sm ${a} mb-2`,children:S.description}),e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:S.weight})]},N))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold ${x} mb-3`,children:"Resources & Materials"}),e.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:u.resources.map((S,N)=>e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:`${a}`,children:S})]},N))})]})]})]}):e.jsxs("div",{className:`${d} rounded-2xl shadow-xl p-8 text-center`,children:[e.jsx(pe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:`text-xl font-semibold ${x} mb-2`,children:"AI Unit Plan Generator"}),e.jsx("p",{className:`${a} mb-6`,children:'Fill in the details on the left and click "Generate Unit Plan" to create a comprehensive, UNEB-aligned unit plan.'}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:`${a}`,children:"UNEB Standards Aligned"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:`${a}`,children:"Detailed Lesson Plans"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:`${a}`,children:"Assessment Strategies"})]})]})]})})]})]})})},Ll=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("assignment-scaffolder"),[u,o]=t.useState(!1),b=s?"bg-gray-800 border border-gray-700":"bg-white",T=s?"text-white":"text-gray-900",w=s?"text-gray-300":"text-gray-600",$=s?"text-gray-400":"text-gray-500",d=[{id:"assignment-scaffolder",label:"Assignment Scaffolder",icon:Ce,color:"blue"},{id:"science-labs",label:"Science Labs",icon:sa,color:"green"},{id:"language-tutor",label:"Language Tutor",icon:Ms,color:"purple"},{id:"research-assistant",label:"Research Assistant",icon:re,color:"orange"},{id:"group-work",label:"Group Work Generator",icon:me,color:"pink"},{id:"text-summarizer",label:"Text Summarizer",icon:re,color:"indigo"},{id:"social-stories",label:"Social Stories",icon:Fe,color:"teal"},{id:"jeopardy-game",label:"Jeopardy Review",icon:xs,color:"yellow"},{id:"dok-questions",label:"DOK Questions",icon:ea,color:"red"}],x=()=>{const[n,h]=t.useState({assignment:"",gradeLevel:"",subject:"",difficulty:"medium",steps:5}),[S,N]=t.useState([]),g=async()=>{o(!0),setTimeout(()=>{N([{step:1,title:"Research and Planning",description:"Gather information and create an outline",timeEstimate:"30 minutes"},{step:2,title:"Introduction Draft",description:"Write a compelling introduction paragraph",timeEstimate:"20 minutes"},{step:3,title:"Body Paragraphs",description:"Develop main points with supporting evidence",timeEstimate:"45 minutes"},{step:4,title:"Conclusion",description:"Summarize key points and provide closure",timeEstimate:"15 minutes"},{step:5,title:"Review and Edit",description:"Proofread and refine your work",timeEstimate:"20 minutes"}]),o(!1)},2e3)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${b} rounded-xl p-6`,children:[e.jsx("h3",{className:`text-xl font-bold ${T} mb-4`,children:"Assignment Scaffolder"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Assignment title or description",value:n.assignment,onChange:c=>h({...n,assignment:c.target.value}),className:`px-4 py-3 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),e.jsxs("select",{value:n.gradeLevel,onChange:c=>h({...n,gradeLevel:c.target.value}),className:`px-4 py-3 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select Grade Level"}),e.jsx("option",{value:"S1",children:"Senior 1"}),e.jsx("option",{value:"S2",children:"Senior 2"}),e.jsx("option",{value:"S3",children:"Senior 3"}),e.jsx("option",{value:"S4",children:"Senior 4"}),e.jsx("option",{value:"S5",children:"Senior 5"}),e.jsx("option",{value:"S6",children:"Senior 6"})]})]}),e.jsx("button",{onClick:g,disabled:u||!n.assignment,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:u?"Generating...":"Generate Scaffold"})]}),S.length>0&&e.jsxs("div",{className:`${b} rounded-xl p-6`,children:[e.jsx("h4",{className:`text-lg font-semibold ${T} mb-4`,children:"Scaffolded Steps"}),e.jsx("div",{className:"space-y-4",children:S.map(c=>e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsxs("h5",{className:`font-medium ${T}`,children:["Step ",c.step,": ",c.title]}),e.jsx("p",{className:`${w} text-sm`,children:c.description}),e.jsxs("span",{className:`${$} text-xs`,children:["Estimated time: ",c.timeEstimate]})]},c.step))})]})]})},a=()=>{const[n,h]=t.useState({topic:"",standard:"",duration:"60",materials:[],safetyLevel:"medium"}),[S,N]=t.useState(null),g=async()=>{o(!0),setTimeout(()=>{N({title:"Chemical Reactions Lab",objective:"Students will observe and analyze different types of chemical reactions",materials:["Test tubes","Bunsen burner","Safety goggles","Various chemicals"],procedure:["Set up safety equipment","Prepare chemical solutions","Conduct reaction experiments","Record observations","Analyze results"],safety:["Wear safety goggles at all times","Handle chemicals carefully","Report spills immediately"]}),o(!1)},2e3)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${b} rounded-xl p-6`,children:[e.jsx("h3",{className:`text-xl font-bold ${T} mb-4`,children:"Science Lab Generator"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Lab topic (e.g., Chemical Reactions)",value:n.topic,onChange:c=>h({...n,topic:c.target.value}),className:`px-4 py-3 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),e.jsx("input",{type:"text",placeholder:"Learning standard",value:n.standard,onChange:c=>h({...n,standard:c.target.value}),className:`px-4 py-3 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsx("button",{onClick:g,disabled:u||!n.topic,className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 disabled:opacity-50",children:u?"Generating Lab...":"Generate Science Lab"})]}),S&&e.jsxs("div",{className:`${b} rounded-xl p-6`,children:[e.jsx("h4",{className:`text-lg font-semibold ${T} mb-4`,children:S.title}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium ${T}`,children:"Objective:"}),e.jsx("p",{className:`${w}`,children:S.objective})]}),e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium ${T}`,children:"Materials:"}),e.jsx("ul",{className:`${w} list-disc list-inside`,children:S.materials.map((c,r)=>e.jsx("li",{children:c},r))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium ${T}`,children:"Procedure:"}),e.jsx("ol",{className:`${w} list-decimal list-inside`,children:S.procedure.map((c,r)=>e.jsx("li",{children:c},r))})]})]})]})]})},l=()=>{var n;switch(i){case"assignment-scaffolder":return e.jsx(x,{});case"science-labs":return e.jsx(a,{});default:return e.jsxs("div",{className:`${b} rounded-xl p-8 text-center`,children:[e.jsx(mt,{className:`w-16 h-16 ${$} mx-auto mb-4`}),e.jsx("h3",{className:`text-xl font-semibold ${T} mb-2`,children:(n=d.find(h=>h.id===i))==null?void 0:n.label}),e.jsx("p",{className:`${w}`,children:"This AI tool is coming soon!"})]})}};return e.jsx("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl lg:text-4xl font-bold ${T} mb-2`,children:"AI Teaching Tools"}),e.jsx("p",{className:`${w} text-lg`,children:"Enhance your teaching with AI-powered tools"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:`${b} rounded-xl p-4`,children:[e.jsx("h3",{className:`text-lg font-semibold ${T} mb-4`,children:"AI Tools"}),e.jsx("div",{className:"space-y-2",children:d.map(n=>{const h=n.icon;return e.jsxs("button",{onClick:()=>v(n.id),className:`w-full flex items-center space-x-3 p-3 rounded-lg transition-colors ${i===n.id?"bg-blue-100 text-blue-700":`${w} hover:bg-gray-100`}`,children:[e.jsx(h,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:n.label})]},n.id)})})]})}),e.jsx("div",{className:"lg:col-span-3",children:l()})]})]})})},Bl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("text-summarizer"),[u,o]=t.useState(!1),b=s?"bg-gray-800 border border-gray-700":"bg-white",T=s?"text-white":"text-gray-900",w=s?"text-gray-300":"text-gray-600",$=s?"text-gray-400":"text-gray-500",d=[{id:"text-summarizer",label:"Text Summarizer",icon:re,color:"blue"},{id:"vocabulary-generator",label:"Vocabulary Generator",icon:be,color:"green"},{id:"language-tutor",label:"Language Tutor",icon:Ms,color:"purple"},{id:"career-counselor",label:"Career Counselor",icon:ma,color:"orange"}],x=()=>{const[n,h]=t.useState({text:"",length:"medium",subject:"",focusArea:"general"}),[S,N]=t.useState(null),g=async()=>{if(n.text.trim()){o(!0);try{setTimeout(()=>{const c=n.text.split(" ").length;let r;switch(n.length){case"short":r=Math.max(50,Math.floor(c*.1));break;case"long":r=Math.max(200,Math.floor(c*.4));break;default:r=Math.max(100,Math.floor(c*.25))}N({originalLength:c,summaryLength:r,compressionRatio:`${(r/c*100).toFixed(1)}%`,summary:`This is a ${n.length} AI-generated summary of your text. The main concepts include key ideas, important details, and essential conclusions from the original content. The summary maintains the core message while reducing length for easier comprehension and study purposes.`,keyPoints:["Primary concept identified in the original text","Important supporting details and evidence","Key conclusions and implications","Relevant examples and applications"],readingTime:`${Math.ceil(r/200)} minute${Math.ceil(r/200)>1?"s":""}`,difficulty:"Intermediate",subject:n.subject||"General"}),o(!1)},2e3)}catch(c){console.error("Error generating summary:",c),o(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${b} rounded-xl p-6`,children:[e.jsxs("h3",{className:`text-xl font-bold ${T} mb-4 flex items-center`,children:[e.jsx(re,{className:"w-6 h-6 mr-2 text-blue-500"}),"AI Text Summarizer"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${w} mb-2`,children:"Paste your text here *"}),e.jsx("textarea",{rows:8,value:n.text,onChange:c=>h({...n,text:c.target.value}),placeholder:"Paste the text you want to summarize...",className:`w-full px-4 py-3 border rounded-lg resize-none ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),e.jsxs("p",{className:`text-xs ${$} mt-1`,children:[n.text.split(" ").filter(c=>c.length>0).length," words"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${w} mb-2`,children:"Summary Length"}),e.jsxs("select",{value:n.length,onChange:c=>h({...n,length:c.target.value}),className:`w-full px-4 py-3 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"short",children:"Short (10% of original)"}),e.jsx("option",{value:"medium",children:"Medium (25% of original)"}),e.jsx("option",{value:"long",children:"Long (40% of original)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${w} mb-2`,children:"Subject (Optional)"}),e.jsx("input",{type:"text",value:n.subject,onChange:c=>h({...n,subject:c.target.value}),placeholder:"e.g., Biology, History",className:`w-full px-4 py-3 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${w} mb-2`,children:"Focus Area"}),e.jsxs("select",{value:n.focusArea,onChange:c=>h({...n,focusArea:c.target.value}),className:`w-full px-4 py-3 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"general",children:"General Summary"}),e.jsx("option",{value:"key-concepts",children:"Key Concepts"}),e.jsx("option",{value:"study-notes",children:"Study Notes"}),e.jsx("option",{value:"exam-prep",children:"Exam Preparation"})]})]})]}),e.jsx("button",{onClick:g,disabled:u||!n.text.trim(),className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-blue-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Generating Summary..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ss,{className:"w-5 h-5"}),e.jsx("span",{children:"Generate Summary"})]})})]})]}),S&&e.jsxs("div",{className:`${b} rounded-xl p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:`text-lg font-semibold ${T}`,children:"AI Generated Summary"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Copy Summary",children:e.jsx(Kt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:e.jsx(Ne,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Share",children:e.jsx(Js,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S.originalLength}),e.jsx("p",{className:`text-xs ${$}`,children:"Original Words"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.summaryLength}),e.jsx("p",{className:`text-xs ${$}`,children:"Summary Words"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:S.compressionRatio}),e.jsx("p",{className:`text-xs ${$}`,children:"Compression"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:S.readingTime}),e.jsx("p",{className:`text-xs ${$}`,children:"Reading Time"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium ${T} mb-2`,children:"Summary:"}),e.jsx("p",{className:`${w} leading-relaxed`,children:S.summary})]}),e.jsxs("div",{children:[e.jsx("h5",{className:`font-medium ${T} mb-2`,children:"Key Points:"}),e.jsx("ul",{className:`${w} space-y-1`,children:S.keyPoints.map((c,r)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:c})]},r))})]})]})]})]})},a=()=>{const[n,h]=t.useState({source:"topic",topic:"",text:"",subject:"",level:"intermediate",count:20}),[S,N]=t.useState(null),g=async()=>{o(!0);try{setTimeout(()=>{const c=[{word:"Photosynthesis",definition:"The process by which plants make food using sunlight",difficulty:"Advanced",usage:"Plants use photosynthesis to convert sunlight into energy."},{word:"Chlorophyll",definition:"The green pigment in plants that captures light energy",difficulty:"Intermediate",usage:"Chlorophyll gives leaves their green color."},{word:"Glucose",definition:"A simple sugar produced during photosynthesis",difficulty:"Intermediate",usage:"Glucose is the main product of photosynthesis."},{word:"Stomata",definition:"Small pores on leaves that allow gas exchange",difficulty:"Advanced",usage:"Carbon dioxide enters the plant through stomata."},{word:"Respiration",definition:"The process of breaking down glucose to release energy",difficulty:"Intermediate",usage:"Cellular respiration occurs in all living organisms."}];N({source:n.source==="topic"?n.topic:"Custom Text",subject:n.subject,level:n.level,totalWords:c.length,words:c,categories:{Beginner:c.filter(r=>r.difficulty==="Beginner").length,Intermediate:c.filter(r=>r.difficulty==="Intermediate").length,Advanced:c.filter(r=>r.difficulty==="Advanced").length}}),o(!1)},2e3)}catch(c){console.error("Error generating vocabulary:",c),o(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${b} rounded-xl p-6`,children:[e.jsxs("h3",{className:`text-xl font-bold ${T} mb-4 flex items-center`,children:[e.jsx(be,{className:"w-6 h-6 mr-2 text-green-500"}),"Vocabulary List Generator"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${w} mb-2`,children:"Generate vocabulary from:"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"topic",checked:n.source==="topic",onChange:c=>h({...n,source:c.target.value}),className:"mr-2"}),e.jsx("span",{className:w,children:"Subject/Topic"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"text",checked:n.source==="text",onChange:c=>h({...n,source:c.target.value}),className:"mr-2"}),e.jsx("span",{className:w,children:"Custom Text"})]})]})]}),n.source==="topic"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${w} mb-2`,children:"Subject"}),e.jsx("input",{type:"text",value:n.subject,onChange:c=>h({...n,subject:c.target.value}),placeholder:"e.g., Biology, Chemistry",className:`w-full px-4 py-3 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${w} mb-2`,children:"Topic"}),e.jsx("input",{type:"text",value:n.topic,onChange:c=>h({...n,topic:c.target.value}),placeholder:"e.g., Photosynthesis, Cell Division",className:`w-full px-4 py-3 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}):e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${w} mb-2`,children:"Text Content"}),e.jsx("textarea",{rows:6,value:n.text,onChange:c=>h({...n,text:c.target.value}),placeholder:"Paste your text here to extract vocabulary...",className:`w-full px-4 py-3 border rounded-lg resize-none ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${w} mb-2`,children:"Difficulty Level"}),e.jsxs("select",{value:n.level,onChange:c=>h({...n,level:c.target.value}),className:`w-full px-4 py-3 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"}),e.jsx("option",{value:"mixed",children:"Mixed Levels"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${w} mb-2`,children:"Number of Words"}),e.jsxs("select",{value:n.count,onChange:c=>h({...n,count:parseInt(c.target.value)}),className:`w-full px-4 py-3 border rounded-lg ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:10,children:"10 words"}),e.jsx("option",{value:20,children:"20 words"}),e.jsx("option",{value:30,children:"30 words"}),e.jsx("option",{value:50,children:"50 words"})]})]})]}),e.jsx("button",{onClick:g,disabled:u||n.source==="topic"&&!n.topic||n.source==="text"&&!n.text,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-lg hover:from-green-600 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Generating Vocabulary..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-5 h-5"}),e.jsx("span",{children:"Generate Vocabulary List"})]})})]})]}),S&&e.jsxs("div",{className:`${b} rounded-xl p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:`text-lg font-semibold ${T}`,children:"Generated Vocabulary"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Study Mode",children:e.jsx(pe,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:e.jsx(Ne,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600",children:S.totalWords}),e.jsx("p",{className:`text-xs ${$}`,children:"Total Words"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-green-600",children:S.categories.Intermediate}),e.jsx("p",{className:`text-xs ${$}`,children:"Intermediate"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-red-600",children:S.categories.Advanced}),e.jsx("p",{className:`text-xs ${$}`,children:"Advanced"})]})]}),e.jsx("div",{className:"space-y-4",children:S.words.map((c,r)=>e.jsxs("div",{className:`border rounded-lg p-4 ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:`text-lg font-semibold ${T}`,children:c.word}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c.difficulty==="Advanced"?"bg-red-100 text-red-800":c.difficulty==="Intermediate"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:c.difficulty})]}),e.jsx("p",{className:`${w} mb-2`,children:c.definition}),e.jsxs("p",{className:`${$} text-sm italic`,children:["Example: ",c.usage]})]},r))})]})]})},l=()=>{var n;switch(i){case"text-summarizer":return e.jsx(x,{});case"vocabulary-generator":return e.jsx(a,{});case"language-tutor":case"career-counselor":return e.jsxs("div",{className:`${b} rounded-xl p-8 text-center`,children:[e.jsx(mt,{className:`w-16 h-16 ${$} mx-auto mb-4`}),e.jsx("h3",{className:`text-xl font-semibold ${T} mb-2`,children:(n=d.find(h=>h.id===i))==null?void 0:n.label}),e.jsx("p",{className:`${w}`,children:"This AI learning tool is coming soon!"})]});default:return null}};return e.jsx("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl lg:text-4xl font-bold ${T} mb-2`,children:"AI Learning Tools"}),e.jsx("p",{className:`${w} text-lg`,children:"Enhance your learning with AI-powered study tools"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:`${b} rounded-xl p-4`,children:[e.jsx("h3",{className:`text-lg font-semibold ${T} mb-4`,children:"Learning Tools"}),e.jsx("div",{className:"space-y-2",children:d.map(n=>{const h=n.icon;return e.jsxs("button",{onClick:()=>v(n.id),className:`w-full flex items-center space-x-3 p-3 rounded-lg transition-colors ${i===n.id?"bg-blue-100 text-blue-700":`${w} hover:bg-gray-100 ${s?"hover:bg-gray-700":""}`}`,children:[e.jsx(h,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:n.label})]},n.id)})})]})}),e.jsx("div",{className:"lg:col-span-3",children:l()})]})]})})},Ml=({userRole:y,currentUser:A,darkMode:s=!1,setActiveTab:i})=>{const[v,u]=t.useState("sarah"),[o,b]=t.useState(!1),[T,w]=t.useState(""),$=s?"bg-gray-800 border border-gray-700":"bg-white",d=s?"text-white":"text-gray-900",x=s?"text-gray-300":"text-gray-600",a=s?"text-gray-400":"text-gray-500",l=[],n={},h={name:"—",class:"",photo:""},S=l.find(m=>m.id===v)||h,N={currentGPA:0,classRank:0,totalStudents:0,attendanceRate:0,behaviorScore:0,subjects:[],recentTests:[],teacherComments:[],achievements:[],concerns:[]},g=n[v]||N,c=m=>{switch(m){case"improving":return e.jsx(he,{className:"w-4 h-4 text-green-500"});case"declining":return e.jsx(he,{className:"w-4 h-4 text-red-500 rotate-180"});default:return e.jsx(Le,{className:"w-4 h-4 text-gray-500"})}},r=()=>{k("Opening messaging panel..."),i&&setTimeout(()=>i("messaging"),500)},p=()=>{k("Generating report..."),setTimeout(()=>k("Report downloaded!"),2e3)},k=m=>{w(m),b(!0),setTimeout(()=>b(!1),3e3)};return e.jsxs("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"} relative`,children:[o&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white"} border rounded-xl shadow-2xl p-4 flex items-center space-x-3 min-w-[300px]`,children:[e.jsx(se,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),e.jsx("p",{className:`${d} text-sm font-medium`,children:T})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl lg:text-4xl font-bold ${d} mb-2`,children:"Child Analytics"}),e.jsx("p",{className:`${x} text-lg`,children:"Monitor your child's academic progress and performance"})]}),e.jsx("div",{className:"mt-4 lg:mt-0",children:l.length===0?e.jsx("div",{className:`${x}`,children:"No children available"}):e.jsx("select",{value:v,onChange:m=>u(m.target.value),className:`px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:l.map(m=>e.jsxs("option",{value:m.id,children:[m.name," - ",m.class]},m.id))})})]}),e.jsx("div",{className:`${$} rounded-2xl shadow-xl p-6 mb-8`,children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("img",{src:S.photo,alt:S.name,className:"w-20 h-20 rounded-full object-cover border-4 border-blue-200"}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${d}`,children:S.name}),e.jsx("p",{className:`${x} text-lg`,children:S.class})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:`${$} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${a} text-sm font-medium`,children:"Current GPA"}),e.jsx("p",{className:`${d} text-3xl font-bold mt-2`,children:g.currentGPA}),e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Rank #",g.classRank," of ",g.totalStudents]})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(Se,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:`${$} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${a} text-sm font-medium`,children:"Attendance"}),e.jsxs("p",{className:`${d} text-3xl font-bold mt-2`,children:[g.attendanceRate,"%"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Excellent"})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(ie,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:`${$} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${a} text-sm font-medium`,children:"Behavior"}),e.jsx("p",{className:`${d} text-3xl font-bold mt-2`,children:g.behaviorScore}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Outstanding"})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(Ie,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:`${$} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${a} text-sm font-medium`,children:"Subjects"}),e.jsx("p",{className:`${d} text-3xl font-bold mt-2`,children:g.subjects.length}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Enrolled"})]}),e.jsx("div",{className:"bg-orange-100 rounded-full p-3",children:e.jsx(be,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsxs("div",{className:`${$} rounded-2xl shadow-xl p-6 mb-8`,children:[e.jsx("h3",{className:`text-xl font-bold ${d} mb-6`,children:"Subject Performance"}),e.jsx("div",{className:"space-y-4",children:g.subjects.map((m,C)=>e.jsxs("div",{className:`border rounded-xl p-4 ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold ${d}`,children:m.name}),e.jsxs("p",{className:`text-sm ${a}`,children:["Teacher: ",m.teacher]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[c(m.trend),e.jsxs("span",{className:`text-2xl font-bold ${d}`,children:[m.grade,"%"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full",style:{width:`${m.grade}%`}})})]},C))})]}),e.jsxs("div",{className:`${$} rounded-2xl shadow-xl p-6 mb-8`,children:[e.jsx("h3",{className:`text-xl font-bold ${d} mb-6`,children:"Recent Test Results"}),e.jsx("div",{className:"space-y-4",children:g.recentTests.map((m,C)=>e.jsx("div",{className:`border rounded-xl p-4 ${s?"border-gray-600":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:`font-semibold ${d}`,children:[m.subject," - ",m.type]}),e.jsx("p",{className:`text-sm ${a}`,children:m.date})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:`text-2xl font-bold ${d}`,children:[m.score,"%"]})})]})},C))})]}),e.jsxs("div",{className:`${$} rounded-2xl shadow-xl p-6 mb-8`,children:[e.jsx("h3",{className:`text-xl font-bold ${d} mb-6`,children:"Teacher Comments"}),e.jsx("div",{className:"space-y-4",children:g.teacherComments.map((m,C)=>e.jsxs("div",{className:`border-l-4 border-blue-500 pl-4 py-3 ${s?"bg-gray-700":"bg-blue-50"} rounded-r-lg`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:`font-semibold ${d}`,children:m.subject}),e.jsx("span",{className:`text-sm ${a}`,children:m.teacher})]}),e.jsx("p",{className:x,children:m.comment})]},C))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:`${$} rounded-2xl shadow-xl p-6`,children:[e.jsxs("h3",{className:`text-xl font-bold ${d} mb-4 flex items-center`,children:[e.jsx(Ie,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Achievements"]}),e.jsx("div",{className:"space-y-3",children:g.achievements.map((m,C)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(se,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:x,children:m})]},C))})]}),e.jsxs("div",{className:`${$} rounded-2xl shadow-xl p-6`,children:[e.jsxs("h3",{className:`text-xl font-bold ${d} mb-4 flex items-center`,children:[e.jsx(oe,{className:"w-6 h-6 mr-2 text-orange-500"}),"Areas for Attention"]}),e.jsx("div",{className:"space-y-3",children:g.concerns.map((m,C)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(oe,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:x,children:m})]},C))})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[e.jsxs("button",{onClick:r,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(Fe,{className:"w-5 h-5"}),e.jsx("span",{children:"Message Teachers"})]}),e.jsxs("button",{onClick:p,className:"bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-xl hover:from-orange-600 hover:to-red-700 transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsx("span",{children:"Download Report"})]})]})]})]})},Gl=({userRole:y,currentUser:A,darkMode:s=!1,setActiveTab:i})=>{const[v,u]=t.useState("sarah"),[o,b]=t.useState("term"),[T,w]=t.useState("all"),[$,d]=t.useState(!1),[x,a]=t.useState(!1),[l,n]=t.useState(""),h=s?"bg-gray-800 border border-gray-700":"bg-white",S=s?"text-white":"text-gray-900",N=s?"text-gray-300":"text-gray-600",g=s?"text-gray-400":"text-gray-500",c=[{id:"sarah",name:"Sarah Johnson",class:"Grade 8A"},{id:"mike",name:"Mike Johnson",class:"Grade 6B"},{id:"emma",name:"Emma Johnson",class:"Grade 10C"}],r={sarah:{overallTrend:"up",currentGPA:3.8,previousGPA:3.5,gpaChange:"+0.3",subjects:[{name:"Mathematics",current:85,previous:78,trend:"up",change:"+7%"},{name:"English",current:92,previous:88,trend:"up",change:"+4%"},{name:"Science",current:88,previous:90,trend:"down",change:"-2%"},{name:"History",current:90,previous:85,trend:"up",change:"+5%"},{name:"Art",current:95,previous:92,trend:"up",change:"+3%"}],students:[{name:"Sarah",trend:"up"},{name:"Alex",trend:"up"},{name:"Maria",trend:"down"},{name:"John",trend:"up"},{name:"Lisa",trend:"up"}],monthlyTrends:[{month:"Jan",gpa:3.2},{month:"Feb",gpa:3.4},{month:"Mar",gpa:3.5},{month:"Apr",gpa:3.6},{month:"May",gpa:3.7},{month:"Jun",gpa:3.8}],strengths:["Strong analytical thinking in Mathematics","Excellent writing skills in English","Creative problem-solving abilities","Good presentation skills","Consistent attendance and participation"],concerns:["Science lab reports need more detail","Time management during exams","Group project collaboration skills"],recommendations:["Focus on detailed explanations in Science assignments","Practice time management techniques for exams","Participate in more group activities to improve collaboration","Consider joining the Math club to further develop analytical skills","Schedule regular study sessions for Science concepts"]},mike:{overallTrend:"stable",currentGPA:3.2,previousGPA:3.2,gpaChange:"0.0",subjects:[{name:"Mathematics",current:75,previous:72,trend:"up",change:"+3%"},{name:"English",current:80,previous:82,trend:"down",change:"-2%"},{name:"Science",current:78,previous:75,trend:"up",change:"+3%"},{name:"Social Studies",current:85,previous:85,trend:"stable",change:"0%"},{name:"PE",current:95,previous:90,trend:"up",change:"+5%"}],students:[{name:"Mike",trend:"stable"},{name:"Tom",trend:"up"},{name:"Anna",trend:"down"},{name:"Ben",trend:"up"},{name:"Kate",trend:"stable"}],monthlyTrends:[{month:"Jan",gpa:3},{month:"Feb",gpa:3.1},{month:"Mar",gpa:3.2},{month:"Apr",gpa:3.1},{month:"May",gpa:3.2},{month:"Jun",gpa:3.2}],strengths:["Excellent physical fitness and sports performance","Good social skills and teamwork","Consistent effort in all subjects","Positive attitude towards learning"],concerns:["Reading comprehension needs improvement","Mathematical problem-solving strategies","Writing organization and structure"],recommendations:["Practice reading comprehension exercises daily","Use visual aids for mathematical concepts","Work on essay structure and organization","Join study groups for peer learning"]},emma:{overallTrend:"up",currentGPA:4,previousGPA:3.8,gpaChange:"+0.2",subjects:[{name:"Advanced Math",current:95,previous:92,trend:"up",change:"+3%"},{name:"Literature",current:98,previous:95,trend:"up",change:"+3%"},{name:"Chemistry",current:92,previous:88,trend:"up",change:"+4%"},{name:"Physics",current:90,previous:85,trend:"up",change:"+5%"},{name:"Economics",current:96,previous:94,trend:"up",change:"+2%"}],students:[{name:"Emma",trend:"up"},{name:"David",trend:"up"},{name:"Sophie",trend:"up"},{name:"Ryan",trend:"down"},{name:"Grace",trend:"up"}],monthlyTrends:[{month:"Jan",gpa:3.6},{month:"Feb",gpa:3.7},{month:"Mar",gpa:3.8},{month:"Apr",gpa:3.9},{month:"May",gpa:3.9},{month:"Jun",gpa:4}],strengths:["Exceptional analytical and critical thinking","Outstanding research and writing abilities","Strong leadership qualities","Excellent time management and organization","Advanced problem-solving skills"],concerns:["Consider challenging yourself with advanced courses","Balance academic excellence with extracurricular activities"],recommendations:["Consider enrolling in AP courses for advanced subjects","Participate in academic competitions and science fairs","Mentor younger students to develop leadership skills","Explore university-level courses or programs","Maintain work-life balance with recreational activities"]}},p={overallTrend:"stable",currentGPA:0,previousGPA:0,gpaChange:"0",subjects:[],students:[],monthlyTrends:[],strengths:[],concerns:[],recommendations:[]},k=r[v]||p,m=f=>{switch(f){case"up":return e.jsx(Qt,{className:"w-4 h-4 text-green-500"});case"down":return e.jsx(Yt,{className:"w-4 h-4 text-red-500"});default:return e.jsx(Et,{className:"w-4 h-4 text-gray-500"})}},C=f=>{switch(f){case"up":return"text-green-600 bg-green-50";case"down":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},J=async()=>{d(!0),B("Refreshing performance trends data...");try{await new Promise(f=>setTimeout(f,2e3)),B("✅ Performance trends data refreshed successfully! Latest performance metrics and trend analysis updated.")}catch(f){console.error("Error refreshing performance data:",f),B("❌ Error refreshing data. Please check your connection and try again.")}finally{d(!1)}},_=()=>{B("Opening messaging panel..."),i?i("messaging"):B("⚠️ Navigation not available. Please use the sidebar menu.")},z=async()=>{B("Configuring performance trend alerts...");try{await new Promise(f=>setTimeout(f,1500)),B(`✅ Performance trend alerts configured successfully! You will receive notifications for:
• Significant performance drops
• Grade changes (up or down)
• Trend reversals
• Subject-specific performance issues
• Weekly performance summaries`)}catch(f){console.error("Error setting alerts:",f),B("❌ Error configuring alerts. Please try again.")}},B=f=>{n(f),a(!0),setTimeout(()=>a(!1),3e3)};return e.jsxs("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"} relative`,children:[x&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white"} border rounded-xl shadow-2xl p-4 flex items-center space-x-3 min-w-[300px]`,children:[e.jsx(se,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),e.jsx("p",{className:`${S} text-sm font-medium`,children:l})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl lg:text-4xl font-bold ${S} mb-2`,children:"Performance Trends"}),e.jsx("p",{className:`${N} text-lg`,children:"Track your child's academic progress over time"})]}),e.jsx("div",{className:"mt-4 lg:mt-0 flex space-x-4",children:e.jsxs("button",{onClick:async()=>{try{alert(`📊 Generating Performance Report...

Please wait while we compile your child's performance data.`);const f=async()=>{try{const R=await fetch("/api/performance-trends/export",{method:"GET",headers:{"Content-Type":"application/json"}});if(R.ok)return await R.json()}catch{console.log("API not available, using sample data")}return{studentName:v||"Student",reportDate:new Date().toISOString().split("T")[0],performanceData:[{date:"2024-01-15",subject:"Mathematics",grade:"A",assignmentType:"Quiz",teacher:"Ms. Johnson",comments:"Excellent work on algebra"},{date:"2024-01-20",subject:"English",grade:"B+",assignmentType:"Essay",teacher:"Mr. Smith",comments:"Good analysis, needs more detail"},{date:"2024-01-25",subject:"Science",grade:"A-",assignmentType:"Lab Report",teacher:"Dr. Brown",comments:"Well-structured experiment"},{date:"2024-01-30",subject:"History",grade:"B",assignmentType:"Test",teacher:"Ms. Davis",comments:"Good understanding of concepts"},{date:"2024-02-05",subject:"Mathematics",grade:"A-",assignmentType:"Test",teacher:"Ms. Johnson",comments:"Strong problem-solving skills"},{date:"2024-02-10",subject:"English",grade:"A",assignmentType:"Presentation",teacher:"Mr. Smith",comments:"Excellent presentation skills"},{date:"2024-02-15",subject:"Science",grade:"B+",assignmentType:"Project",teacher:"Dr. Brown",comments:"Good research methodology"},{date:"2024-02-20",subject:"History",grade:"A-",assignmentType:"Essay",teacher:"Ms. Davis",comments:"Well-argued historical analysis"}],summary:{overallGPA:3.6,attendanceRate:95,improvementAreas:["Mathematics - Advanced Calculus","Science - Lab Techniques"],strengths:["English Writing","History Analysis","Presentation Skills"]}}};setTimeout(async()=>{try{const R=await f(),D=["Student Name","Report Date","Date","Subject","Grade","Assignment Type","Teacher","Comments","Overall GPA","Attendance Rate","Improvement Areas","Strengths"],L=R.performanceData.map((Q,q)=>[R.studentName,R.reportDate,Q.date,Q.subject,Q.grade,Q.assignmentType,Q.teacher,Q.comments,q===0?R.summary.overallGPA:"",q===0?R.summary.attendanceRate+"%":"",q===0?R.summary.improvementAreas.join("; "):"",q===0?R.summary.strengths.join("; "):""]);L.unshift([R.studentName,R.reportDate,"SUMMARY","ALL SUBJECTS",R.summary.overallGPA,"COMPREHENSIVE","ALL TEACHERS","Overall Performance Summary",R.summary.overallGPA,R.summary.attendanceRate+"%",R.summary.improvementAreas.join("; "),R.summary.strengths.join("; ")]);const j=[D.join(","),...L.map(Q=>Q.map(q=>`"${q}"`).join(","))].join(`
`),O=new Blob([j],{type:"text/csv;charset=utf-8;"}),M=window.URL.createObjectURL(O),P=document.createElement("a");P.href=M,P.download=`performance_report_${R.studentName}_${R.reportDate}.csv`,document.body.appendChild(P),P.click(),window.URL.revokeObjectURL(M),document.body.removeChild(P),alert(`✅ Performance Report Exported!

Student: ${R.studentName}
Report Date: ${R.reportDate}

File includes:
• ${R.performanceData.length} performance records
• Overall GPA: ${R.summary.overallGPA}
• Attendance Rate: ${R.summary.attendanceRate}%
• Subject-wise performance analysis
• Teacher feedback and comments
• Improvement recommendations
• Academic strengths identified

File saved as: performance_report_${R.studentName}_${R.reportDate}.csv`)}catch(R){console.error("Error processing performance data:",R),alert(`❌ Data Processing Error

There was an error processing the performance data. Please try again or contact support.`)}},2e3)}catch(f){console.error("Error exporting performance report:",f),alert(`❌ Export Failed

There was an error generating the performance report. Please try again or contact support.`)}},className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Export Report"})]})})]}),e.jsx("div",{className:`${h} rounded-2xl shadow-xl p-6 mb-8`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${N} mb-2`,children:"Select Child"}),e.jsx("select",{value:v,onChange:f=>u(f.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:c.map(f=>e.jsxs("option",{value:f.id,children:[f.name," - ",f.class]},f.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${N} mb-2`,children:"Time Range"}),e.jsxs("select",{value:o,onChange:f=>b(f.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"term",children:"This Term"}),e.jsx("option",{value:"year",children:"This Year"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${N} mb-2`,children:"Subject Filter"}),e.jsxs("select",{value:T,onChange:f=>w(f.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"all",children:"All Subjects"}),e.jsx("option",{value:"mathematics",children:"Mathematics"}),e.jsx("option",{value:"sciences",children:"Sciences"}),e.jsx("option",{value:"languages",children:"Languages"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:J,disabled:$,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ws,{className:`w-5 h-5 ${$?"animate-spin":""}`}),e.jsx("span",{children:$?"Refreshing...":"Refresh"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:`${h} rounded-2xl shadow-xl p-6 border-l-4 border-blue-500`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/20 rounded-full p-3",children:e.jsx(Se,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"flex items-center",children:[m(k.overallTrend),e.jsx("span",{className:`text-sm ml-1 font-medium ${k.overallTrend==="up"?"text-green-600":k.overallTrend==="down"?"text-red-600":"text-gray-600"}`,children:k.gpaChange})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`${g} text-sm font-medium mb-1`,children:"Current GPA"}),e.jsx("p",{className:`${S} text-3xl font-bold`,children:k.currentGPA}),e.jsxs("p",{className:`text-xs ${g} mt-1`,children:["Previous: ",k.previousGPA]})]})]}),e.jsxs("div",{className:`${h} rounded-2xl shadow-xl p-6 border-l-4 border-green-500`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-green-100 dark:bg-green-900/20 rounded-full p-3",children:e.jsx(he,{className:"w-6 h-6 text-green-600"})}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-bold text-green-600",children:[k.subjects.filter(f=>f.trend==="up").length,"/",k.subjects.length]})})]}),e.jsxs("div",{children:[e.jsx("p",{className:`${g} text-sm font-medium mb-1`,children:"Subjects Improving"}),e.jsx("p",{className:`${S} text-3xl font-bold`,children:k.subjects.filter(f=>f.trend==="up").length}),e.jsxs("p",{className:`text-xs ${g} mt-1`,children:["out of ",k.subjects.length," subjects"]})]})]}),e.jsxs("div",{className:`${h} rounded-2xl shadow-xl p-6 border-l-4 border-red-500`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 rounded-full p-3",children:e.jsx(oe,{className:"w-6 h-6 text-red-600"})}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-bold text-red-600",children:[k.subjects.filter(f=>f.trend==="down").length,"/",k.subjects.length]})})]}),e.jsxs("div",{children:[e.jsx("p",{className:`${g} text-sm font-medium mb-1`,children:"Needs Attention"}),e.jsx("p",{className:`${S} text-3xl font-bold`,children:k.subjects.filter(f=>f.trend==="down").length}),e.jsx("p",{className:`text-xs ${g} mt-1`,children:"subjects declining"})]})]}),e.jsxs("div",{className:`${h} rounded-2xl shadow-xl p-6 border-l-4 border-purple-500`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/20 rounded-full p-3",children:e.jsx(Ie,{className:"w-6 h-6 text-purple-600"})}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-bold text-purple-600",children:[k.students.filter(f=>f.trend==="up").length,"/",k.students.length]})})]}),e.jsxs("div",{children:[e.jsx("p",{className:`${g} text-sm font-medium mb-1`,children:"Class Performance"}),e.jsx("p",{className:`${S} text-3xl font-bold`,children:k.students.filter(f=>f.trend==="up").length}),e.jsx("p",{className:`text-xs ${g} mt-1`,children:"students improving"})]})]})]}),e.jsxs("div",{className:`${h} rounded-2xl shadow-xl p-6 mb-8`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-xl font-bold ${S}`,children:"Subject Performance Trends"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zs,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Filter by trend"})]})]}),e.jsx("div",{className:"space-y-3",children:k.subjects.map((f,R)=>e.jsx("div",{className:`border rounded-xl p-5 hover:shadow-md transition-all duration-200 ${s?"border-gray-600 hover:border-gray-500":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center shadow-sm ${f.trend==="up"?"bg-gradient-to-r from-green-500 to-emerald-600":f.trend==="down"?"bg-gradient-to-r from-red-500 to-pink-600":"bg-gradient-to-r from-gray-500 to-gray-600"}`,children:e.jsx(be,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-semibold ${S} text-lg`,children:f.name}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("p",{className:`text-sm ${g}`,children:["Current: ",e.jsxs("span",{className:"font-semibold text-blue-600",children:[f.current,"%"]})]}),e.jsxs("p",{className:`text-sm ${g}`,children:["Previous: ",e.jsxs("span",{className:"font-semibold text-gray-600",children:[f.previous,"%"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-medium ${C(f.trend)}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[m(f.trend),e.jsx("span",{className:"font-semibold",children:f.change})]})}),e.jsx("div",{className:"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${f.trend==="up"?"bg-gradient-to-r from-green-500 to-emerald-600":f.trend==="down"?"bg-gradient-to-r from-red-500 to-pink-600":"bg-gradient-to-r from-gray-500 to-gray-600"}`,style:{width:`${f.current}%`}})})]})]})},R))})]}),e.jsxs("div",{className:`${h} rounded-2xl shadow-xl p-6 mb-8`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-xl font-bold ${S}`,children:"Monthly Performance Trends"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(wa,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"GPA Progress"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:k.monthlyTrends.map((f,R)=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx("div",{className:"h-32 bg-gradient-to-t from-blue-500 to-purple-600 rounded-lg flex items-end justify-center shadow-lg transition-all duration-300 hover:shadow-xl",style:{height:`${Math.max(f.gpa*30,40)}px`},children:e.jsx("span",{className:"text-white text-sm font-bold pb-2",children:f.gpa})}),e.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-full p-1 shadow-md",children:e.jsx("div",{className:`w-3 h-3 rounded-full ${R===k.monthlyTrends.length-1?"bg-green-500":"bg-blue-500"}`})})})]}),e.jsx("p",{className:`text-sm font-medium ${N}`,children:f.month}),e.jsxs("p",{className:`text-xs ${g}`,children:["GPA: ",f.gpa]})]},R))}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Overall Trend: Improving"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Best Month: ",k.monthlyTrends.reduce((f,R)=>R.gpa>f.gpa?R:f).month]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Peak GPA: ",Math.max(...k.monthlyTrends.map(f=>f.gpa))]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:`${h} rounded-2xl shadow-xl p-6 border-l-4 border-green-500`,children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"bg-green-100 dark:bg-green-900/20 rounded-full p-3 mr-4",children:e.jsx(Ie,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:`text-xl font-bold ${S}`,children:"Academic Strengths"})]}),e.jsx("div",{className:"space-y-4",children:k.strengths.map((f,R)=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 dark:bg-green-900/10 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:`${N} text-sm leading-relaxed`,children:f})]},R))})]}),e.jsxs("div",{className:`${h} rounded-2xl shadow-xl p-6 border-l-4 border-orange-500`,children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/20 rounded-full p-3 mr-4",children:e.jsx(oe,{className:"w-6 h-6 text-orange-600"})}),e.jsx("h3",{className:`text-xl font-bold ${S}`,children:"Areas for Improvement"})]}),e.jsx("div",{className:"space-y-4",children:k.concerns.map((f,R)=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-orange-50 dark:bg-orange-900/10 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:`${N} text-sm leading-relaxed`,children:f})]},R))})]})]}),e.jsxs("div",{className:`${h} rounded-2xl shadow-xl p-6 mt-8 border-l-4 border-blue-500`,children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/20 rounded-full p-3 mr-4",children:e.jsx(Ce,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:`text-xl font-bold ${S}`,children:"AI-Powered Recommendations"})]}),e.jsx("div",{className:"space-y-4",children:k.recommendations.map((f,R)=>e.jsx("div",{className:`border-l-4 border-blue-500 pl-6 py-4 ${s?"bg-gray-700":"bg-blue-50"} rounded-r-lg hover:shadow-md transition-all duration-200`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-1",children:R+1}),e.jsx("p",{className:`${N} text-sm leading-relaxed`,children:f})]})},R))}),e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:_,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-4 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center justify-center space-x-3 shadow-lg hover:shadow-xl",children:[e.jsx(Fe,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold",children:"Message Teacher"})]}),e.jsxs("button",{onClick:z,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-4 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 flex items-center justify-center space-x-3 shadow-lg hover:shadow-xl",children:[e.jsx(Ye,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold",children:"Set Performance Alerts"})]})]})]})]})]})},Ul=({userRole:y,currentUser:A,darkMode:s=!1,setActiveTab:i})=>{const[v,u]=t.useState("sarah"),[o,b]=t.useState("month"),[T,w]=t.useState("calendar"),[$,d]=t.useState("overview"),[x,a]=t.useState(!1),[l,n]=t.useState(""),[h,S]=t.useState(!1),N=s?"bg-gray-800 border border-gray-700":"bg-white",g=s?"text-white":"text-gray-900",c=s?"text-gray-300":"text-gray-600",r=s?"text-gray-400":"text-gray-500",p=[],k={},m={overallRate:0,totalDays:0,presentDays:0,lateDays:0,currentStreak:0,weeklyPattern:[],dailyAttendance:[],timePatterns:{averageArrivalTime:"—",punctualityScore:0,lateArrivals:0},subjectAttendance:[],recentAbsences:[],patterns:{mostMissedDay:"—",mostMissedSubject:"—",commonReasons:[],improvements:[]}},C=k[v]||m,J=D=>D>=95?{status:"excellent",color:"text-green-600 bg-green-50",icon:se}:D>=90?{status:"good",color:"text-blue-600 bg-blue-50",icon:se}:D>=85?{status:"fair",color:"text-yellow-600 bg-yellow-50",icon:oe}:{status:"poor",color:"text-red-600 bg-red-50",icon:Qs},_=D=>J(D),z=async()=>{S(!0),R("Refreshing attendance patterns data...");try{await new Promise(D=>setTimeout(D,2e3)),R("✅ Attendance patterns data refreshed successfully! Latest attendance records and pattern analysis updated.")}catch(D){console.error("Error refreshing attendance data:",D),R("❌ Error refreshing data. Please check your connection and try again.")}finally{S(!1)}},B=()=>{R("Opening messaging panel..."),i?i("messaging"):R("⚠️ Navigation not available. Please use the sidebar menu.")},f=async()=>{R("Configuring attendance pattern alerts...");try{await new Promise(D=>setTimeout(D,1500)),R(`✅ Attendance pattern alerts configured successfully! You will receive notifications for:
• Low attendance (below 90%)
• Unexcused absences
• Late arrival patterns
• Attendance trend changes
• Daily attendance summaries`)}catch(D){console.error("Error setting alerts:",D),R("❌ Error configuring alerts. Please try again.")}},R=D=>{n(D),a(!0),setTimeout(()=>a(!1),3e3)};return e.jsxs("div",{className:`min-h-screen ${s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"} relative`,children:[x&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white"} border rounded-xl shadow-2xl p-4 flex items-center space-x-3 min-w-[300px]`,children:[e.jsx(se,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),e.jsx("p",{className:`${g} text-sm font-medium`,children:l})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl lg:text-4xl font-bold ${g} mb-2`,children:"Attendance Patterns"}),e.jsx("p",{className:`${c} text-lg`,children:"Monitor your child's attendance trends and patterns"})]}),e.jsx("div",{className:"mt-4 lg:mt-0 flex space-x-4",children:e.jsxs("button",{onClick:async()=>{try{R("Generating attendance patterns report..."),await new Promise(q=>setTimeout(q,3e3));const D={studentName:v||"Student",reportDate:new Date().toISOString().split("T")[0],timeRange:o,attendanceData:[{date:"2024-01-15",status:"Present",arrivalTime:"7:45 AM",departureTime:"3:30 PM",subject:"All Subjects",notes:"On time"},{date:"2024-01-16",status:"Present",arrivalTime:"7:50 AM",departureTime:"3:30 PM",subject:"All Subjects",notes:"Slightly late"},{date:"2024-01-17",status:"Absent",arrivalTime:"N/A",departureTime:"N/A",subject:"All Subjects",notes:"Excused - Medical appointment"},{date:"2024-01-18",status:"Present",arrivalTime:"7:40 AM",departureTime:"3:30 PM",subject:"All Subjects",notes:"On time"},{date:"2024-01-19",status:"Present",arrivalTime:"7:55 AM",departureTime:"3:30 PM",subject:"All Subjects",notes:"Late arrival"}],summary:{overallRate:95,totalDays:20,presentDays:19,absentDays:1,lateArrivals:2,punctualityScore:90,mostMissedDay:"Monday",mostMissedSubject:"Mathematics"}},L=["Student Name","Report Date","Time Range","Date","Status","Arrival Time","Departure Time","Subject","Notes","Overall Rate","Total Days","Present Days","Absent Days","Late Arrivals","Punctuality Score","Most Missed Day","Most Missed Subject"],j=D.attendanceData.map((q,te)=>[D.studentName,D.reportDate,D.timeRange,q.date,q.status,q.arrivalTime,q.departureTime,q.subject,q.notes,te===0?D.summary.overallRate+"%":"",te===0?D.summary.totalDays:"",te===0?D.summary.presentDays:"",te===0?D.summary.absentDays:"",te===0?D.summary.lateArrivals:"",te===0?D.summary.punctualityScore+"%":"",te===0?D.summary.mostMissedDay:"",te===0?D.summary.mostMissedSubject:""]),O=[L.join(","),...j.map(q=>q.map(te=>`"${te}"`).join(","))].join(`
`),M=new Blob([O],{type:"text/csv;charset=utf-8;"}),P=window.URL.createObjectURL(M),Q=document.createElement("a");Q.href=P,Q.download=`attendance_patterns_report_${D.studentName}_${D.reportDate}.csv`,document.body.appendChild(Q),Q.click(),window.URL.revokeObjectURL(P),document.body.removeChild(Q),R("✅ Attendance patterns report downloaded successfully! Contains detailed attendance analysis and patterns.")}catch(D){console.error("Error downloading report:",D),R("❌ Error generating report. Please try again.")}},className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsx("span",{children:"Export Report"})]})})]}),e.jsx("div",{className:`${N} rounded-2xl shadow-xl p-6 mb-8`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${c} mb-2`,children:"Select Child"}),p.length===0?e.jsx("div",{className:`${c}`,children:"No children available"}):e.jsx("select",{value:v,onChange:D=>u(D.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:p.map(D=>e.jsxs("option",{value:D.id,children:[D.name," - ",D.class]},D.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${c} mb-2`,children:"Time Range"}),e.jsxs("select",{value:o,onChange:D=>b(D.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"term",children:"This Term"}),e.jsx("option",{value:"year",children:"This Year"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${c} mb-2`,children:"View Type"}),e.jsxs("select",{value:$,onChange:D=>d(D.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"overview",children:"Overview"}),e.jsx("option",{value:"daily",children:"Daily Patterns"}),e.jsx("option",{value:"subject",children:"By Subject"}),e.jsx("option",{value:"trends",children:"Trends"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:z,disabled:h,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ws,{className:`w-5 h-5 ${h?"animate-spin":""}`}),e.jsx("span",{children:h?"Refreshing...":"Refresh"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:`${N} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${r} text-sm font-medium`,children:"Overall Rate"}),e.jsxs("p",{className:`${g} text-3xl font-bold mt-2`,children:[C.overallRate,"%"]}),e.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-2 ${_(C.overallRate).color}`,children:[Me.createElement(_(C.overallRate).icon,{className:"w-3 h-3 mr-1"}),_(C.overallRate).status]})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(se,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:`${N} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${r} text-sm font-medium`,children:"Days Present"}),e.jsx("p",{className:`${g} text-3xl font-bold mt-2`,children:C.presentDays}),e.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["out of ",C.totalDays]})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(ne,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:`${N} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${r} text-sm font-medium`,children:"Current Streak"}),e.jsx("p",{className:`${g} text-3xl font-bold mt-2`,children:C.currentStreak}),e.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"consecutive days"})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(he,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:`${N} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${r} text-sm font-medium`,children:"Late Arrivals"}),e.jsx("p",{className:`${g} text-3xl font-bold mt-2`,children:C.lateDays}),e.jsx("p",{className:"text-sm text-orange-600 mt-2",children:"this term"})]}),e.jsx("div",{className:"bg-orange-100 rounded-full p-3",children:e.jsx(ie,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsxs("div",{className:`${N} rounded-2xl shadow-xl p-6 mb-8`,children:[e.jsx("h3",{className:`text-xl font-bold ${g} mb-6`,children:"Weekly Attendance Pattern"}),e.jsx("div",{className:"grid grid-cols-5 gap-4",children:C.weeklyPattern.map((D,L)=>{const j=_(D.rate);return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-32 bg-gradient-to-t from-blue-500 to-purple-600 rounded-lg mb-4 flex items-end justify-center relative",style:{height:`${Math.max(D.rate,20)}px`},children:e.jsxs("span",{className:"text-white text-xs font-bold pb-2",children:[D.rate,"%"]})}),e.jsx("p",{className:`text-sm font-medium ${c} mb-1`,children:D.day}),e.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${j.color}`,children:[Me.createElement(j.icon,{className:"w-3 h-3 mr-1"}),j.status]})]},L)})})]}),e.jsxs("div",{className:`${N} rounded-2xl shadow-xl p-6 mb-8`,children:[e.jsx("h3",{className:`text-xl font-bold ${g} mb-6`,children:"Subject-wise Attendance"}),e.jsx("div",{className:"space-y-4",children:C.subjectAttendance.map((D,L)=>{const j=_(D.rate);return e.jsx("div",{className:`border rounded-xl p-4 ${s?"border-gray-600":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(be,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold ${g}`,children:D.subject}),e.jsxs("p",{className:`text-sm ${r}`,children:[D.classes-D.missed," of ",D.classes," classes attended"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${j.color}`,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[Me.createElement(j.icon,{className:"w-4 h-4"}),e.jsxs("span",{children:[D.rate,"%"]})]})}),e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full",style:{width:`${D.rate}%`}})})]})]})},L)})})]}),e.jsxs("div",{className:`${N} rounded-2xl shadow-xl p-6 mb-8`,children:[e.jsx("h3",{className:`text-xl font-bold ${g} mb-6`,children:"Daily Attendance Record"}),e.jsx("div",{className:"space-y-4",children:C.dailyAttendance.map((D,L)=>e.jsx("div",{className:`border rounded-xl p-4 ${s?"border-gray-600":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${D.status==="present"?"bg-green-100":D.status==="late"?"bg-yellow-100":"bg-red-100"}`,children:D.status==="present"?e.jsx(se,{className:"w-6 h-6 text-green-600"}):D.status==="late"?e.jsx(ie,{className:"w-6 h-6 text-yellow-600"}):e.jsx(Qs,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold ${g}`,children:D.date}),D.status==="present"||D.status==="late"?e.jsxs("div",{className:`text-sm ${r}`,children:[e.jsxs("p",{children:["Arrival: ",D.arrivalTime," | Departure: ",D.departureTime]}),D.reason&&e.jsxs("p",{className:"text-xs text-orange-600",children:["Note: ",D.reason]})]}):e.jsxs("div",{className:`text-sm ${r}`,children:[e.jsxs("p",{children:["Reason: ",D.reason]}),e.jsxs("p",{className:"text-xs",children:["Parent Notified: ",D.parentNotified?"Yes":"No"]})]})]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${D.status==="present"?"text-green-600 bg-green-50":D.status==="late"?"text-yellow-600 bg-yellow-50":D.type==="excused"?"text-blue-600 bg-blue-50":"text-red-600 bg-red-50"}`,children:D.status==="absent"?D.type:D.status})]})},L))})]}),e.jsxs("div",{className:`${N} rounded-2xl shadow-xl p-6 mb-8`,children:[e.jsx("h3",{className:`text-xl font-bold ${g} mb-6`,children:"Time Patterns & Punctuality"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3",children:e.jsx(ie,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h4",{className:`font-semibold ${g} mb-2`,children:"Average Arrival"}),e.jsx("p",{className:`text-2xl font-bold ${g}`,children:C.timePatterns.averageArrivalTime}),e.jsx("p",{className:`text-sm ${r}`,children:"School starts at 8:00 AM"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3",children:e.jsx(Ce,{className:"w-8 h-8 text-green-600"})}),e.jsx("h4",{className:`font-semibold ${g} mb-2`,children:"Punctuality Score"}),e.jsxs("p",{className:`text-2xl font-bold ${g}`,children:[C.timePatterns.punctualityScore,"%"]}),e.jsx("p",{className:`text-sm ${r}`,children:"On-time arrivals"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-orange-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3",children:e.jsx(oe,{className:"w-8 h-8 text-orange-600"})}),e.jsx("h4",{className:`font-semibold ${g} mb-2`,children:"Late Arrivals"}),e.jsx("p",{className:`text-2xl font-bold ${g}`,children:C.timePatterns.lateArrivals}),e.jsx("p",{className:`text-sm ${r}`,children:"This term"})]})]})]}),e.jsxs("div",{className:`${N} rounded-2xl shadow-xl p-6 mb-8`,children:[e.jsx("h3",{className:`text-xl font-bold ${g} mb-6`,children:"Recent Absences"}),e.jsx("div",{className:"space-y-4",children:C.recentAbsences.map((D,L)=>e.jsx("div",{className:`border rounded-xl p-4 ${s?"border-gray-600":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${D.type==="excused"?"bg-blue-100":"bg-red-100"}`,children:D.type==="excused"?e.jsx(se,{className:"w-6 h-6 text-blue-600"}):e.jsx(Qs,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold ${g}`,children:D.date}),e.jsx("p",{className:`text-sm ${r}`,children:D.reason}),e.jsxs("p",{className:`text-xs ${r}`,children:["Missed: ",D.subjects.join(", ")]})]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${D.type==="excused"?"text-blue-600 bg-blue-50":"text-red-600 bg-red-50"}`,children:D.type})]})},L))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:`${N} rounded-2xl shadow-xl p-6`,children:[e.jsxs("h3",{className:`text-xl font-bold ${g} mb-4 flex items-center`,children:[e.jsx(Le,{className:"w-6 h-6 mr-2 text-blue-500"}),"Attendance Patterns"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:c,children:"Most missed day:"}),e.jsx("span",{className:`font-semibold ${g}`,children:C.patterns.mostMissedDay})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:c,children:"Most missed subject:"}),e.jsx("span",{className:`font-semibold ${g}`,children:C.patterns.mostMissedSubject})]}),e.jsxs("div",{children:[e.jsx("span",{className:`${c} block mb-2`,children:"Common reasons:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.patterns.commonReasons.map((D,L)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:D},L))})]})]})]}),e.jsxs("div",{className:`${N} rounded-2xl shadow-xl p-6`,children:[e.jsxs("h3",{className:`text-xl font-bold ${g} mb-4 flex items-center`,children:[e.jsx(Ce,{className:"w-6 h-6 mr-2 text-green-500"}),"Improvement Suggestions"]}),e.jsx("div",{className:"space-y-3",children:C.patterns.improvements.map((D,L)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("p",{className:c,children:D})]},L))}),e.jsxs("div",{className:"mt-6 flex space-x-4",children:[e.jsxs("button",{onClick:B,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsx("span",{children:"Contact School"})]}),e.jsxs("button",{onClick:f,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(Ye,{className:"w-4 h-4"}),e.jsx("span",{children:"Set Alerts"})]})]})]})]})]})]})},zl=({userRole:y="parent",currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState([]),[u,o]=t.useState(!0),[b,T]=t.useState(null),[w,$]=t.useState(""),[d,x]=t.useState("all"),[a,l]=t.useState("all"),[n,h]=t.useState("all"),S=s?"bg-gray-800 border border-gray-700":"bg-white",N=s?"text-white":"text-gray-900",g=s?"text-gray-300":"text-gray-600",c=s?"text-gray-400":"text-gray-500",r=s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50";t.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0),v([]),o(!1)}catch(R){console.error("Error fetching announcements:",R),v([]),o(!1)}},k=async R=>{try{v(D=>D.map(L=>L.id===R?{...L,acknowledged:!0,acknowledgments:L.acknowledgments+1}:L))}catch(D){console.error("Error acknowledging announcement:",D)}},m=async R=>{if(T(R),!R.viewed)try{v(D=>D.map(L=>L.id===R.id?{...L,viewed:!0,views:L.views+1}:L))}catch(D){console.error("Error incrementing view count:",D)}},C=R=>{switch(R){case"urgent":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},J=R=>{switch(R){case"academic":return e.jsx(be,{className:"w-4 h-4"});case"event":return e.jsx(ne,{className:"w-4 h-4"});case"urgent":return e.jsx(Ts,{className:"w-4 h-4"});case"fee":return e.jsx(ze,{className:"w-4 h-4"});case"exam":return e.jsx(xs,{className:"w-4 h-4"});case"holiday":return e.jsx(Gs,{className:"w-4 h-4"});default:return e.jsx(ka,{className:"w-4 h-4"})}},_=R=>{switch(R){case"academic":return"bg-blue-100 text-blue-800";case"event":return"bg-purple-100 text-purple-800";case"urgent":return"bg-red-100 text-red-800";case"fee":return"bg-green-100 text-green-800";case"exam":return"bg-yellow-100 text-yellow-800";case"holiday":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},z=i.filter(R=>{const D=R.title.toLowerCase().includes(w.toLowerCase())||R.content.toLowerCase().includes(w.toLowerCase()),L=d==="all"||R.category===d,j=a==="all"||R.priority===a,O=n==="all"||n==="acknowledged"&&R.acknowledged||n==="unacknowledged"&&!R.acknowledged;return D&&L&&j&&O}),B=z.filter(R=>R.is_pinned),f=z.filter(R=>!R.is_pinned);return u?e.jsx("div",{className:`min-h-screen ${r}`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4"}),e.jsx("div",{className:"h-64 bg-gray-300 rounded"})]})})}):e.jsx("div",{className:`min-h-screen ${r}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-full p-3",children:e.jsx(Ye,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl lg:text-4xl font-bold ${N}`,children:"School Announcements"}),e.jsx("p",{className:`${g} text-lg`,children:"Stay updated with important school information"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Total Announcements"}),e.jsx("p",{className:`${N} text-2xl font-bold mt-2`,children:i.length})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(Ye,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Unread"}),e.jsx("p",{className:`${N} text-2xl font-bold mt-2`,children:i.filter(R=>!R.viewed).length})]}),e.jsx("div",{className:"bg-orange-100 rounded-full p-3",children:e.jsx(je,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Requires Action"}),e.jsx("p",{className:`${N} text-2xl font-bold mt-2`,children:i.filter(R=>R.requires_acknowledgment&&!R.acknowledged).length})]}),e.jsx("div",{className:"bg-red-100 rounded-full p-3",children:e.jsx(Ts,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:`${S} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${c} text-sm font-medium`,children:"Acknowledged"}),e.jsx("p",{className:`${N} text-2xl font-bold mt-2`,children:i.filter(R=>R.acknowledged).length})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})})]}),e.jsxs("div",{className:`${S} rounded-2xl shadow-xl p-6 mb-8`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search announcements...",value:w,onChange:R=>$(R.target.value),className:`w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`})]})}),e.jsx("div",{children:e.jsxs("select",{value:d,onChange:R=>x(R.target.value),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"academic",children:"Academic"}),e.jsx("option",{value:"event",children:"Events"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"fee",children:"Fees"}),e.jsx("option",{value:"exam",children:"Exams"}),e.jsx("option",{value:"holiday",children:"Holidays"})]})}),e.jsx("div",{children:e.jsxs("select",{value:a,onChange:R=>l(R.target.value),className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 text-white border-gray-600":"bg-white"}`,children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"high",children:"High Priority"}),e.jsx("option",{value:"medium",children:"Medium Priority"}),e.jsx("option",{value:"low",children:"Low Priority"})]})})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg transition-colors ${n==="all"?"bg-blue-600 text-white":s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),e.jsx("button",{onClick:()=>h("unacknowledged"),className:`px-4 py-2 rounded-lg transition-colors ${n==="unacknowledged"?"bg-blue-600 text-white":s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Needs Acknowledgment"}),e.jsx("button",{onClick:()=>h("acknowledged"),className:`px-4 py-2 rounded-lg transition-colors ${n==="acknowledged"?"bg-blue-600 text-white":s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Acknowledged"})]})]}),B.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:`text-xl font-bold ${N} mb-4 flex items-center`,children:[e.jsx(At,{className:"w-5 h-5 mr-2 text-blue-600"}),"Pinned Announcements"]}),e.jsx("div",{className:"space-y-4",children:B.map(R=>e.jsx(Vt,{announcement:R,darkMode:s,cardBg:S,textPrimary:N,textSecondary:g,textMuted:c,getPriorityColor:C,getCategoryIcon:J,getCategoryColor:_,onView:m,onAcknowledge:k},R.id))})]}),e.jsx("div",{className:"space-y-4",children:f.length>0?f.map(R=>e.jsx(Vt,{announcement:R,darkMode:s,cardBg:S,textPrimary:N,textSecondary:g,textMuted:c,getPriorityColor:C,getCategoryIcon:J,getCategoryColor:_,onView:m,onAcknowledge:k},R.id)):e.jsxs("div",{className:`${S} rounded-2xl shadow-xl p-12 text-center`,children:[e.jsx(Ye,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:`text-xl font-bold ${N} mb-2`,children:"No Announcements"}),e.jsx("p",{className:`${g}`,children:i.length===0?"There are no announcements at this time.":"No announcements match your current filters."})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:`${S} rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${C(b.priority)}`,children:b.priority.toUpperCase()}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_(b.category)}`,children:[J(b.category),e.jsx("span",{className:"ml-1",children:b.category})]}),b.is_pinned&&e.jsx(At,{className:"w-4 h-4 text-blue-600"})]}),e.jsx("h2",{className:`text-2xl font-bold ${N} mb-2`,children:b.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("span",{className:`${c} flex items-center`,children:[e.jsx(ie,{className:"w-4 h-4 mr-1"}),new Date(b.created_at).toLocaleDateString()]}),e.jsxs("span",{className:`${c}`,children:["By ",b.author_name]})]})]}),e.jsx("button",{onClick:()=>T(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsx("div",{className:`${g} mb-6 whitespace-pre-wrap`,children:b.content}),b.attachments&&b.attachments.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`font-medium ${N} mb-3`,children:"Attachments"}),e.jsx("div",{className:"space-y-2",children:b.attachments.map((R,D)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("span",{className:`${g} text-sm`,children:[R.name," (",R.size,")"]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700",children:e.jsx(Ne,{className:"w-4 h-4"})})]},D))})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[e.jsxs("span",{className:`${c} flex items-center`,children:[e.jsx(je,{className:"w-4 h-4 mr-1"}),b.views," views"]}),e.jsxs("span",{className:`${c} flex items-center`,children:[e.jsx(se,{className:"w-4 h-4 mr-1"}),b.acknowledgments," acknowledged"]})]}),b.requires_acknowledgment&&!b.acknowledged&&e.jsxs("button",{onClick:()=>{k(b.id),T({...b,acknowledged:!0})},className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center space-x-2",children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{children:"Acknowledge"})]}),b.acknowledged&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Acknowledged"})]})]})]})})})]})})},Vt=({announcement:y,darkMode:A,cardBg:s,textPrimary:i,textSecondary:v,textMuted:u,getPriorityColor:o,getCategoryIcon:b,getCategoryColor:T,onView:w,onAcknowledge:$})=>{const d=!y.viewed,x=y.requires_acknowledgment&&!y.acknowledged;return e.jsx("div",{className:`${s} rounded-2xl shadow-xl p-6 hover:shadow-2xl transition-all duration-300 cursor-pointer ${d?"border-l-4 border-blue-600":""}`,onClick:()=>w(y),children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[y.is_pinned&&e.jsx(At,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${o(y.priority)}`,children:y.priority.toUpperCase()}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center ${T(y.category)}`,children:[b(y.category),e.jsx("span",{className:"ml-1 capitalize",children:y.category})]}),d&&e.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-medium",children:"NEW"})]}),e.jsx("h3",{className:`text-xl font-bold ${i} mb-2`,children:y.title}),e.jsx("p",{className:`${v} mb-3 line-clamp-2`,children:y.content}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[e.jsxs("span",{className:`${u} flex items-center`,children:[e.jsx(ie,{className:"w-4 h-4 mr-1"}),new Date(y.created_at).toLocaleDateString()]}),e.jsxs("span",{className:`${u}`,children:["By ",y.author_name]}),e.jsxs("span",{className:`${u} flex items-center`,children:[e.jsx(je,{className:"w-4 h-4 mr-1"}),y.views]})]})]}),e.jsxs("div",{className:"ml-4 flex flex-col items-end space-y-2",children:[x&&e.jsxs("button",{onClick:a=>{a.stopPropagation(),$(y.id)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center space-x-1",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{children:"Acknowledge"})]}),y.acknowledged&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600 text-sm",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{children:"Acknowledged"})]})]})]})})},Ol=({userRole:y,currentUser:A,darkMode:s=!1,setActiveTab:i})=>{const[v,u]=t.useState(""),[o,b]=t.useState("term"),[T,w]=t.useState("all"),[$,d]=t.useState("overview"),[x,a]=t.useState(!1),[l,n]=t.useState(null),[h,S]=t.useState(!1),[N,g]=t.useState(""),c=s?"bg-gray-800 border border-gray-700":"bg-white",r=s?"text-white":"text-gray-900",p=s?"text-gray-300":"text-gray-600",k=s?"text-gray-400":"text-gray-500",m=s?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50",C=[],J={};t.useEffect(()=>{C.length>0&&!v&&u(C[0].id)},[C,v]);const _=J[v]||{currentGPA:0,gpaChange:"0",classRank:0,totalStudents:0,overallTrend:"stable",subjects:[],monthlyTrends:[],strengths:[],concerns:[],recommendations:[],upcomingTests:[]},z=q=>{switch(q){case"up":return e.jsx(Qt,{className:"w-4 h-4 text-green-500"});case"down":return e.jsx(Yt,{className:"w-4 h-4 text-red-500"});default:return e.jsx(Et,{className:"w-4 h-4 text-gray-500"})}},B=q=>{switch(q){case"up":return"text-green-600 bg-green-50";case"down":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},f=q=>q>=90?"text-green-600":q>=80?"text-blue-600":q>=70?"text-yellow-600":q>=60?"text-orange-600":"text-red-600",R=async()=>{a(!0),M("Refreshing academic progress data...");try{await new Promise(q=>setTimeout(q,2e3)),M("✅ Academic progress data refreshed successfully! Latest grades and performance metrics updated.")}catch(q){console.error("Error refreshing data:",q),M("❌ Error refreshing data. Please check your connection and try again.")}finally{a(!1)}},D=async()=>{M("Generating comprehensive academic progress report...");try{await new Promise(H=>setTimeout(H,3e3));const q={studentName:v||"Student",reportDate:new Date().toISOString().split("T")[0],timeRange:o,academicData:[{subject:"Mathematics",currentGrade:"A-",previousGrade:"B+",trend:"Improving",teacher:"Ms. Johnson",assignments:"8/10",attendance:"95%"},{subject:"English",currentGrade:"B+",previousGrade:"A-",trend:"Declining",teacher:"Mr. Smith",assignments:"9/10",attendance:"98%"},{subject:"Science",currentGrade:"A",previousGrade:"A-",trend:"Improving",teacher:"Dr. Brown",assignments:"10/10",attendance:"92%"},{subject:"History",currentGrade:"B",previousGrade:"B+",trend:"Stable",teacher:"Ms. Davis",assignments:"7/10",attendance:"96%"},{subject:"Physical Education",currentGrade:"A",previousGrade:"A",trend:"Stable",teacher:"Coach Wilson",assignments:"5/5",attendance:"100%"}],summary:{overallGPA:3.6,classRank:12,totalStudents:28,improvementAreas:["English Writing","History Essays"],strengths:["Mathematics Problem Solving","Science Lab Work","Physical Fitness"]}},te=["Student Name","Report Date","Time Range","Subject","Current Grade","Previous Grade","Trend","Teacher","Assignments Completed","Attendance Rate","Overall GPA","Class Rank","Total Students","Improvement Areas","Strengths"],Z=q.academicData.map((H,xe)=>[q.studentName,q.reportDate,q.timeRange,H.subject,H.currentGrade,H.previousGrade,H.trend,H.teacher,H.assignments,H.attendance,xe===0?q.summary.overallGPA:"",xe===0?q.summary.classRank:"",xe===0?q.summary.totalStudents:"",xe===0?q.summary.improvementAreas.join("; "):"",xe===0?q.summary.strengths.join("; "):""]),I=[te.join(","),...Z.map(H=>H.map(xe=>`"${xe}"`).join(","))].join(`
`),F=new Blob([I],{type:"text/csv;charset=utf-8;"}),G=window.URL.createObjectURL(F),le=document.createElement("a");le.href=G,le.download=`academic_progress_report_${q.studentName}_${q.reportDate}.csv`,document.body.appendChild(le),le.click(),window.URL.revokeObjectURL(G),document.body.removeChild(le),M("✅ Academic progress report downloaded successfully! Contains detailed performance analysis and recommendations.")}catch(q){console.error("Error downloading report:",q),M("❌ Error generating report. Please try again.")}},L=()=>{M("Opening messaging panel..."),i?i("messaging"):M("⚠️ Navigation not available. Please use the sidebar menu.")},j=()=>{M("Opening parent-teacher meeting scheduler..."),i?i("parent-meetings"):M("⚠️ Navigation not available. Please use the sidebar menu.")},O=async()=>{M("Configuring academic progress alerts...");try{await new Promise(q=>setTimeout(q,1500)),M(`✅ Academic progress alerts configured successfully! You will receive notifications for:
• Grade drops below B-
• Missing assignments
• Low attendance (below 90%)
• Significant performance changes
• Upcoming tests and exams`)}catch(q){console.error("Error setting alerts:",q),M("❌ Error configuring alerts. Please try again.")}},M=q=>{g(q),S(!0),setTimeout(()=>S(!1),3e3)},P=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:`${c} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${k} text-sm font-medium`,children:"Current GPA"}),e.jsx("p",{className:`${r} text-3xl font-bold mt-2`,children:_.currentGPA.toFixed(2)}),e.jsxs("div",{className:"flex items-center mt-2",children:[z(_.overallTrend==="improving"?"up":_.overallTrend==="declining"?"down":"stable"),e.jsx("span",{className:`text-sm ml-1 ${_.overallTrend==="improving"?"text-green-600":_.overallTrend==="declining"?"text-red-600":"text-gray-600"}`,children:_.gpaChange})]})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(Se,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:`${c} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${k} text-sm font-medium`,children:"Class Rank"}),e.jsxs("p",{className:`${r} text-3xl font-bold mt-2`,children:["#",_.classRank]}),e.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["of ",_.totalStudents," students"]})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(xs,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:`${c} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${k} text-sm font-medium`,children:"Improving"}),e.jsx("p",{className:`${r} text-3xl font-bold mt-2`,children:_.subjects.filter(q=>q.trend==="up").length}),e.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["out of ",_.subjects.length," subjects"]})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(he,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:`${c} rounded-2xl shadow-xl p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${k} text-sm font-medium`,children:"Needs Attention"}),e.jsx("p",{className:`${r} text-3xl font-bold mt-2`,children:_.subjects.filter(q=>q.trend==="down").length}),e.jsx("p",{className:"text-sm text-red-600 mt-2",children:"subjects declining"})]}),e.jsx("div",{className:"bg-red-100 rounded-full p-3",children:e.jsx(oe,{className:"w-6 h-6 text-red-600"})})]})})]}),e.jsxs("div",{className:`${c} rounded-2xl shadow-xl p-6`,children:[e.jsx("h3",{className:`text-xl font-bold ${r} mb-6`,children:"Subject Performance"}),e.jsx("div",{className:"space-y-4",children:_.subjects.map((q,te)=>e.jsxs("div",{className:`border rounded-xl p-4 ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>n(l===te?null:te),children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(be,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-semibold ${r}`,children:q.name}),e.jsxs("p",{className:`text-sm ${k}`,children:["Teacher: ",q.teacher]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-2xl font-bold ${f(q.current)}`,children:[q.current,"%"]}),e.jsxs("p",{className:`text-xs ${k}`,children:["Previous: ",q.previous,"%"]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${B(q.trend)}`,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[z(q.trend),e.jsx("span",{children:q.change})]})}),l===te?e.jsx(ga,{className:"w-5 h-5"}):e.jsx(Xt,{className:"w-5 h-5"})]})]}),l===te&&e.jsxs("div",{className:`mt-4 pt-4 border-t ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${p} mb-2`,children:"Assignments"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${q.assignments.completed/q.assignments.total*100}%`}})}),e.jsxs("span",{className:`text-sm ${k}`,children:[q.assignments.completed,"/",q.assignments.total]})]}),q.assignments.pending>0&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[q.assignments.pending," pending"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${p} mb-2`,children:"Attendance"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:`text-lg font-bold ${r}`,children:[q.attendance,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${p} mb-2`,children:"Recent Tests"}),e.jsx("p",{className:`text-lg font-bold ${r}`,children:q.tests.length})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:`text-sm font-medium ${p} mb-2`,children:"Recent Test Scores"}),e.jsx("div",{className:"space-y-2",children:q.tests.map((Z,I)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:p,children:Z.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:k,children:Z.date}),e.jsxs("span",{className:`font-bold ${f(Z.score)}`,children:[Z.score,"%"]})]})]},I))})]}),e.jsxs("div",{className:`p-3 rounded-lg ${s?"bg-gray-700":"bg-blue-50"}`,children:[e.jsx("p",{className:`text-sm font-medium ${p} mb-1`,children:"Teacher's Comment"}),e.jsx("p",{className:`text-sm ${p}`,children:q.teacherComment})]})]})]},te))})]}),e.jsxs("div",{className:`${c} rounded-2xl shadow-xl p-6`,children:[e.jsx("h3",{className:`text-xl font-bold ${r} mb-6`,children:"GPA Trend Over Time"}),e.jsx("div",{className:"flex items-end justify-between space-x-2 h-48",children:_.monthlyTrends.map((q,te)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsxs("div",{className:"w-full flex flex-col items-center justify-end h-40",children:[e.jsx("span",{className:"text-xs font-bold text-white mb-1",children:q.gpa.toFixed(1)}),e.jsx("div",{className:"w-full bg-gradient-to-t from-blue-500 to-purple-600 rounded-t-lg transition-all duration-500",style:{height:`${q.gpa/4*100}%`}})]}),e.jsx("p",{className:`text-xs font-medium ${p} mt-2`,children:q.month})]},te))})]})]}),Q=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:`${c} rounded-2xl shadow-xl p-6`,children:[e.jsxs("h3",{className:`text-xl font-bold ${r} mb-4 flex items-center`,children:[e.jsx(Ie,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Strengths & Achievements"]}),e.jsx("div",{className:"space-y-3",children:_.strengths.map((q,te)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(se,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:p,children:q})]},te))})]}),e.jsxs("div",{className:`${c} rounded-2xl shadow-xl p-6`,children:[e.jsxs("h3",{className:`text-xl font-bold ${r} mb-4 flex items-center`,children:[e.jsx(oe,{className:"w-6 h-6 mr-2 text-orange-500"}),"Areas for Improvement"]}),e.jsx("div",{className:"space-y-3",children:_.concerns.map((q,te)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Qs,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:p,children:q})]},te))})]})]}),e.jsxs("div",{className:`${c} rounded-2xl shadow-xl p-6`,children:[e.jsxs("h3",{className:`text-xl font-bold ${r} mb-4 flex items-center`,children:[e.jsx(pe,{className:"w-6 h-6 mr-2 text-blue-500"}),"AI-Powered Recommendations"]}),e.jsx("div",{className:"space-y-4",children:_.recommendations.map((q,te)=>e.jsx("div",{className:`border-l-4 border-blue-500 pl-4 py-3 ${s?"bg-gray-700":"bg-blue-50"} rounded-r-lg`,children:e.jsx("p",{className:p,children:q})},te))})]}),e.jsxs("div",{className:`${c} rounded-2xl shadow-xl p-6`,children:[e.jsxs("h3",{className:`text-xl font-bold ${r} mb-4 flex items-center`,children:[e.jsx(ne,{className:"w-6 h-6 mr-2 text-purple-500"}),"Upcoming Tests & Exams"]}),e.jsx("div",{className:"space-y-3",children:_.upcomingTests.map((q,te)=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${s?"bg-gray-700":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(re,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold ${r}`,children:q.subject}),e.jsx("p",{className:`text-sm ${k}`,children:q.type})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:`text-sm font-medium ${r}`,children:q.date})})]},te))})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("button",{onClick:L,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(Fe,{className:"w-5 h-5"}),e.jsx("span",{children:"Message Teachers"})]}),e.jsxs("button",{onClick:j,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(ne,{className:"w-5 h-5"}),e.jsx("span",{children:"Schedule Meeting"})]}),e.jsxs("button",{onClick:O,className:"bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-3 rounded-xl hover:from-orange-600 hover:to-red-700 transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(Ye,{className:"w-5 h-5"}),e.jsx("span",{children:"Set Alerts"})]})]})]});return e.jsxs("div",{className:`min-h-screen ${m} relative`,children:[h&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white"} border rounded-xl shadow-2xl p-4 flex items-center space-x-3 min-w-[300px]`,children:[e.jsx(se,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),e.jsx("p",{className:`${r} text-sm font-medium`,children:N})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl lg:text-4xl font-bold ${r} mb-2`,children:"Academic Progress"}),e.jsx("p",{className:`${p} text-lg`,children:"Track your child's academic performance and growth"})]}),e.jsxs("div",{className:"mt-4 lg:mt-0 flex space-x-4",children:[e.jsxs("button",{onClick:R,disabled:x,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ws,{className:`w-5 h-5 ${x?"animate-spin":""}`}),e.jsx("span",{children:x?"Refreshing...":"Refresh"})]}),e.jsxs("button",{onClick:D,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl",children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsx("span",{children:"Export Report"})]})]})]}),e.jsx("div",{className:`${c} rounded-2xl shadow-xl p-6 mb-8`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${p} mb-2`,children:"Select Child"}),e.jsx("select",{value:v,onChange:q=>u(q.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:C.map(q=>e.jsxs("option",{value:q.id,children:[q.name," - ",q.class]},q.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${p} mb-2`,children:"Time Range"}),e.jsxs("select",{value:o,onChange:q=>b(q.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"term",children:"This Term"}),e.jsx("option",{value:"year",children:"This Year"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${p} mb-2`,children:"Subject Filter"}),e.jsxs("select",{value:T,onChange:q=>w(q.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"all",children:"All Subjects"}),_.subjects.map((q,te)=>e.jsx("option",{value:q.name,children:q.name},te))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${p} mb-2`,children:"View Mode"}),e.jsxs("select",{value:$,onChange:q=>d(q.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"overview",children:"Overview"}),e.jsx("option",{value:"insights",children:"Insights & Recommendations"})]})]})]})}),$==="overview"&&P(),$==="insights"&&Q()]})]})};class Wt extends Me.Component{constructor(A){super(A),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(A){return{hasError:!0}}componentDidCatch(A,s){this.setState({error:A,errorInfo:s}),console.error("Component Error:",A,s)}render(){if(this.state.hasError){const{darkMode:A=!1,onRetry:s,onGoHome:i}=this.props;return e.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${A?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:`max-w-md w-full rounded-xl shadow-lg p-8 text-center ${A?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border`,children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(oe,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:`text-2xl font-bold mb-4 ${A?"text-white":"text-gray-900"}`,children:"Something went wrong"}),e.jsx("p",{className:`text-lg mb-6 ${A?"text-gray-300":"text-gray-600"}`,children:"We encountered an error while loading this feature. Please try refreshing or return to the dashboard."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null}),s&&s()},className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Try Again"]}),e.jsxs("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null}),i&&i()},className:`flex items-center justify-center px-6 py-3 rounded-lg transition-colors font-medium ${A?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Go to Dashboard"]})]}),!1]})})}return this.props.children}}const ql=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("schedule"),[u,o]=t.useState([]),[b,T]=t.useState(!0),[w,$]=t.useState(!1),[d,x]=t.useState(null),[a,l]=t.useState(!1),[n,h]=t.useState({title:"",subject:"",class_level:"",scheduled_time:"",duration:60,description:"",meeting_link:"",enable_whiteboard:!0,enable_polls:!0,enable_breakout_rooms:!1,enable_recording:!0,enable_screen_sharing:!0,max_participants:50,moderator_password:"",attendee_password:""}),[S,N]=t.useState({meetingId:"",moderatorPassword:"",attendeePassword:"",joinUrl:"",isRecording:!1,breakoutRooms:[],activePolls:[],whiteboardActive:!1}),g=s?"bg-gray-800 border border-gray-700":"bg-white",c=s?"text-white":"text-gray-900",r=s?"text-gray-300":"text-gray-600",p=s?"w-full px-3 py-2 rounded-lg bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500":"w-full px-3 py-2 rounded-lg bg-white border border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-blue-500";t.useEffect(()=>{k()},[]);const k=async()=>{try{const L=localStorage.getItem("token"),j="http://localhost:5000",O=y==="teacher"?`${j}/api/online-classes/teacher`:`${j}/api/online-classes/student`,M=await fetch(O,{headers:{Authorization:`Bearer ${L}`}});if(M.ok){const P=await M.json();o(P.classes||[])}else o([])}catch(L){console.error("Error fetching online classes:",L),o([])}finally{T(!1)}},m=async()=>{if(!n.title||!n.subject||!n.scheduled_time){alert("Please fill in all required fields");return}try{const L=localStorage.getItem("token"),j="http://localhost:5000",O=`class_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,M=n.moderator_password||`mod_${Math.random().toString(36).substr(2,8)}`,P=n.attendee_password||`att_${Math.random().toString(36).substr(2,8)}`,Q={...n,meeting_id:O,moderator_password:M,attendee_password:P,platform:"bigbluebutton"},te=await(await fetch(`${j}/api/online-classes/create`,{method:"POST",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify(Q)})).json();te.success?(alert("✅ Online class scheduled successfully!"),h({title:"",subject:"",class_level:"",scheduled_time:"",duration:60,description:"",meeting_link:"",enable_whiteboard:!0,enable_polls:!0,enable_breakout_rooms:!1,enable_recording:!0,enable_screen_sharing:!0,max_participants:50,moderator_password:"",attendee_password:""}),l(!1),k()):alert(`❌ Failed to create class: ${te.message}`)}catch(L){console.error("Create online class error:",L),alert("Failed to create online class. Please try again.")}},C=async L=>{try{const j=localStorage.getItem("token"),P=await(await fetch(`http://localhost:5000/api/online-classes/${L}/start`,{method:"POST",headers:{Authorization:`Bearer ${j}`}})).json();P.success?($(!0),x(P.session),N({meetingId:P.session.meeting_id,moderatorPassword:P.session.moderator_password,attendeePassword:P.session.attendee_password,joinUrl:P.session.join_url,isRecording:!1,breakoutRooms:[],activePolls:[],whiteboardActive:!1}),v("live")):alert(`❌ Failed to start class: ${P.message}`)}catch(j){console.error("Start class error:",j),alert("Failed to start class. Please try again.")}},J=async L=>{try{const j=localStorage.getItem("token"),P=await(await fetch(`http://localhost:5000/api/online-classes/${L}/join`,{method:"POST",headers:{Authorization:`Bearer ${j}`}})).json();P.success?($(!0),x(P.session),N({meetingId:P.session.meeting_id,moderatorPassword:P.session.moderator_password,attendeePassword:P.session.attendee_password,joinUrl:P.session.join_url,isRecording:!1,breakoutRooms:[],activePolls:[],whiteboardActive:!1}),v("live")):alert(`❌ Failed to join class: ${P.message}`)}catch(j){console.error("Join class error:",j),alert("Failed to join class. Please try again.")}},_=async()=>{if(d)try{const L=localStorage.getItem("token");(await(await fetch(`http://localhost:5000/api/online-classes/${d.id}/end`,{method:"POST",headers:{Authorization:`Bearer ${L}`}})).json()).success&&($(!1),x(null),N({meetingId:"",moderatorPassword:"",attendeePassword:"",joinUrl:"",isRecording:!1,breakoutRooms:[],activePolls:[],whiteboardActive:!1}),v("schedule"),k())}catch(L){console.error("End class error:",L)}},z=async()=>{try{const L=localStorage.getItem("token"),M=await(await fetch(`http://localhost:5000/api/online-classes/${d.id}/recording/start`,{method:"POST",headers:{Authorization:`Bearer ${L}`}})).json();M.success?(N(P=>({...P,isRecording:!0})),alert("✅ Recording started")):alert(`❌ Failed to start recording: ${M.message}`)}catch(L){console.error("Start recording error:",L),alert("Failed to start recording")}},B=async()=>{try{const L=localStorage.getItem("token"),M=await(await fetch(`http://localhost:5000/api/online-classes/${d.id}/recording/stop`,{method:"POST",headers:{Authorization:`Bearer ${L}`}})).json();M.success?(N(P=>({...P,isRecording:!1})),alert("✅ Recording stopped")):alert(`❌ Failed to stop recording: ${M.message}`)}catch(L){console.error("Stop recording error:",L),alert("Failed to stop recording")}},f=async()=>{const L=prompt("Enter poll question:");if(!L)return;const j=prompt("Enter poll options (separated by commas):");if(j)try{const O=localStorage.getItem("token"),Q=await(await fetch(`http://localhost:5000/api/online-classes/${d.id}/polls/create`,{method:"POST",headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},body:JSON.stringify({question:L,options:j.split(",").map(q=>q.trim())})})).json();Q.success?(N(q=>({...q,activePolls:[...q.activePolls,Q.poll]})),alert("✅ Poll created successfully")):alert(`❌ Failed to create poll: ${Q.message}`)}catch(O){console.error("Create poll error:",O),alert("Failed to create poll")}},R=async()=>{const L=prompt("Enter number of breakout rooms:");if(!(!L||isNaN(L)))try{const j=localStorage.getItem("token"),P=await(await fetch(`http://localhost:5000/api/online-classes/${d.id}/breakout-rooms/create`,{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({roomCount:parseInt(L)})})).json();P.success?(N(Q=>({...Q,breakoutRooms:P.rooms})),alert("✅ Breakout rooms created successfully")):alert(`❌ Failed to create breakout rooms: ${P.message}`)}catch(j){console.error("Create breakout rooms error:",j),alert("Failed to create breakout rooms")}},D=()=>{N(L=>({...L,whiteboardActive:!0})),alert("Opening BigBlueButton whiteboard...")};return b?e.jsx("div",{className:`${g} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})}):w&&i==="live"?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:`${g} rounded-xl shadow-lg p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${c}`,children:(d==null?void 0:d.title)||"Live Class Session"}),e.jsxs("p",{className:`${r} text-sm`,children:[d==null?void 0:d.subject," • ",(d==null?void 0:d.participants)||0," participants"]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded",children:["Meeting ID: ",S.meetingId]}),S.isRecording&&e.jsxs("span",{className:"text-xs text-red-600 bg-red-100 px-2 py-1 rounded flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-600 rounded-full mr-1 animate-pulse"}),"Recording"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"flex items-center px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[e.jsx("span",{className:"w-2 h-2 bg-red-600 rounded-full mr-2 animate-pulse"}),"LIVE"]})})]}),e.jsx("div",{className:"bg-gray-900 rounded-lg aspect-video flex items-center justify-center mb-6 relative",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(ke,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg",children:"Video Stream Area"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Connect your camera and microphone"}),S.whiteboardActive&&e.jsxs("div",{className:"absolute top-4 right-4 bg-blue-600 text-white px-3 py-1 rounded-full text-sm",children:[e.jsx(jt,{className:"w-4 h-4 inline mr-1"}),"Whiteboard Active"]})]})}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-6 flex-wrap",children:[e.jsx("button",{className:"p-3 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors",title:"Microphone",children:e.jsx(kt,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-3 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors",title:"Camera",children:e.jsx(ke,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-3 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors",title:"Screen Share",children:e.jsx(As,{className:"w-5 h-5"})}),y==="teacher"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:D,className:"p-3 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors",title:"Whiteboard",children:e.jsx(jt,{className:"w-5 h-5"})}),e.jsx("button",{onClick:f,className:"p-3 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors",title:"Create Poll",children:e.jsx(de,{className:"w-5 h-5"})}),e.jsx("button",{onClick:R,className:"p-3 bg-purple-600 text-white rounded-full hover:bg-purple-700 transition-colors",title:"Breakout Rooms",children:e.jsx(ft,{className:"w-5 h-5"})}),e.jsx("button",{onClick:S.isRecording?B:z,className:`p-3 rounded-full transition-colors ${S.isRecording?"bg-red-600 hover:bg-red-700":"bg-gray-700 hover:bg-gray-600"} text-white`,title:S.isRecording?"Stop Recording":"Start Recording",children:e.jsx("span",{className:"w-5 h-5 flex items-center justify-center",children:S.isRecording?"⏹":"⏺"})})]}),e.jsx("button",{className:"p-3 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors",title:"Chat",children:e.jsx(Fe,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-3 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors",title:"Participants",children:e.jsx(me,{className:"w-5 h-5"})}),e.jsx("button",{onClick:_,className:"p-3 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",title:"End Class",children:e.jsx(Pa,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:`${s?"bg-gray-700":"bg-gray-50"} rounded-lg p-4`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ie,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:`text-sm font-medium ${c}`,children:"Duration"})]}),e.jsxs("p",{className:`text-2xl font-bold ${c}`,children:[(d==null?void 0:d.duration)||0," min"]})]}),e.jsxs("div",{className:`${s?"bg-gray-700":"bg-gray-50"} rounded-lg p-4`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(me,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:`text-sm font-medium ${c}`,children:"Participants"})]}),e.jsx("p",{className:`text-2xl font-bold ${c}`,children:(d==null?void 0:d.participants)||0})]}),e.jsxs("div",{className:`${s?"bg-gray-700":"bg-gray-50"} rounded-lg p-4`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(de,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:`text-sm font-medium ${c}`,children:"Active Polls"})]}),e.jsx("p",{className:`text-2xl font-bold ${c}`,children:S.activePolls.length})]}),e.jsxs("div",{className:`${s?"bg-gray-700":"bg-gray-50"} rounded-lg p-4`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ft,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:`text-sm font-medium ${c}`,children:"Breakout Rooms"})]}),e.jsx("p",{className:`text-2xl font-bold ${c}`,children:S.breakoutRooms.length})]})]}),S.activePolls.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${c}`,children:"Active Polls"}),e.jsx("div",{className:"space-y-3",children:S.activePolls.map((L,j)=>e.jsxs("div",{className:`${s?"bg-gray-700":"bg-gray-50"} rounded-lg p-4`,children:[e.jsx("p",{className:`font-medium ${c} mb-2`,children:L.question}),e.jsx("div",{className:"space-y-2",children:L.options.map((O,M)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:r,children:O}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"60%"}})}),e.jsx("span",{className:"text-sm text-gray-500",children:"60%"})]})]},M))})]},j))})]}),S.breakoutRooms.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:`text-lg font-semibold mb-3 ${c}`,children:"Breakout Rooms"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.breakoutRooms.map((L,j)=>e.jsxs("div",{className:`${s?"bg-gray-700":"bg-gray-50"} rounded-lg p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:`font-medium ${c}`,children:["Room ",j+1]}),e.jsxs("span",{className:"text-sm text-green-600",children:[L.participants||0," participants"]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Duration: ",L.duration||"Unlimited"]})]},j))})]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${g} rounded-xl shadow-lg p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:`text-2xl font-bold ${c} flex items-center`,children:[e.jsx(ke,{className:"w-7 h-7 mr-3 text-blue-600"}),"Online Classes"]}),e.jsx("p",{className:`${r} mt-1`,children:y==="teacher"?"Schedule and conduct live classes":"Join your scheduled online classes"})]}),y==="teacher"&&e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-lg",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Schedule Class"]})]}),e.jsxs("div",{className:`flex space-x-1 ${s?"bg-gray-700":"bg-gray-100"} rounded-lg p-1`,children:[e.jsxs("button",{onClick:()=>v("schedule"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${i==="schedule"?`${s?"bg-gray-800":"bg-white"} text-blue-600 shadow-sm`:`${r} hover:text-blue-600`}`,children:[e.jsx(ne,{className:"w-4 h-4 inline mr-2"}),"Schedule"]}),e.jsxs("button",{onClick:()=>v("history"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${i==="history"?`${s?"bg-gray-800":"bg-white"} text-blue-600 shadow-sm`:`${r} hover:text-blue-600`}`,children:[e.jsx(ie,{className:"w-4 h-4 inline mr-2"}),"History"]})]})]}),a&&y==="teacher"&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${g} rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto`,children:[e.jsx("h4",{className:`text-lg font-semibold mb-4 ${c}`,children:"Schedule Online Class"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r}`,children:"Class Title *"}),e.jsx("input",{type:"text",value:n.title,onChange:L=>h(j=>({...j,title:L.target.value})),className:p,placeholder:"e.g., Mathematics Lesson"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r}`,children:"Subject *"}),e.jsxs("select",{value:n.subject,onChange:L=>h(j=>({...j,subject:L.target.value})),className:p,children:[e.jsx("option",{value:"",children:"Select subject..."}),e.jsx("option",{value:"Mathematics",children:"Mathematics"}),e.jsx("option",{value:"Physics",children:"Physics"}),e.jsx("option",{value:"Chemistry",children:"Chemistry"}),e.jsx("option",{value:"Biology",children:"Biology"}),e.jsx("option",{value:"English",children:"English"}),e.jsx("option",{value:"History",children:"History"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r}`,children:"Class Level"}),e.jsxs("select",{value:n.class_level,onChange:L=>h(j=>({...j,class_level:L.target.value})),className:p,children:[e.jsx("option",{value:"",children:"Select class..."}),e.jsx("option",{value:"S1",children:"S1"}),e.jsx("option",{value:"S2",children:"S2"}),e.jsx("option",{value:"S3",children:"S3"}),e.jsx("option",{value:"S4",children:"S4"}),e.jsx("option",{value:"S5",children:"S5"}),e.jsx("option",{value:"S6",children:"S6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r}`,children:"Scheduled Time *"}),e.jsx("input",{type:"datetime-local",value:n.scheduled_time,onChange:L=>h(j=>({...j,scheduled_time:L.target.value})),className:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r}`,children:"Duration (minutes)"}),e.jsx("input",{type:"number",value:n.duration,onChange:L=>h(j=>({...j,duration:parseInt(L.target.value)})),className:p,min:"15",max:"180"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r}`,children:"Max Participants"}),e.jsx("input",{type:"number",value:n.max_participants,onChange:L=>h(j=>({...j,max_participants:parseInt(L.target.value)})),className:p,min:"1",max:"100",placeholder:"50"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${r}`,children:"Description"}),e.jsx("textarea",{value:n.description,onChange:L=>h(j=>({...j,description:L.target.value})),className:p,rows:"3",placeholder:"Class description and topics to be covered..."})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h5",{className:`text-lg font-semibold mb-4 ${c}`,children:"Advanced Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:n.enable_whiteboard,onChange:L=>h(j=>({...j,enable_whiteboard:L.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("span",{className:`text-sm ${r}`,children:[e.jsx(jt,{className:"w-4 h-4 inline mr-2"}),"Enable Whiteboard"]})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:n.enable_polls,onChange:L=>h(j=>({...j,enable_polls:L.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("span",{className:`text-sm ${r}`,children:[e.jsx(de,{className:"w-4 h-4 inline mr-2"}),"Enable Polls"]})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:n.enable_breakout_rooms,onChange:L=>h(j=>({...j,enable_breakout_rooms:L.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("span",{className:`text-sm ${r}`,children:[e.jsx(ft,{className:"w-4 h-4 inline mr-2"}),"Enable Breakout Rooms"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:n.enable_recording,onChange:L=>h(j=>({...j,enable_recording:L.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("span",{className:`text-sm ${r}`,children:[e.jsx("span",{className:"w-4 h-4 inline mr-2",children:"⏺"}),"Enable Recording"]})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:n.enable_screen_sharing,onChange:L=>h(j=>({...j,enable_screen_sharing:L.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("span",{className:`text-sm ${r}`,children:[e.jsx(As,{className:"w-4 h-4 inline mr-2"}),"Enable Screen Sharing"]})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Schedule Class"})]})]})}),i==="schedule"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.length>0?u.map(L=>e.jsxs("div",{className:`${g} rounded-xl shadow-lg p-6`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-semibold ${c}`,children:L.title}),e.jsxs("p",{className:`text-sm ${r}`,children:[L.subject," • ",L.class_level]})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${L.status==="live"?"bg-red-100 text-red-800":L.status==="scheduled"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:L.status})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ne,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{className:r,children:new Date(L.scheduled_time).toLocaleString()})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ie,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:r,children:[L.duration," minutes"]})]}),L.participants_count>0&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(me,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:r,children:[L.participants_count," participants"]})]})]}),L.description&&e.jsx("p",{className:`text-sm ${r} mb-4`,children:L.description}),e.jsxs("div",{className:"flex space-x-2",children:[y==="teacher"?e.jsxs("button",{onClick:()=>C(L.id),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Start Class"]}):e.jsxs("button",{onClick:()=>J(L.id),className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",disabled:L.status!=="live",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Join Class"]}),L.meeting_id&&e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Meeting ID: ",L.meeting_id]}),e.jsxs("button",{onClick:()=>navigator.clipboard.writeText(L.meeting_id),className:"bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center text-sm",children:[e.jsx(Ta,{className:"w-4 h-4 mr-1"}),"Copy ID"]})]})]})]},L.id)):e.jsx("div",{className:`${g} rounded-xl shadow-lg p-6 col-span-2`,children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ke,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:r,children:"No online classes scheduled"}),e.jsx("p",{className:`text-sm ${r}`,children:y==="teacher"?'Click "Schedule Class" to create a new online class':"Check back later for scheduled classes"})]})})}),i==="history"&&e.jsxs("div",{className:`${g} rounded-xl shadow-lg p-6`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${c}`,children:"Class History"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ie,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:r,children:"No class history available"})]})]})]})},Nt=({children:y,userRole:A,currentUser:s,darkMode:i=!1,restrictionType:v="performance",onRestrictionBypass:u=null})=>{const[o,b]=t.useState(null),[T,w]=t.useState(!0),[$,d]=t.useState(!1),[x,a]=t.useState(!1),l=i?"bg-gray-900":"bg-gray-50",n=i?"bg-gray-800 border-gray-700":"bg-white border-gray-200",h=i?"text-white":"text-gray-900",S=i?"text-gray-300":"text-gray-600",N=i?"text-gray-400":"text-gray-500";t.useEffect(()=>{g()},[s]);const g=async()=>{try{w(!0);const J=await Ns.getFeeBalance(s==null?void 0:s.id);if(J.success){const _=J.balance||0;b(_);const z=_<=0;d(z||A==="admin")}else{const _=A==="parent"?45e4:0;b(_),d(_<=0||A==="admin")}}catch(J){console.error("Error checking fee balance:",J),b(45e4),d(!1)}finally{w(!1)}},c=J=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(J),r=()=>{switch(v){case"performance":return{title:"Performance Reports Restricted",message:"You cannot view detailed performance reports until all outstanding fees are cleared.",icon:wt};case"grades":return{title:"Grade Reports Restricted",message:"You cannot view grade reports until all outstanding fees are cleared.",icon:$t};case"reports":return{title:"Academic Reports Restricted",message:"You cannot view academic reports until all outstanding fees are cleared.",icon:re};default:return{title:"Access Restricted",message:"You cannot view this content until all outstanding fees are cleared.",icon:$t}}},p=()=>{a(!0)},k=()=>{a(!1),g()};if(T)return e.jsx("div",{className:`${l} min-h-screen p-6`,children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if($)return y;const m=r(),C=m.icon;return e.jsxs("div",{className:`${l} min-h-screen p-6`,children:[e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:`${n} rounded-xl shadow-lg border p-8 text-center`,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(C,{className:"w-10 h-10 text-red-600"})}),e.jsx("h2",{className:`text-2xl font-bold ${h} mb-2`,children:m.title}),e.jsx("p",{className:`${S} mb-6`,children:m.message})]}),e.jsxs("div",{className:`${n} rounded-lg border p-6 mb-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${h}`,children:"Outstanding Fee Balance"}),e.jsx(ze,{className:"w-6 h-6 text-red-600"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-red-600 mb-2",children:c(o)}),e.jsx("p",{className:`text-sm ${N}`,children:"This amount must be paid in full to access academic reports"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("button",{onClick:p,className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(vs,{className:"w-5 h-5"}),e.jsx("span",{children:"Make Payment"})]}),e.jsxs("button",{onClick:()=>window.location.href="/payments",className:"flex items-center space-x-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(ze,{className:"w-5 h-5"}),e.jsx("span",{children:"View Payment Plans"})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:`text-sm ${N}`,children:"Need help? Contact the finance office at finance@school.edu or call +256 700 000 000"})})]}),e.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(oe,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-1",children:"Important Notice"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"According to school policy, parents and teachers cannot access detailed academic reports (including end-of-term results, performance analytics, and grade reports) until all outstanding fees are cleared. This policy ensures fair access to academic information for all stakeholders."})]})]})})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${n} rounded-xl shadow-xl p-6 w-full max-w-2xl border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${h}`,children:"Make Payment"}),e.jsx("button",{onClick:()=>a(!1),className:`${N} hover:${h}`,children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:`font-semibold ${h} mb-2`,children:"Payment Amount"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c(o)}),e.jsx("p",{className:`text-sm ${N}`,children:"Pay this amount to regain access to academic reports"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>{alert("Mobile Money payment integration would be implemented here"),k()},className:"flex items-center justify-center space-x-2 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Fs,{className:"w-5 h-5"}),e.jsx("span",{children:"Mobile Money"})]}),e.jsxs("button",{onClick:()=>{alert("Bank transfer integration would be implemented here"),k()},className:"flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Bs,{className:"w-5 h-5"}),e.jsx("span",{children:"Bank Transfer"})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:`text-sm ${N}`,children:"Payment will be processed immediately and access will be restored"})})]})]})})]})},Hl=({user:y})=>{const[A,s]=t.useState([]),[i,v]=t.useState(null),[u,o]=t.useState(null),[b,T]=t.useState([]),[w,$]=t.useState([]),[d,x]=t.useState(""),[a,l]=t.useState(!1),[n,h]=t.useState("idle"),[S,N]=t.useState([]),[g,c]=t.useState("normal"),[r,p]=t.useState(!1),[k,m]=t.useState(!1),[C,J]=t.useState(!0),[_,z]=t.useState(!1),[B,f]=t.useState(!1),[R,D]=t.useState([]),[L,j]=t.useState([]),[O,M]=t.useState([]),[P,Q]=t.useState(""),[q,te]=t.useState("all"),[Z,I]=t.useState(!1),[F,G]=t.useState(!1),[le,H]=t.useState(!1),[xe,Y]=t.useState(!1),[V,E]=t.useState(!1),[K,ae]=t.useState(!1),[Pe,Ee]=t.useState(!1),[Te,ss]=t.useState(!1),[bs,cs]=t.useState(!1),[Ge,ls]=t.useState(null);t.useEffect(()=>{Ke()},[]),t.useEffect(()=>{if(i){ds();const X=setInterval(ds,5e3);return()=>clearInterval(X)}},[i]);const Ke=async()=>{try{const X=y.role==="teacher"?`?teacher_id=${y.id}`:"",De=await(await fetch(`http://localhost:5000/api/proctoring/sessions${X}`)).json();De.success&&s(De.data)}catch(X){console.error("Error loading exam sessions:",X)}},ds=async()=>{if(i)try{const ue=await(await fetch(`http://localhost:5000/api/proctoring/sessions/${i.id}/dashboard`)).json();ue.success&&(o(ue),T(ue.recent_flags))}catch(X){console.error("Error loading dashboard data:",X)}},rs=async()=>{if(i)try{const ue=await(await fetch(`http://localhost:5000/api/proctoring/sessions/${i.id}/messages?user_id=${y.id}`)).json();ue.success&&$(ue.data)}catch(X){console.error("Error loading messages:",X)}},Ae=async(X,ue,De,hs)=>{try{(await(await fetch("http://localhost:5000/api/proctoring/flags",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({student_exam_session_id:X,flag_type:ue,severity:De,description:hs,flagged_by:y.id})})).json()).success&&(ds(),alert("Student flagged successfully"))}catch(U){console.error("Error creating flag:",U)}},ye=async X=>{try{(await(await fetch(`http://localhost:5000/api/proctoring/sessions/${X}/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({started_by:y.id})})).json()).success&&(h("active"),Ke(),we("Exam session started",`Session ${i==null?void 0:i.title} has been started by ${y.name}`))}catch(ue){console.error("Error starting exam session:",ue)}},fe=async X=>{try{(await(await fetch(`http://localhost:5000/api/proctoring/sessions/${X}/pause`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paused_by:y.id})})).json()).success&&(h("paused"),Ke(),we("Exam session paused",`Session ${i==null?void 0:i.title} has been paused by ${y.name}`))}catch(ue){console.error("Error pausing exam session:",ue)}},Ve=async X=>{try{(await(await fetch(`http://localhost:5000/api/proctoring/sessions/${X}/end`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ended_by:y.id})})).json()).success&&(h("ended"),Ke(),we("Exam session ended",`Session ${i==null?void 0:i.title} has been ended by ${y.name}`))}catch(ue){console.error("Error ending exam session:",ue)}},we=async(X,ue)=>{try{(await(await fetch("http://localhost:5000/api/proctoring/admin-notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:X,message:ue,session_id:i==null?void 0:i.id,created_by:y.id,priority:"medium"})})).json()).success&&N(U=>[...U,{title:X,message:ue,timestamp:new Date}])}catch(De){console.error("Error sending admin notification:",De)}},Ue=async(X=null)=>{if(d.trim())try{(await(await fetch("http://localhost:5000/api/proctoring/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({exam_session_id:i.id,sender_id:y.id,recipient_id:X,message_type:X?"chat":"alert",message:d})})).json()).success&&(x(""),rs())}catch(ue){console.error("Error sending message:",ue)}},Is=async(X,ue)=>{try{(await(await fetch(`http://localhost:5000/api/proctoring/flags/${X}/resolve`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({resolved_by:y.id,resolution_notes:ue})})).json()).success&&ds()}catch(De){console.error("Error resolving flag:",De)}},Be=async X=>{try{(await(await fetch("http://localhost:5000/api/proctoring/identity-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({student_id:X,session_id:i.id,verification_type:"biometric"})})).json()).success&&(alert("Identity verification completed successfully"),ds())}catch(ue){console.error("Error verifying identity:",ue)}},os=async()=>{try{(await(await fetch("http://localhost:5000/api/proctoring/secure-browser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:i.id,enabled:!k})})).json()).success&&(m(!k),alert(`Secure browser ${k?"disabled":"enabled"}`))}catch(X){console.error("Error toggling secure browser:",X)}},ts=async()=>{try{(await(await fetch("http://localhost:5000/api/proctoring/ai-monitoring",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:i.id,enabled:!C})})).json()).success&&(J(!C),alert(`AI monitoring ${C?"disabled":"enabled"}`))}catch(X){console.error("Error toggling AI monitoring:",X)}},_s=async()=>{try{(await(await fetch("http://localhost:5000/api/proctoring/live-proctoring",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:i.id,enabled:!_})})).json()).success&&(z(!_),alert(`Live proctoring ${_?"disabled":"enabled"}`))}catch(X){console.error("Error toggling live proctoring:",X)}},Ks=async()=>{try{const ue=await(await fetch(`http://localhost:5000/api/proctoring/suspicious-activity?session_id=${i.id}`)).json();ue.success&&M(ue.activities)}catch(X){console.error("Error loading suspicious activity:",X)}},Hs=X=>{const ue={low:"text-yellow-600 bg-yellow-100",medium:"text-orange-600 bg-orange-100",high:"text-red-600 bg-red-100",critical:"text-red-800 bg-red-200"};return ue[X]||ue.medium},Os=X=>{const ue={on:"text-green-600",off:"text-red-600",not_available:"text-gray-400"};return ue[X]||ue.off},Zs=async X=>{try{const ue=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480},audio:!1}),De=document.getElementById(`camera-${X}`),hs=document.getElementById(`placeholder-${X}`);De&&hs&&(De.srcObject=ue,De.style.display="block",hs.style.display="none",await qs(X,"on"))}catch(ue){console.error("Error accessing camera:",ue),alert("Camera access denied or not available")}},et=async()=>{try{const X=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480},audio:!1});u.students&&u.students.forEach(ue=>{const De=document.getElementById(`camera-${ue.id}`),hs=document.getElementById(`placeholder-${ue.id}`);De&&hs&&(De.srcObject=X,De.style.display="block",hs.style.display="none")})}catch(X){console.error("Error accessing camera:",X),alert("Camera access denied or not available")}},qs=async(X,ue)=>{try{(await fetch(`http://localhost:5000/api/proctoring/student-sessions/${X}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({camera_status:ue,mic_status:"on",screen_share_status:"off"})})).ok&&ds()}catch(De){console.error("Error updating camera status:",De)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Exam Proctoring Dashboard"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Exam Session"}),e.jsxs("select",{value:(i==null?void 0:i.id)||"",onChange:X=>{const ue=A.find(De=>De.id===parseInt(X.target.value));v(ue)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select an exam session..."}),A&&A.map(X=>e.jsxs("option",{value:X.id,children:[X.title," - ",new Date(X.start_time).toLocaleString()]},X.id))]})]})]}),i&&u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Session Control"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n==="active"?"bg-green-100 text-green-800":n==="paused"?"bg-yellow-100 text-yellow-800":n==="ended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:n.charAt(0).toUpperCase()+n.slice(1)})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>ye(i.id),disabled:n==="active",className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[e.jsx(la,{className:"w-4 h-4"}),e.jsx("span",{children:"Start Session"})]}),e.jsxs("button",{onClick:()=>fe(i.id),disabled:n!=="active",className:"flex items-center space-x-2 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[e.jsx(aa,{className:"w-4 h-4"}),e.jsx("span",{children:"Pause Session"})]}),e.jsxs("button",{onClick:()=>Ve(i.id),disabled:n==="ended",className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[e.jsx(Pt,{className:"w-4 h-4"}),e.jsx("span",{children:"End Session"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Supervision Mode:"}),e.jsxs("select",{value:g,onChange:X=>c(X.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"relaxed",children:"Relaxed"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"strict",children:"Strict"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Enhanced Proctoring Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Us,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"font-medium text-gray-800",children:"Identity Verification"})]}),e.jsx("button",{onClick:()=>p(!r),className:`px-3 py-1 rounded text-sm ${r?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:r?"Enabled":"Disabled"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Biometric authentication and facial recognition"}),e.jsx("button",{onClick:()=>G(!0),className:"w-full px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Verify All Students"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"font-medium text-gray-800",children:"Secure Browser"})]}),e.jsx("button",{onClick:os,className:`px-3 py-1 rounded text-sm ${k?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:k?"Locked":"Unlocked"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Prevent unauthorized resource access"}),e.jsx("button",{onClick:()=>H(!0),className:"w-full px-3 py-2 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:k?"Unlock Browser":"Lock Browser"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ss,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"font-medium text-gray-800",children:"AI Monitoring"})]}),e.jsx("button",{onClick:ts,className:`px-3 py-1 rounded text-sm ${C?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:C?"Active":"Inactive"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Screen activity and behavior analysis"}),e.jsx("button",{onClick:()=>Y(!0),className:"w-full px-3 py-2 bg-purple-600 text-white rounded text-sm hover:bg-purple-700",children:C?"Disable AI":"Enable AI"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"font-medium text-gray-800",children:"Live Proctoring"})]}),e.jsx("button",{onClick:_s,className:`px-3 py-1 rounded text-sm ${_?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:_?"Live":"Offline"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Human proctor real-time monitoring"}),e.jsx("button",{onClick:_s,className:"w-full px-3 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:_?"End Live":"Start Live"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"font-medium text-gray-800",children:"Pre-Exam Checks"})]}),e.jsx(se,{className:"w-5 h-5 text-green-500"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"System and environment verification"}),e.jsx("button",{onClick:()=>E(!0),className:"w-full px-3 py-2 bg-orange-600 text-white rounded text-sm hover:bg-orange-700",children:"Run Checks"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"font-medium text-gray-800",children:"Automated Grading"})]}),e.jsx("button",{onClick:()=>f(!B),className:`px-3 py-1 rounded text-sm ${B?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:B?"Active":"Inactive"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"AI-powered exam response grading"}),e.jsx("button",{onClick:()=>ae(!0),className:"w-full px-3 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Process Grading"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"w-5 h-5 text-indigo-500"}),e.jsx("span",{className:"font-medium text-gray-800",children:"Exam Reports"})]}),e.jsx(de,{className:"w-5 h-5 text-indigo-500"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Comprehensive activity analysis"}),e.jsx("button",{onClick:()=>I(!0),className:"w-full px-3 py-2 bg-indigo-600 text-white rounded text-sm hover:bg-indigo-700",children:"Generate Report"})]})]})]}),y.role==="admin"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Admin Notifications"}),e.jsx(Ye,{className:"w-5 h-5 text-blue-500"})]}),e.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[S.map((X,ue)=>e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-blue-800",children:X.title}),e.jsx("span",{className:"text-xs text-blue-600",children:new Date(X.timestamp).toLocaleTimeString()})]}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:X.message})]},ue)),S.length===0&&e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No notifications"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.stats.total_students||0})]}),e.jsx(me,{className:"w-12 h-12 text-blue-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Now"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:u.stats.active_students||0})]}),e.jsx(je,{className:"w-12 h-12 text-green-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Cameras On"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:u.stats.cameras_on||0})]}),e.jsx(Ws,{className:"w-12 h-12 text-blue-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Flagged Students"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:u.stats.flagged_students||0})]}),e.jsx(ct,{className:"w-12 h-12 text-red-500"})]})})]}),_&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Live Camera Feeds"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-red-600 font-medium",children:"LIVE"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[u.students&&u.students.filter(X=>X.camera_status==="on").map(X=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-900 aspect-video flex items-center justify-center relative",children:[e.jsx("video",{id:`camera-${X.id}`,className:"w-full h-full object-cover",autoPlay:!0,muted:!0,playsInline:!0,style:{display:"none"}}),e.jsxs("div",{id:`placeholder-${X.id}`,className:"text-white text-center",children:[e.jsx(ke,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm opacity-75",children:"Camera Feed"}),e.jsxs("p",{className:"text-xs opacity-50",children:[X.first_name," ",X.last_name]}),e.jsx("button",{onClick:()=>Zs(X.id),className:"mt-2 px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700",children:"Request Camera"})]}),e.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:X.admission_number})]}),e.jsxs("div",{className:"p-3 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium text-sm",children:[X.first_name," ",X.last_name]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ws,{className:"w-3 h-3 text-green-600"}),e.jsx(kt,{className:"w-3 h-3 text-green-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Status: ",X.status]}),X.flag_count>0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ct,{className:"w-3 h-3 text-red-500"}),e.jsx("span",{className:"text-xs text-red-600",children:X.flag_count})]})]})]})]},X.id)),(!u.students||u.students.filter(X=>X.camera_status==="on").length===0)&&e.jsxs("div",{className:"col-span-full text-center py-8",children:[e.jsx(ke,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No active camera feeds"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Students need to enable their cameras to appear here"}),e.jsx("button",{onClick:et,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Request All Cameras"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Students Monitoring"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search students...",value:P,onChange:X=>Q(X.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("select",{value:q,onChange:X=>te(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"all",children:"All Students"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"flagged",children:"Flagged"}),e.jsx("option",{value:"camera_off",children:"Camera Off"}),e.jsx("option",{value:"mic_off",children:"Mic Off"})]})]})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:u.students&&u.students.filter(X=>{var hs;const ue=!P||`${X.first_name} ${X.last_name}`.toLowerCase().includes(P.toLowerCase())||((hs=X.admission_number)==null?void 0:hs.toLowerCase().includes(P.toLowerCase())),De=q==="all"||q==="active"&&X.status==="in_progress"||q==="flagged"&&X.flag_count>0||q==="camera_off"&&X.camera_status==="off"||q==="mic_off"&&X.mic_status==="off";return ue&&De}).map(X=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-800",children:[X.first_name," ",X.last_name]}),e.jsx("p",{className:"text-sm text-gray-600",children:X.admission_number})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${X.status==="in_progress"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:X.status})})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ws,{className:`w-4 h-4 ${Os(X.camera_status)}`}),e.jsx("span",{className:"text-gray-600",children:"Camera"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(kt,{className:`w-4 h-4 ${Os(X.mic_status)}`}),e.jsx("span",{className:"text-gray-600",children:"Mic"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(As,{className:`w-4 h-4 ${Os(X.screen_share_status)}`}),e.jsx("span",{className:"text-gray-600",children:"Screen"})]}),X.flag_count>0&&e.jsxs("div",{className:"flex items-center space-x-1 text-red-600",children:[e.jsx(ct,{className:"w-4 h-4"}),e.jsxs("span",{children:[X.flag_count," flags"]})]})]}),y.role==="teacher"&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>Ae(X.id,"manual","medium","Manual flag by teacher"),className:"px-3 py-1 bg-yellow-500 text-white rounded text-sm hover:bg-yellow-600 flex items-center space-x-1",children:[e.jsx(ct,{className:"w-3 h-3"}),e.jsx("span",{children:"Flag"})]}),e.jsxs("button",{onClick:()=>{ls(X),ss(!0)},className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 flex items-center space-x-1",children:[e.jsx(Fe,{className:"w-3 h-3"}),e.jsx("span",{children:"Message"})]}),e.jsxs("button",{onClick:()=>Be(X.student_id),className:"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 flex items-center space-x-1",children:[e.jsx(Us,{className:"w-3 h-3"}),e.jsx("span",{children:"Verify"})]}),e.jsxs("button",{onClick:()=>{ls(X),cs(!0)},className:`px-3 py-1 rounded text-sm flex items-center space-x-1 ${X.camera_status==="on"?"bg-red-500 text-white hover:bg-red-600":"bg-gray-500 text-white hover:bg-gray-600"}`,children:[e.jsx(Ws,{className:"w-3 h-3"}),e.jsx("span",{children:X.camera_status==="on"?"Disable":"Enable"})]})]})]},X.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Recent Flags"}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:b&&b.length>0?b.map(X=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-sm text-gray-800",children:[X.first_name," ",X.last_name]}),e.jsxs("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${Hs(X.severity)}`,children:[X.severity," - ",X.flag_type]})]}),!X.resolved&&e.jsx("button",{onClick:()=>{const ue=prompt("Resolution notes:");ue&&Is(X.id,ue)},className:"text-green-600 hover:text-green-800",children:e.jsx(se,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-xs text-gray-600",children:X.description}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(X.flagged_at).toLocaleString()})]},X.id)):e.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No flags yet"})})]})]}),y.role==="teacher"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Broadcast Message"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:d,onChange:X=>x(X.target.value),placeholder:"Type a message to all students...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",onKeyPress:X=>X.key==="Enter"&&Ue()}),e.jsx("button",{onClick:()=>Ue(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:e.jsx(Fe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Suspicious Activity Monitoring"}),e.jsxs("button",{onClick:Ks,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center space-x-2",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600",children:"High Risk"}),e.jsx("p",{className:"text-2xl font-bold text-red-800",children:O.filter(X=>X.severity==="high").length})]}),e.jsx(Ts,{className:"w-8 h-8 text-red-500"})]})}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-600",children:"Medium Risk"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-800",children:O.filter(X=>X.severity==="medium").length})]}),e.jsx(oe,{className:"w-8 h-8 text-yellow-500"})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600",children:"Screen Changes"}),e.jsx("p",{className:"text-2xl font-bold text-blue-800",children:O.filter(X=>X.activity_type==="screen_change").length})]}),e.jsx(As,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600",children:"Audio Anomalies"}),e.jsx("p",{className:"text-2xl font-bold text-purple-800",children:O.filter(X=>X.activity_type==="audio_anomaly").length})]}),e.jsx(Fa,{className:"w-8 h-8 text-purple-500"})]})})]}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:O.length>0?O.map((X,ue)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${X.severity==="high"?"bg-red-100 text-red-800":X.severity==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:X.severity}),e.jsx("span",{className:"font-medium text-gray-800",children:X.student_name})]}),e.jsx("span",{className:"text-xs text-gray-500",children:X.timestamp})]}),e.jsx("p",{className:"text-sm text-gray-600",children:X.description})]},ue)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Le,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No suspicious activity detected"}),e.jsx("p",{className:"text-sm text-gray-400",children:"AI monitoring will detect and display suspicious activities here"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Exam Reports & Analytics"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>I(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center space-x-2",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"Generate Report"})]}),e.jsxs("button",{onClick:()=>Ee(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]})]}),R.length>0?e.jsx("div",{className:"space-y-4",children:R.map((X,ue)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-semibold text-gray-800",children:["Exam Report - ",X.session_title]}),e.jsx("span",{className:"text-sm text-gray-500",children:X.generated_at})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-blue-600",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-blue-800",children:X.total_students})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-green-600",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-800",children:X.completed_students})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-red-600",children:"Flagged Incidents"}),e.jsx("p",{className:"text-2xl font-bold text-red-800",children:X.total_flags})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Key Insights:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("li",{children:["• Average exam completion time: ",X.avg_completion_time]}),e.jsxs("li",{children:["• Most common flag type: ",X.most_common_flag]}),e.jsxs("li",{children:["• System integrity score: ",X.integrity_score,"%"]}),e.jsxs("li",{children:["• Recommended actions: ",X.recommendations]})]})]})]},ue))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(de,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No reports generated yet"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Generate a report to view detailed analytics"})]})]})]}),!i&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[e.jsx(je,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Select an exam session to start monitoring"})]}),Z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📊 Generate Exam Report"}),e.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"generate-report-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Report Type *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Report Type"}),e.jsx("option",{value:"comprehensive",children:"Comprehensive Activity Report"}),e.jsx("option",{value:"flags",children:"Proctoring Flags Summary"}),e.jsx("option",{value:"behavioral",children:"Behavioral Analysis"}),e.jsx("option",{value:"technical",children:"Technical Issues Report"}),e.jsx("option",{value:"summary",children:"Executive Summary"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Include Data"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Student activity logs"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Flagged incidents"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"System performance"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Screenshots"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Export Format"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"pdf",children:"PDF Report"}),e.jsx("option",{value:"excel",children:"Excel Spreadsheet"}),e.jsx("option",{value:"csv",children:"CSV Data"}),e.jsx("option",{value:"json",children:"JSON Data"})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>I(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"generate-report-form",className:"flex-1 py-2 px-4 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600",children:"Generate Report"})]})})]})}),F&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"👥 Verify All Students"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"verify-students-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Verification Method *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Method"}),e.jsx("option",{value:"biometric",children:"Biometric Authentication"}),e.jsx("option",{value:"facial",children:"Facial Recognition"}),e.jsx("option",{value:"document",children:"Document Verification"}),e.jsx("option",{value:"manual",children:"Manual Verification"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Students to Verify"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"all",children:"All Enrolled Students"}),e.jsx("option",{value:"active",children:"Active Students Only"}),e.jsx("option",{value:"flagged",children:"Flagged Students Only"}),e.jsx("option",{value:"custom",children:"Custom Selection"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Verification Options"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Require photo verification"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Check against student database"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Generate verification report"})]})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>G(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"verify-students-form",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Start Verification"})]})})]})}),le&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🔒 Browser Security Control"}),e.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"lock-browser-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Security Action *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Action"}),e.jsx("option",{value:"lock",children:"Lock Browser"}),e.jsx("option",{value:"unlock",children:"Unlock Browser"}),e.jsx("option",{value:"restrict",children:"Restrict Access"}),e.jsx("option",{value:"fullscreen",children:"Enable Fullscreen Mode"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Security Level"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"low",children:"Low - Basic restrictions"}),e.jsx("option",{value:"medium",selected:!0,children:"Medium - Standard lockdown"}),e.jsx("option",{value:"high",children:"High - Strict lockdown"}),e.jsx("option",{value:"maximum",children:"Maximum - Complete isolation"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Restrictions to Apply"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Block external websites"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Disable right-click menu"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Block keyboard shortcuts"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Prevent screen capture"})]})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>H(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"lock-browser-form",className:"flex-1 py-2 px-4 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Apply Security"})]})})]})}),xe&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🤖 AI Monitoring Control"}),e.jsx("button",{onClick:()=>Y(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"disable-ai-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"AI Action *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Action"}),e.jsx("option",{value:"disable",children:"Disable AI Monitoring"}),e.jsx("option",{value:"enable",children:"Enable AI Monitoring"}),e.jsx("option",{value:"pause",children:"Pause AI Monitoring"}),e.jsx("option",{value:"configure",children:"Configure AI Settings"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"AI Monitoring Features"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Screen activity tracking"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Audio analysis"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Video analysis"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Behavioral anomaly detection"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Sensitivity Level"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"low",children:"Low - Minimal alerts"}),e.jsx("option",{value:"medium",selected:!0,children:"Medium - Standard monitoring"}),e.jsx("option",{value:"high",children:"High - Aggressive monitoring"}),e.jsx("option",{value:"maximum",children:"Maximum - All activities flagged"})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>Y(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"disable-ai-form",className:"flex-1 py-2 px-4 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:"Update AI Settings"})]})})]})}),V&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🛡️ Pre-Exam System Checks"}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"run-checks-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Check Type *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Check Type"}),e.jsx("option",{value:"full",children:"Full System Check"}),e.jsx("option",{value:"hardware",children:"Hardware Check"}),e.jsx("option",{value:"network",children:"Network Check"}),e.jsx("option",{value:"security",children:"Security Check"}),e.jsx("option",{value:"performance",children:"Performance Check"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Checks to Run"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Camera access verification"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Microphone access verification"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Network connection test"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Browser security check"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"System resources check"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Check Scope"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"all",children:"All Students"}),e.jsx("option",{value:"active",children:"Active Students Only"}),e.jsx("option",{value:"selected",children:"Selected Students"}),e.jsx("option",{value:"system",children:"System-wide Check"})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"run-checks-form",className:"flex-1 py-2 px-4 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"Run Checks"})]})})]})}),K&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📊 Process Automated Grading"}),e.jsx("button",{onClick:()=>ae(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"process-grading-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Grading Type *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Grading Type"}),e.jsx("option",{value:"automatic",children:"Automatic AI Grading"}),e.jsx("option",{value:"semi-automatic",children:"Semi-Automatic Grading"}),e.jsx("option",{value:"manual",children:"Manual Review Required"}),e.jsx("option",{value:"comparison",children:"Answer Comparison"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Grading Criteria"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Content accuracy"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Grammar and spelling"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Answer completeness"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Plagiarism detection"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Grading Scale"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"percentage",children:"Percentage (0-100%)"}),e.jsx("option",{value:"letter",children:"Letter Grades (A-F)"}),e.jsx("option",{value:"points",children:"Points System"}),e.jsx("option",{value:"custom",children:"Custom Scale"})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>ae(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"process-grading-form",className:"flex-1 py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Start Grading"})]})})]})}),Pe&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📤 Export Exam Data"}),e.jsx("button",{onClick:()=>Ee(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"export-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Export Type *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Export Type"}),e.jsx("option",{value:"reports",children:"Exam Reports"}),e.jsx("option",{value:"logs",children:"Activity Logs"}),e.jsx("option",{value:"flags",children:"Proctoring Flags"}),e.jsx("option",{value:"grades",children:"Grading Results"}),e.jsx("option",{value:"all",children:"All Data"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Export Format *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Select Format"}),e.jsx("option",{value:"pdf",children:"PDF Document"}),e.jsx("option",{value:"excel",children:"Excel Spreadsheet"}),e.jsx("option",{value:"csv",children:"CSV Data"}),e.jsx("option",{value:"json",children:"JSON Data"}),e.jsx("option",{value:"zip",children:"ZIP Archive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Date Range"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border bg-white border-gray-300",children:[e.jsx("option",{value:"session",children:"Current Session"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"custom",children:"Custom Range"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Include Data"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Student responses"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Proctoring logs"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"System metrics"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Screenshots"})]})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>Ee(!1),className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"export-form",className:"flex-1 py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Export Data"})]})})]})}),Te&&Ge&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"💬 Send Message to Student"}),e.jsx("button",{onClick:()=>{ss(!1),ls(null)},className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"message-form",className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Student:"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[Ge.first_name," ",Ge.last_name]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",Ge.student_id]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Message Type *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border border-gray-300 bg-white",required:!0,children:[e.jsx("option",{value:"",children:"Select Message Type"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"instruction",children:"Instruction"}),e.jsx("option",{value:"encouragement",children:"Encouragement"}),e.jsx("option",{value:"reminder",children:"Reminder"}),e.jsx("option",{value:"urgent",children:"Urgent Alert"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Subject *"}),e.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border border-gray-300 bg-white",placeholder:"Brief subject line",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Message *"}),e.jsx("textarea",{rows:"4",className:"w-full p-3 rounded-lg border border-gray-300 bg-white",placeholder:"Type your message here...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Priority Level"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border border-gray-300 bg-white",children:[e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"emergency",children:"Emergency"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"require-response",className:"mr-2"}),e.jsx("label",{htmlFor:"require-response",className:"text-sm text-gray-700",children:"Require student response"})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{ss(!1),ls(null)},className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"message-form",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Send Message"})]})})]})}),bs&&Ge&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📹 Camera Control"}),e.jsx("button",{onClick:()=>{cs(!1),ls(null)},className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"camera-control-form",className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Student:"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[Ge.first_name," ",Ge.last_name]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Current Status: ",e.jsx("span",{className:`font-medium ${Ge.camera_status==="on"?"text-green-600":"text-red-600"}`,children:Ge.camera_status==="on"?"Enabled":"Disabled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Camera Action *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border border-gray-300 bg-white",required:!0,children:[e.jsx("option",{value:"",children:"Select Action"}),e.jsx("option",{value:"enable",children:"Enable Camera"}),e.jsx("option",{value:"disable",children:"Disable Camera"}),e.jsx("option",{value:"restart",children:"Restart Camera"}),e.jsx("option",{value:"check",children:"Check Camera Status"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Reason for Action *"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border border-gray-300 bg-white",required:!0,children:[e.jsx("option",{value:"",children:"Select Reason"}),e.jsx("option",{value:"technical",children:"Technical Issue"}),e.jsx("option",{value:"privacy",children:"Privacy Concern"}),e.jsx("option",{value:"distraction",children:"Student Distraction"}),e.jsx("option",{value:"cheating",children:"Suspected Cheating"}),e.jsx("option",{value:"request",children:"Student Request"}),e.jsx("option",{value:"maintenance",children:"System Maintenance"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Additional Notes"}),e.jsx("textarea",{rows:"3",className:"w-full p-3 rounded-lg border border-gray-300 bg-white",placeholder:"Provide additional details about this action..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Duration (if temporary)"}),e.jsxs("select",{className:"w-full p-3 rounded-lg border border-gray-300 bg-white",children:[e.jsx("option",{value:"permanent",children:"Permanent"}),e.jsx("option",{value:"5min",children:"5 minutes"}),e.jsx("option",{value:"15min",children:"15 minutes"}),e.jsx("option",{value:"30min",children:"30 minutes"}),e.jsx("option",{value:"1hour",children:"1 hour"}),e.jsx("option",{value:"session",children:"Until end of session"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"notify-student",className:"mr-2",defaultChecked:!0}),e.jsx("label",{htmlFor:"notify-student",className:"text-sm text-gray-700",children:"Notify student about this action"})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{cs(!1),ls(null)},className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"camera-control-form",className:"flex-1 py-2 px-4 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Apply Action"})]})})]})})]})},Vl=({user:y})=>{const[A,s]=t.useState(null),[i,v]=t.useState(null),[u,o]=t.useState(null),[b,T]=t.useState(null),[w,$]=t.useState({start_date:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),[d,x]=t.useState(!1),[a,l]=t.useState("revenue");t.useEffect(()=>{n(),h(),S(),N()},[w]);const n=async()=>{x(!0);try{const c=new URLSearchParams(w);y.role==="teacher"&&c.append("teacher_id",y.id);const p=await(await fetch(`http://localhost:5000/api/content/revenue/summary?${c}`)).json();p.success&&s(p)}catch(c){console.error("Error loading revenue data:",c)}finally{x(!1)}},h=async()=>{try{const r=await(await fetch("http://localhost:5000/api/content/revenue/analytics")).json();r.success&&v(r)}catch(c){console.error("Error loading analytics:",c)}},S=async()=>{try{const c=new URLSearchParams(w),p=await(await fetch(`http://localhost:5000/api/financial/profits-losses?${c}`)).json();p.success&&o(p)}catch(c){console.error("Error loading financial data:",c)}},N=async()=>{try{const c=new URLSearchParams(w),p=await(await fetch(`http://localhost:5000/api/financial/tax-management?${c}`)).json();p.success&&T(p)}catch(c){console.error("Error loading tax data:",c)}},g=c=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(c||0);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:y.role==="admin"?"Financial Dashboard":"My Earnings"}),e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsx("span",{children:"Export Report"})]})]}),e.jsxs("div",{className:"flex space-x-1 mb-6",children:[e.jsxs("button",{onClick:()=>l("revenue"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="revenue"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(ze,{className:"w-4 h-4 inline mr-2"}),"Revenue"]}),e.jsxs("button",{onClick:()=>l("profits"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="profits"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(he,{className:"w-4 h-4 inline mr-2"}),"Profits & Losses"]}),e.jsxs("button",{onClick:()=>l("taxes"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="taxes"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(Cs,{className:"w-4 h-4 inline mr-2"}),"Tax Management"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:w.start_date,onChange:c=>$(r=>({...r,start_date:c.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:w.end_date,onChange:c=>$(r=>({...r,end_date:c.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),a==="revenue"&&e.jsxs(e.Fragment,{children:[i&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-md p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Today's Revenue"}),e.jsx(ze,{className:"w-8 h-8 opacity-80"})]}),e.jsx("p",{className:"text-3xl font-bold",children:g(i.today.today_revenue)}),e.jsxs("p",{className:"text-sm opacity-90 mt-1",children:[i.today.today_purchases||0," purchases"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-md p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"This Month"}),e.jsx(ne,{className:"w-8 h-8 opacity-80"})]}),e.jsx("p",{className:"text-3xl font-bold",children:g(i.month.month_revenue)}),e.jsxs("p",{className:"text-sm opacity-90 mt-1",children:[i.month.month_purchases||0," purchases"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-md p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Total Revenue"}),e.jsx(he,{className:"w-8 h-8 opacity-80"})]}),e.jsx("p",{className:"text-3xl font-bold",children:g(A==null?void 0:A.totals.total_revenue)}),e.jsxs("p",{className:"text-sm opacity-90 mt-1",children:[(A==null?void 0:A.totals.total_purchases)||0," total sales"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-md p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Net Earnings"}),e.jsx(Se,{className:"w-8 h-8 opacity-80"})]}),e.jsx("p",{className:"text-3xl font-bold",children:g(A==null?void 0:A.totals.net_revenue)}),e.jsx("p",{className:"text-sm opacity-90 mt-1",children:"After commission"})]})]}),A&&A.daily_revenue&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Daily Revenue Trend"}),e.jsx("div",{className:"space-y-2",children:A.daily_revenue.slice(0,10).map((c,r)=>{const p=Math.max(...A.daily_revenue.map(m=>parseFloat(m.total_revenue))),k=parseFloat(c.total_revenue)/p*100;return e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-24 text-sm text-gray-600",children:new Date(c.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"bg-gray-200 rounded-full h-8 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-full flex items-center px-3 text-white text-sm font-semibold",style:{width:`${k}%`},children:k>20&&g(c.total_revenue)})})}),e.jsxs("div",{className:"w-32 text-right",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-800",children:g(c.total_revenue)}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",c.transaction_count," sales)"]})]})]},r)})})]}),i&&i.top_content&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Top Selling Content"}),e.jsx("div",{className:"space-y-3",children:i.top_content.map((c,r)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:r+1}),e.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-200 rounded-lg overflow-hidden",children:c.thumbnail_url?e.jsx("img",{src:c.thumbnail_url,alt:c.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Da,{className:"w-8 h-8 text-gray-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:c.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[c.purchase_count," purchases"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:g(c.total_revenue)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[g(c.price)," each"]})]})]},c.id))})]}),y.role==="admin"&&i&&i.top_teachers&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Top Earning Teachers"}),e.jsx("div",{className:"space-y-3",children:i.top_teachers.map((c,r)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:r+1}),e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center",children:e.jsx(me,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-semibold text-gray-800",children:[c.first_name," ",c.last_name]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[c.sales_count," sales"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:g(c.total_earnings)}),e.jsx("p",{className:"text-sm text-gray-500",children:"Net earnings"})]})]},c.id))})]}),d&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading revenue data..."})]})]}),a==="profits"&&e.jsxs("div",{className:"space-y-6",children:[u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-md p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Total Revenue"}),e.jsx(ze,{className:"w-8 h-8 opacity-80"})]}),e.jsx("p",{className:"text-3xl font-bold",children:g(u.total_revenue)}),e.jsx("p",{className:"text-sm opacity-90 mt-1",children:"Gross income"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-lg shadow-md p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Total Expenses"}),e.jsx(lt,{className:"w-8 h-8 opacity-80"})]}),e.jsx("p",{className:"text-3xl font-bold",children:g(u.total_expenses)}),e.jsx("p",{className:"text-sm opacity-90 mt-1",children:"Operating costs"})]}),e.jsxs("div",{className:`rounded-lg shadow-md p-6 text-white ${u.net_profit>=0?"bg-gradient-to-br from-green-500 to-green-600":"bg-gradient-to-br from-red-500 to-red-600"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Net Profit/Loss"}),u.net_profit>=0?e.jsx(he,{className:"w-8 h-8 opacity-80"}):e.jsx(lt,{className:"w-8 h-8 opacity-80"})]}),e.jsx("p",{className:"text-3xl font-bold",children:g(u.net_profit)}),e.jsx("p",{className:"text-sm opacity-90 mt-1",children:u.net_profit>=0?"Profit":"Loss"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-md p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Profit Margin"}),e.jsx(Cs,{className:"w-8 h-8 opacity-80"})]}),e.jsxs("p",{className:"text-3xl font-bold",children:[u.profit_margin,"%"]}),e.jsx("p",{className:"text-sm opacity-90 mt-1",children:"Efficiency ratio"})]})]}),u&&u.expense_breakdown&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Expense Breakdown"}),e.jsx("div",{className:"space-y-3",children:u.expense_breakdown.map((c,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.color}}),e.jsx("span",{className:"font-medium text-gray-800",children:c.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-gray-800",children:g(c.amount)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[c.percentage,"% of total"]})]})]},r))})]})]}),a==="taxes"&&e.jsxs("div",{className:"space-y-6",children:[b&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-md p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Taxable Income"}),e.jsx(Ds,{className:"w-8 h-8 opacity-80"})]}),e.jsx("p",{className:"text-3xl font-bold",children:g(b.taxable_income)}),e.jsx("p",{className:"text-sm opacity-90 mt-1",children:"Before deductions"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-md p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Tax Owed"}),e.jsx(Cs,{className:"w-8 h-8 opacity-80"})]}),e.jsx("p",{className:"text-3xl font-bold",children:g(b.tax_owed)}),e.jsx("p",{className:"text-sm opacity-90 mt-1",children:"Current period"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-md p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Tax Paid"}),e.jsx(se,{className:"w-8 h-8 opacity-80"})]}),e.jsx("p",{className:"text-3xl font-bold",children:g(b.tax_paid)}),e.jsx("p",{className:"text-sm opacity-90 mt-1",children:"Amount paid"})]}),e.jsxs("div",{className:`rounded-lg shadow-md p-6 text-white ${b.tax_balance>=0?"bg-gradient-to-br from-green-500 to-green-600":"bg-gradient-to-br from-red-500 to-red-600"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Tax Balance"}),b.tax_balance>=0?e.jsx(se,{className:"w-8 h-8 opacity-80"}):e.jsx(oe,{className:"w-8 h-8 opacity-80"})]}),e.jsx("p",{className:"text-3xl font-bold",children:g(b.tax_balance)}),e.jsx("p",{className:"text-sm opacity-90 mt-1",children:b.tax_balance>=0?"Overpaid":"Outstanding"})]})]}),b&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Tax Compliance Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"VAT Registration"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.vat_registered?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.vat_registered?"Registered":"Not Registered"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["VAT Number: ",b.vat_number||"N/A"]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Tax Filing Status"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.filing_status==="current"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:b.filing_status==="current"?"Current":"Pending"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Last Filed: ",b.last_filed||"Never"]})]})]})]}),b&&b.upcoming_deadlines&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Upcoming Tax Deadlines"}),e.jsx("div",{className:"space-y-3",children:b.upcoming_deadlines.map((c,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:c.description}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",c.due_date]})]}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${c.days_remaining<=7?"bg-red-100 text-red-800":c.days_remaining<=30?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[c.days_remaining," days"]})]},r))})]})]}),d&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading financial data..."})]})]})},Jt=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState([]),[u,o]=t.useState([]),[b,T]=t.useState(!1),[w,$]=t.useState(new Date().toISOString().split("T")[0]),[d,x]=t.useState(""),[a,l]=t.useState(""),[n,h]=t.useState({totalStudents:0,present:0,absent:0,late:0,attendanceRate:0}),[S,N]=t.useState(!1),[g,c]=t.useState(""),r=s?"bg-gray-800 border border-gray-700":"bg-white",p=s?"text-white":"text-gray-900",k=s?"text-gray-300":"text-gray-600";t.useEffect(()=>{C()},[w,d]),t.useEffect(()=>{J()},[i,a]);const m=f=>{c(f),N(!0),setTimeout(()=>N(!1),3e3)},C=async()=>{T(!0),m("Refreshing attendance data...");try{await new Promise(D=>setTimeout(D,2e3));const f=[{student_id:"S001",name:"John Doe",class_name:"S1A",status:"present",check_in_time:"08:15 AM",method:"biometric"},{student_id:"S002",name:"Jane Smith",class_name:"S1A",status:"late",check_in_time:"08:45 AM",method:"biometric"},{student_id:"S003",name:"Mike Johnson",class_name:"S1A",status:"present",check_in_time:"08:10 AM",method:"biometric"}],R={totalStudents:35,present:28,absent:5,late:2,attendanceRate:80};v(f),h(R),m("✅ Attendance data refreshed successfully! Latest biometric records updated.")}catch(f){console.error("Error loading attendance data:",f),v([]),m("❌ Error refreshing attendance data. Please check your connection and try again.")}finally{T(!1)}},J=()=>{let f=(i||[]).filter(R=>(R.method||"biometric")==="biometric");a&&(f=f.filter(R=>(R.name||"").toLowerCase().includes((a||"").toLowerCase())||(R.student_id||"").toLowerCase().includes((a||"").toLowerCase()))),o(f)},_=f=>{switch(f){case"present":return e.jsx(se,{className:"w-5 h-5 text-green-500"});case"absent":return e.jsx(Qs,{className:"w-5 h-5 text-red-500"});case"late":return e.jsx(oe,{className:"w-5 h-5 text-yellow-500"});default:return e.jsx(ie,{className:"w-5 h-5 text-gray-500"})}},z=f=>{switch(f){case"present":return"bg-green-100 text-green-800 border-green-200";case"absent":return"bg-red-100 text-red-800 border-red-200";case"late":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},B=()=>{const f=[["Student ID","Name","Class","Status","Check-in Time","Method"],...u.map(j=>[j.student_id,j.name,j.class_name,j.status,j.check_in_time,j.method])].map(j=>j.join(",")).join(`
`),R=new Blob([f],{type:"text/csv"}),D=window.URL.createObjectURL(R),L=document.createElement("a");L.href=D,L.download=`attendance_${w}.csv`,L.click(),window.URL.revokeObjectURL(D)};return e.jsxs("div",{className:`p-6 space-y-6 ${s?"bg-gray-900":"bg-gray-50"}`,children:[S&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white"} border rounded-xl shadow-2xl p-4 flex items-center space-x-3 min-w-[300px]`,children:[e.jsx(se,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),e.jsx("p",{className:`${p} text-sm font-medium whitespace-pre-line`,children:g})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${p}`,children:"Biometric Attendance Records"}),e.jsx("p",{className:`text-sm ${k}`,children:"View student attendance from biometric scans"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:C,disabled:b,className:`px-4 py-2 rounded-lg flex items-center gap-2 ${s?"bg-gray-700 text-white hover:bg-gray-600":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300 transition-colors`,children:[e.jsx(ws,{className:`w-4 h-4 ${b?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:B,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Export"]})]})]}),e.jsx("div",{className:`${r} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${p}`,children:"Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"date",value:w,onChange:f=>$(f.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${p}`,children:"Class"}),e.jsxs("select",{value:d,onChange:f=>x(f.target.value),className:`w-full px-4 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"",children:"All Classes"}),e.jsx("option",{value:"S1",children:"Senior 1"}),e.jsx("option",{value:"S2",children:"Senior 2"}),e.jsx("option",{value:"S3",children:"Senior 3"}),e.jsx("option",{value:"S4",children:"Senior 4"}),e.jsx("option",{value:"S5",children:"Senior 5"}),e.jsx("option",{value:"S6",children:"Senior 6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${p}`,children:"Search Student"}),e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name or ID...",value:a,onChange:f=>l(f.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:J,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(zs,{className:"w-4 h-4"}),"Filter"]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:`${r} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${k}`,children:"Total Students"}),e.jsx("p",{className:`text-2xl font-bold ${p}`,children:n.totalStudents})]}),e.jsx(me,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:`${r} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${k}`,children:"Present"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.present})]}),e.jsx(se,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:`${r} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${k}`,children:"Absent"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.absent})]}),e.jsx(Qs,{className:"w-8 h-8 text-red-500"})]})}),e.jsx("div",{className:`${r} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${k}`,children:"Late"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.late})]}),e.jsx(oe,{className:"w-8 h-8 text-yellow-500"})]})}),e.jsx("div",{className:`${r} rounded-xl shadow-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${k}`,children:"Attendance Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[n.attendanceRate,"%"]})]}),e.jsx(he,{className:"w-8 h-8 text-blue-500"})]})})]}),e.jsxs("div",{className:`${r} rounded-xl shadow-lg overflow-hidden`,children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:`text-lg font-semibold ${p}`,children:["Attendance Records - ",w]})}),b?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(ws,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-500"}),e.jsx("p",{className:k,children:"Loading attendance data..."})]}):u.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Ps,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:`text-lg font-medium ${p}`,children:"No attendance records found"}),e.jsx("p",{className:k,children:"No biometric scans recorded for the selected date and class."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${s?"bg-gray-700":"bg-gray-50"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${k} uppercase tracking-wider`,children:"Student"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${k} uppercase tracking-wider`,children:"Class"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${k} uppercase tracking-wider`,children:"Status"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${k} uppercase tracking-wider`,children:"Check-in Time"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${k} uppercase tracking-wider`,children:"Method"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${k} uppercase tracking-wider`,children:"Actions"})]})}),e.jsx("tbody",{className:`${s?"bg-gray-800":"bg-white"} divide-y divide-gray-200`,children:u.map((f,R)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${f.status==="present"?"bg-green-100":f.status==="absent"?"bg-red-100":"bg-yellow-100"}`,children:e.jsx(es,{className:`w-5 h-5 ${f.status==="present"?"text-green-600":f.status==="absent"?"text-red-600":"text-yellow-600"}`})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:`text-sm font-medium ${p}`,children:f.name}),e.jsx("div",{className:`text-sm ${k}`,children:f.student_id})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:f.class_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[_(f.status),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full border ${z(f.status)}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.check_in_time||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"biometric"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-900 transition-colors",children:e.jsx(je,{className:"w-4 h-4"})})})]},R))})]})})]})]})},Wl=({user:y})=>{const[A,s]=t.useState({currentGrades:{},interests:[],careerGoals:[]}),[i,v]=t.useState(null),[u,o]=t.useState(!1),b=async()=>{o(!0);try{const w=await(await fetch("http://localhost:5000/api/subject-ai/o-level/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({student_id:y.id,...A})})).json();w.success&&v(w.recommendations)}catch(T){console.error("Error:",T)}finally{o(!1)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(pe,{className:"w-10 h-10"}),e.jsx("h2",{className:"text-3xl font-bold",children:"AI Subject Selection Assistant"})]}),e.jsx("p",{className:"text-blue-100",children:"Get personalized O-Level subject recommendations based on Uganda's curriculum, your performance, and career goals"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How it works:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• AI analyzes your current performance in all subjects"}),e.jsx("li",{children:"• Considers your interests and career aspirations"}),e.jsx("li",{children:"• Recommends optional subjects aligned with Uganda curriculum"}),e.jsx("li",{children:"• Provides difficulty ratings and career relevance"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Your Current Performance"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:["Mathematics","English","Physics","Chemistry","Biology","History","Geography","Economics","Commerce","Accounting","Literature","Fine Art","Music","Drama","Computer Studies","Agriculture","Food & Nutrition","Technical Drawing","Woodwork","Metalwork","Religious Education","Physical Education","French","German","Arabic"].map(T=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:T}),e.jsx("input",{type:"number",min:"0",max:"100",placeholder:"Score",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",onChange:w=>s($=>({...$,currentGrades:{...$.currentGrades,[T]:parseInt(w.target.value)}}))})]},T))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Career Interests"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:["Engineering","Medicine","Law","Business","Education","Technology","Agriculture","Architecture","Art & Design","Music","Drama","Sports","Journalism","Tourism","Banking","Accounting","Nursing","Pharmacy","Computer Science","Environmental Science","Psychology","Social Work","Military","Police","Fire Service","Aviation","Maritime","Research"].map(T=>e.jsxs("label",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600",onChange:w=>{w.target.checked?s($=>({...$,careerGoals:[...$.careerGoals,T]})):s($=>({...$,careerGoals:$.careerGoals.filter(d=>d!==T)}))}}),e.jsx("span",{className:"text-sm",children:T})]},T))})]}),e.jsx("button",{onClick:b,disabled:u,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 font-semibold",children:u?"Analyzing...":"Get AI Recommendations"})]}),i&&e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"AI Recommendations"}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-green-800",children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("p",{className:"font-semibold",children:"Analysis Complete!"})]}),e.jsx("p",{className:"text-sm text-green-700 mt-2",children:"Based on your performance and goals, here are your personalized recommendations."})]})]})]})]})},Jl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState([]),[u,o]=t.useState(null),[b,T]=t.useState(!1),[w,$]=t.useState(!1),[d,x]=t.useState(!1),[a,l]=t.useState(""),[n,h]=t.useState(new Date().getFullYear()),[S,N]=t.useState("list"),g=s?"bg-gray-800 border border-gray-700":"bg-white",c=s?"text-white":"text-gray-900",r=s?"text-gray-300":"text-gray-600",p=s?"text-gray-400":"text-gray-500",k="w-full px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",m=s?`${k} bg-gray-700 border border-gray-600 text-white placeholder-gray-300`:`${k} bg-white border border-gray-300 text-gray-900 placeholder-gray-500`,[C,J]=t.useState({name:"",description:"",startDate:"",endDate:"",type:"public",location:"",participants:"",budget:"",activities:[],status:"planned",priority:"medium",notes:""});t.useEffect(()=>{_()},[n]);const _=async()=>{x(!0);try{v([])}catch(j){console.error("Error loading holidays:",j)}finally{x(!1)}},z=async()=>{try{const j={...C,id:Date.now(),createdAt:new Date().toISOString().split("T")[0]};v(O=>[...O,j]),J({name:"",description:"",startDate:"",endDate:"",type:"public",location:"",participants:"",budget:"",activities:[],status:"planned",priority:"medium",notes:""}),T(!1)}catch(j){console.error("Error creating holiday:",j)}},B=async()=>{try{v(j=>j.map(O=>O.id===u.id?{...O,...u}:O)),o(null),$(!1)}catch(j){console.error("Error updating holiday:",j)}},f=async j=>{if(window.confirm("Are you sure you want to delete this holiday?"))try{v(O=>O.filter(M=>M.id!==j))}catch(O){console.error("Error deleting holiday:",O)}},R=j=>{switch(j){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"planned":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},D=j=>{switch(j){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},L=i.filter(j=>{const O=j.name.toLowerCase().includes(a.toLowerCase())||j.description.toLowerCase().includes(a.toLowerCase()),M=new Date(j.startDate).getFullYear()===n;return O&&M});return e.jsx("div",{className:`p-6 ${s?"bg-gray-900":"bg-gray-50"} min-h-screen`,children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${c}`,children:"Holiday Planner"}),e.jsx("p",{className:`text-lg ${r}`,children:"Plan and manage school holidays and events"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:()=>T(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-5 h-5 mr-2"}),"Add Holiday"]})})]})}),e.jsx("div",{className:`${g} rounded-xl shadow-lg p-6 mb-6`,children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search holidays...",value:a,onChange:j=>l(j.target.value),className:`pl-10 ${m}`})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:n,onChange:j=>h(parseInt(j.target.value)),className:m,children:[e.jsx("option",{value:2024,children:"2024"}),e.jsx("option",{value:2025,children:"2025"}),e.jsx("option",{value:2026,children:"2026"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>N("list"),className:`px-3 py-2 rounded-lg transition-colors ${S==="list"?"bg-blue-600 text-white":s?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-700"}`,children:"List"}),e.jsx("button",{onClick:()=>N("calendar"),className:`px-3 py-2 rounded-lg transition-colors ${S==="calendar"?"bg-blue-600 text-white":s?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-700"}`,children:"Calendar"})]})]})]})}),e.jsx("div",{className:`${g} rounded-xl shadow-lg p-6`,children:d?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs(e.Fragment,{children:[S==="list"&&e.jsxs("div",{className:"space-y-4",children:[L.map(j=>e.jsx("div",{className:`p-6 rounded-lg border-2 transition-all hover:shadow-md ${s?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:`text-xl font-semibold ${c}`,children:j.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${R(j.status)}`,children:j.status}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${D(j.priority)}`,children:j.priority})]}),e.jsx("p",{className:`text-sm ${r} mb-3`,children:j.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ne,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:p,children:[new Date(j.startDate).toLocaleDateString()," - ",new Date(j.endDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{className:p,children:j.location})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{className:p,children:j.participants})]})]}),j.activities.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:`text-sm font-medium ${r} mb-1`,children:"Activities:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:j.activities.map((O,M)=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s?"bg-blue-900 text-blue-200":"bg-blue-100 text-blue-800"}`,children:O},M))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{o(j),$(!0)},className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(j.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:e.jsx(Rs,{className:"w-4 h-4"})})]})]})},j.id)),L.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ne,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:`text-lg font-medium ${c} mb-2`,children:"No holidays found"}),e.jsx("p",{className:r,children:"Try adjusting your search criteria or add a new holiday."})]})]}),S==="calendar"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:`text-lg font-semibold ${c} mb-4`,children:"Holiday Calendar View"}),e.jsxs("div",{className:"grid grid-cols-7 gap-2 mb-4",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>e.jsx("div",{className:`p-2 text-center text-sm font-medium ${r}`,children:j},j)),Array.from({length:35},(j,O)=>{const P=new Date(n,0,1).getDay(),Q=O-P+1,q=new Date(n,0,Q),te=L.some(Z=>{const I=new Date(Z.startDate),F=new Date(Z.endDate);return q>=I&&q<=F});return e.jsx("div",{className:`p-2 text-center text-sm border rounded-lg cursor-pointer transition-colors ${te?"bg-blue-100 text-blue-800 border-blue-300":s?"bg-gray-700 text-gray-300 border-gray-600":"bg-gray-50 text-gray-700 border-gray-200"}`,children:Q>0&&Q<=new Date(n,11,31).getDate()?Q:""},O)})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("h4",{className:`font-medium ${c} mb-3`,children:["Holidays in ",n]}),e.jsx("div",{className:"space-y-2",children:L.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:j.name}),e.jsxs("p",{className:"text-sm text-blue-700",children:[new Date(j.startDate).toLocaleDateString()," - ",new Date(j.endDate).toLocaleDateString()]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${R(j.status)}`,children:j.status})]},j.id))})]})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${g} rounded-xl shadow-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold ${c}`,children:"Add New Holiday"}),e.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Holiday Name"}),e.jsx("input",{type:"text",value:C.name,onChange:j=>J({...C,name:j.target.value}),className:m,placeholder:"Enter holiday name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Type"}),e.jsxs("select",{value:C.type,onChange:j=>J({...C,type:j.target.value}),className:m,children:[e.jsx("option",{value:"public",children:"Public Holiday"}),e.jsx("option",{value:"school",children:"School Holiday"}),e.jsx("option",{value:"religious",children:"Religious Holiday"}),e.jsx("option",{value:"national",children:"National Holiday"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Description"}),e.jsx("textarea",{value:C.description,onChange:j=>J({...C,description:j.target.value}),className:m,rows:3,placeholder:"Enter holiday description"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Start Date"}),e.jsx("input",{type:"date",value:C.startDate,onChange:j=>J({...C,startDate:j.target.value}),className:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"End Date"}),e.jsx("input",{type:"date",value:C.endDate,onChange:j=>J({...C,endDate:j.target.value}),className:m})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Location"}),e.jsx("input",{type:"text",value:C.location,onChange:j=>J({...C,location:j.target.value}),className:m,placeholder:"Enter location"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Participants"}),e.jsx("input",{type:"text",value:C.participants,onChange:j=>J({...C,participants:j.target.value}),className:m,placeholder:"e.g., All Students & Staff"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Budget (UGX)"}),e.jsx("input",{type:"number",value:C.budget,onChange:j=>J({...C,budget:j.target.value}),className:m,placeholder:"Enter budget amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Priority"}),e.jsxs("select",{value:C.priority,onChange:j=>J({...C,priority:j.target.value}),className:m,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Notes"}),e.jsx("textarea",{value:C.notes,onChange:j=>J({...C,notes:j.target.value}),className:m,rows:3,placeholder:"Additional notes or instructions"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-6",children:[e.jsx("button",{onClick:()=>T(!1),className:`px-4 py-2 rounded-lg transition-colors ${s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Cancel"}),e.jsx("button",{onClick:z,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Holiday"})]})]})}),w&&u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${g} rounded-xl shadow-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-2xl font-bold ${c}`,children:"Edit Holiday"}),e.jsx("button",{onClick:()=>{$(!1),o(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Holiday Name"}),e.jsx("input",{type:"text",value:u.name,onChange:j=>o({...u,name:j.target.value}),className:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Type"}),e.jsxs("select",{value:u.type,onChange:j=>o({...u,type:j.target.value}),className:m,children:[e.jsx("option",{value:"public",children:"Public Holiday"}),e.jsx("option",{value:"school",children:"School Holiday"}),e.jsx("option",{value:"religious",children:"Religious Holiday"}),e.jsx("option",{value:"national",children:"National Holiday"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Description"}),e.jsx("textarea",{value:u.description,onChange:j=>o({...u,description:j.target.value}),className:m,rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Start Date"}),e.jsx("input",{type:"date",value:u.startDate,onChange:j=>o({...u,startDate:j.target.value}),className:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"End Date"}),e.jsx("input",{type:"date",value:u.endDate,onChange:j=>o({...u,endDate:j.target.value}),className:m})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Status"}),e.jsxs("select",{value:u.status,onChange:j=>o({...u,status:j.target.value}),className:m,children:[e.jsx("option",{value:"planned",children:"Planned"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${r} mb-2`,children:"Priority"}),e.jsxs("select",{value:u.priority,onChange:j=>o({...u,priority:j.target.value}),className:m,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-6",children:[e.jsx("button",{onClick:()=>{$(!1),o(null)},className:`px-4 py-2 rounded-lg transition-colors ${s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Cancel"}),e.jsx("button",{onClick:B,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update Holiday"})]})]})})]})})},Yl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("payroll"),[u,o]=t.useState([]),[b,T]=t.useState([]),[w,$]=t.useState([]),[d,x]=t.useState(!1),[a,l]=t.useState(new Date().toISOString().slice(0,7)),[n,h]=t.useState("all"),[S,N]=t.useState(""),[g,c]=t.useState(!1),[r,p]=t.useState(!1),[k,m]=t.useState(null),[C,J]=t.useState(!1),[_,z]=t.useState({totalStaff:0,processed:0,pending:0,totalAmount:0,averageSalary:0,totalTaxes:0,totalBenefits:0}),[B,f]=t.useState({employeeId:"",firstName:"",lastName:"",email:"",phone:"",address:"",position:"",department:"",hireDate:"",basicSalary:0,taxId:"",bankAccount:"",benefits:{healthInsurance:0,retirementPlan:0,lifeInsurance:0,otherBenefits:0},deductions:{incomeTax:0,socialSecurity:0,otherDeductions:0}}),R=s?"bg-gray-800 border border-gray-700":"bg-white",D=s?"text-white":"text-gray-900",L=s?"text-gray-300":"text-gray-600",j=s?"text-gray-400":"text-gray-500",O="w-full px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",M=s?`${O} bg-gray-700 border border-gray-600 text-white placeholder-gray-300`:`${O} bg-white border border-gray-300 text-gray-900 placeholder-gray-500`;t.useEffect(()=>{i==="payroll"?P():i==="employees"&&Q()},[a,i]),t.useEffect(()=>{q()},[u,S,n]);const P=async()=>{x(!0);try{o([]),z({totalStaff:0,processed:0,pending:0,totalAmount:0,averageSalary:0,totalTaxes:0,totalBenefits:0})}catch(E){console.error("Error loading payroll data:",E),o([])}finally{x(!1)}},Q=async()=>{x(!0);try{T([])}catch(E){console.error("Error loading employees:",E),T([])}finally{x(!1)}},q=()=>{let E=u;S&&(E=E.filter(K=>K.employeeName.toLowerCase().includes(S.toLowerCase())||K.employeeId.toLowerCase().includes(S.toLowerCase())||K.position.toLowerCase().includes(S.toLowerCase()))),n!=="all"&&(E=E.filter(K=>K.status===n)),$(E)},te=async()=>{try{const E={id:Date.now(),employeeId:B.employeeId,fullName:`${B.firstName} ${B.lastName}`,...B,createdAt:new Date().toISOString()};T(K=>[...K,E]),c(!1),f({employeeId:"",firstName:"",lastName:"",email:"",phone:"",address:"",position:"",department:"",hireDate:"",basicSalary:0,taxId:"",bankAccount:"",benefits:{healthInsurance:0,retirementPlan:0,lifeInsurance:0,otherBenefits:0},deductions:{incomeTax:0,socialSecurity:0,otherDeductions:0}})}catch(E){console.error("Error creating employee:",E)}},Z=async()=>{try{T(E=>E.map(K=>K.id===k.id?{...K,...k}:K)),p(!1),m(null)}catch(E){console.error("Error updating employee:",E)}},I=async E=>{if(window.confirm("Are you sure you want to delete this employee?"))try{T(K=>K.filter(ae=>ae.id!==E))}catch(K){console.error("Error deleting employee:",K)}},F=(E,K,ae)=>{const Pe=E.basicSalary/ae,Ee=Math.min(K,ae),Te=Math.max(0,K-ae),ss=Pe*1.5;return{regularPay:Ee*Pe,overtimePay:Te*ss,totalGrossPay:Ee*Pe+Te*ss}},G=(E,K)=>{const ae=K*(E.deductions.incomeTax/100),Pe=K*(E.deductions.socialSecurity/100),Ee=E.deductions.otherDeductions;return{incomeTax:ae,socialSecurity:Pe,otherDeductions:Ee,totalDeductions:ae+Pe+Ee}},le=(E,K)=>E-K.totalDeductions,H=async E=>{try{J(!0);const K=160,ae=160,Pe=[{date:"2024-01-01",checkIn:"08:00",checkOut:"17:00",hours:8},{date:"2024-01-02",checkIn:"08:00",checkOut:"17:00",hours:8}],Ee=F(E,K,ae),Te=G(E,Ee.totalGrossPay),ss=le(Ee.totalGrossPay,Te),bs={id:Date.now(),employeeId:E.employeeId,employeeName:E.fullName,position:E.position,department:E.department,month:a,attendanceHours:K,expectedHours:ae,attendanceRate:K/ae*100,biometricLogs:Pe,grossPay:Ee.totalGrossPay,deductions:Te,netPay:ss,status:"processed",processedDate:new Date().toISOString().split("T")[0],payStubGenerated:!0,directDeposit:!0};o(cs=>[...cs,bs])}catch(K){console.error("Error processing payroll:",K)}},xe=E=>{const K={employeeName:E.employeeName,employeeId:E.employeeId,payPeriod:E.month,grossPay:E.grossPay,deductions:E.deductions,netPay:E.netPay,generatedDate:new Date().toISOString().split("T")[0]};console.log("Pay Stub Generated:",K),alert("Pay stub generated successfully!")},Y=()=>{const E={reportPeriod:a,totalEmployees:u.length,totalGrossPay:u.reduce((K,ae)=>K+ae.grossPay,0),totalTaxes:u.reduce((K,ae)=>K+ae.deductions.incomeTax,0),totalSocialSecurity:u.reduce((K,ae)=>K+ae.deductions.socialSecurity,0),generatedDate:new Date().toISOString().split("T")[0]};console.log("Tax Report Generated:",E),alert("Tax report generated successfully!")},V=E=>{switch(E){case"processed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"} p-6`,children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${D} mb-2`,children:"Biometric Payroll System"}),e.jsx("p",{className:`${L}`,children:"Comprehensive payroll management with biometric attendance integration"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>P(),className:`${R} p-3 rounded-lg shadow-lg hover:shadow-xl transition-shadow`,children:e.jsx(ws,{className:`w-5 h-5 ${D}`})}),e.jsxs("button",{onClick:Y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"Tax Report"})]})]})]})}),e.jsx("div",{className:`${R} rounded-xl shadow-lg mb-6`,children:e.jsx("div",{className:"flex space-x-1 p-1",children:[{id:"payroll",label:"Payroll Processing",icon:Cs},{id:"employees",label:"Employee Management",icon:me},{id:"reports",label:"Reports & Analytics",icon:de},{id:"settings",label:"System Settings",icon:Xe}].map(E=>e.jsxs("button",{onClick:()=>v(E.id),className:`flex items-center space-x-2 px-4 py-3 rounded-lg transition-colors ${i===E.id?"bg-blue-600 text-white":`${L} hover:${D}`}`,children:[e.jsx(E.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:E.label})]},E.id))})}),i==="payroll"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-8",children:[e.jsx("div",{className:`${R} rounded-xl shadow-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(me,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-xs ${j}`,children:"Total Staff"}),e.jsx("p",{className:`text-lg font-bold ${D}`,children:_.totalStaff})]})]})}),e.jsx("div",{className:`${R} rounded-xl shadow-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx(se,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-xs ${j}`,children:"Processed"}),e.jsx("p",{className:`text-lg font-bold ${D}`,children:_.processed})]})]})}),e.jsx("div",{className:`${R} rounded-xl shadow-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:e.jsx(ie,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-xs ${j}`,children:"Pending"}),e.jsx("p",{className:`text-lg font-bold ${D}`,children:_.pending})]})]})}),e.jsx("div",{className:`${R} rounded-xl shadow-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:e.jsx(ze,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-xs ${j}`,children:"Total Amount"}),e.jsxs("p",{className:`text-lg font-bold ${D}`,children:[_.totalAmount.toLocaleString()," UGX"]})]})]})}),e.jsx("div",{className:`${R} rounded-xl shadow-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:e.jsx(He,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-xs ${j}`,children:"Total Taxes"}),e.jsxs("p",{className:`text-lg font-bold ${D}`,children:[_.totalTaxes.toLocaleString()," UGX"]})]})]})}),e.jsx("div",{className:`${R} rounded-xl shadow-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:e.jsx(Se,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-xs ${j}`,children:"Total Benefits"}),e.jsxs("p",{className:`text-lg font-bold ${D}`,children:[_.totalBenefits.toLocaleString()," UGX"]})]})]})})]}),e.jsx("div",{className:`${R} rounded-xl shadow-lg p-6 mb-6`,children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${j}`}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:S,onChange:E=>N(E.target.value),className:`pl-10 ${M}`})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:`w-4 h-4 ${j}`}),e.jsx("input",{type:"month",value:a,onChange:E=>l(E.target.value),className:M})]}),e.jsxs("select",{value:n,onChange:E=>h(E.target.value),className:M,children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"processed",children:"Processed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"failed",children:"Failed"})]})]})}),e.jsxs("div",{className:`${R} rounded-xl shadow-lg overflow-hidden`,children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:`text-lg font-semibold ${D}`,children:"Payroll Records"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${s?"bg-gray-700":"bg-gray-50"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Employee"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Attendance"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Gross Pay"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Deductions"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Net Pay"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Status"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Actions"})]})}),e.jsx("tbody",{className:`${s?"bg-gray-800":"bg-white"} divide-y divide-gray-200`,children:w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:`px-6 py-12 text-center ${j}`,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Cs,{className:"w-12 h-12 mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"No payroll data available"}),e.jsx("p",{className:"text-sm",children:"Add employees and process payroll to see records"})]})})}):w.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${D}`,children:E.employeeName}),e.jsxs("div",{className:`text-sm ${j}`,children:[E.position," • ",E.department]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:`text-sm ${D}`,children:[E.attendanceHours,"h / ",E.expectedHours,"h"]}),e.jsxs("div",{className:`text-sm ${j}`,children:[E.attendanceRate.toFixed(1),"% attendance"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`text-sm font-medium ${D}`,children:[E.grossPay.toLocaleString()," UGX"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:`text-sm ${D}`,children:[E.deductions.totalDeductions.toLocaleString()," UGX"]}),e.jsxs("div",{className:`text-xs ${j}`,children:["Tax: ",E.deductions.incomeTax.toLocaleString()," UGX"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-bold text-green-600",children:[E.netPay.toLocaleString()," UGX"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V(E.status)}`,children:E.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>xe(E),className:"text-blue-600 hover:text-blue-900",title:"Generate Pay Stub",children:e.jsx(Ds,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",title:"View Details",children:e.jsx(je,{className:"w-4 h-4"})})]})})]},E.id))})]})})]})]}),i==="employees"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:`text-xl font-semibold ${D}`,children:"Employee Management"}),e.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Employee"})]})]}),e.jsx("div",{className:`${R} rounded-xl shadow-lg overflow-hidden`,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${s?"bg-gray-700":"bg-gray-50"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Employee"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Position"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Salary"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Hire Date"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${j} uppercase tracking-wider`,children:"Actions"})]})}),e.jsx("tbody",{className:`${s?"bg-gray-800":"bg-white"} divide-y divide-gray-200`,children:b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:`px-6 py-12 text-center ${j}`,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(me,{className:"w-12 h-12 mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"No employees found"}),e.jsx("p",{className:"text-sm",children:"Add employees to start managing payroll"})]})})}):b.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${D}`,children:E.fullName}),e.jsx("div",{className:`text-sm ${j}`,children:E.email})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:`text-sm ${D}`,children:E.position}),e.jsx("div",{className:`text-sm ${j}`,children:E.department})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`text-sm font-medium ${D}`,children:[E.basicSalary.toLocaleString()," UGX"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:`text-sm ${D}`,children:new Date(E.hireDate).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{m(E),p(!0)},className:"text-blue-600 hover:text-blue-900",title:"Edit Employee",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>H(E),className:"text-green-600 hover:text-green-900",title:"Process Payroll",children:e.jsx(Cs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I(E.id),className:"text-red-600 hover:text-red-900",title:"Delete Employee",children:e.jsx(Rs,{className:"w-4 h-4"})})]})})]},E.id))})]})})})]}),i==="reports"&&e.jsxs("div",{className:`${R} rounded-xl shadow-lg p-6`,children:[e.jsx("h3",{className:`text-xl font-semibold ${D} mb-6`,children:"Reports & Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:`text-lg font-medium ${D} mb-4`,children:"Payroll Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:L,children:"Total Employees:"}),e.jsx("span",{className:D,children:_.totalStaff})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:L,children:"Total Payroll:"}),e.jsxs("span",{className:D,children:[_.totalAmount.toLocaleString()," UGX"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:L,children:"Average Salary:"}),e.jsxs("span",{className:D,children:[_.averageSalary.toLocaleString()," UGX"]})]})]})]}),e.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:`text-lg font-medium ${D} mb-4`,children:"Tax Compliance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:L,children:"Total Taxes:"}),e.jsxs("span",{className:D,children:[_.totalTaxes.toLocaleString()," UGX"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:L,children:"Total Benefits:"}),e.jsxs("span",{className:D,children:[_.totalBenefits.toLocaleString()," UGX"]})]})]})]})]})]}),i==="settings"&&e.jsxs("div",{className:`${R} rounded-xl shadow-lg p-6`,children:[e.jsx("h3",{className:`text-xl font-semibold ${D} mb-6`,children:"System Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Default Tax Rate (%)"}),e.jsx("input",{type:"number",className:M,placeholder:"Enter default tax rate"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Social Security Rate (%)"}),e.jsx("input",{type:"number",className:M,placeholder:"Enter social security rate"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Standard Working Hours per Month"}),e.jsx("input",{type:"number",className:M,placeholder:"Enter standard working hours",defaultValue:"160"})]})]})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${R} rounded-xl shadow-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:`text-xl font-semibold ${D}`,children:"Add New Employee"}),e.jsx("button",{onClick:()=>c(!1),className:`${j} hover:${D}`,children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Employee ID"}),e.jsx("input",{type:"text",value:B.employeeId,onChange:E=>f(K=>({...K,employeeId:E.target.value})),className:M,placeholder:"EMP001"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"First Name"}),e.jsx("input",{type:"text",value:B.firstName,onChange:E=>f(K=>({...K,firstName:E.target.value})),className:M,placeholder:"John"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Last Name"}),e.jsx("input",{type:"text",value:B.lastName,onChange:E=>f(K=>({...K,lastName:E.target.value})),className:M,placeholder:"Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Email"}),e.jsx("input",{type:"email",value:B.email,onChange:E=>f(K=>({...K,email:E.target.value})),className:M,placeholder:"john.doe@school.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Phone"}),e.jsx("input",{type:"tel",value:B.phone,onChange:E=>f(K=>({...K,phone:E.target.value})),className:M,placeholder:"+256 700 000 000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Position"}),e.jsx("input",{type:"text",value:B.position,onChange:E=>f(K=>({...K,position:E.target.value})),className:M,placeholder:"Teacher"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Department"}),e.jsx("input",{type:"text",value:B.department,onChange:E=>f(K=>({...K,department:E.target.value})),className:M,placeholder:"Mathematics"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Hire Date"}),e.jsx("input",{type:"date",value:B.hireDate,onChange:E=>f(K=>({...K,hireDate:E.target.value})),className:M})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Basic Salary (UGX)"}),e.jsx("input",{type:"number",value:B.basicSalary,onChange:E=>f(K=>({...K,basicSalary:parseFloat(E.target.value)||0})),className:M,placeholder:"1000000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Tax ID"}),e.jsx("input",{type:"text",value:B.taxId,onChange:E=>f(K=>({...K,taxId:E.target.value})),className:M,placeholder:"TIN123456789"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:te,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Employee"})]})]})}),r&&k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${R} rounded-xl shadow-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:`text-xl font-semibold ${D}`,children:"Edit Employee"}),e.jsx("button",{onClick:()=>p(!1),className:`${j} hover:${D}`,children:e.jsx(Qe,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Employee ID"}),e.jsx("input",{type:"text",value:k.employeeId,onChange:E=>m(K=>({...K,employeeId:E.target.value})),className:M})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Full Name"}),e.jsx("input",{type:"text",value:k.fullName,onChange:E=>m(K=>({...K,fullName:E.target.value})),className:M})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Email"}),e.jsx("input",{type:"email",value:k.email,onChange:E=>m(K=>({...K,email:E.target.value})),className:M})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Position"}),e.jsx("input",{type:"text",value:k.position,onChange:E=>m(K=>({...K,position:E.target.value})),className:M})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${D} mb-2`,children:"Basic Salary (UGX)"}),e.jsx("input",{type:"number",value:k.basicSalary,onChange:E=>m(K=>({...K,basicSalary:parseFloat(E.target.value)||0})),className:M})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[e.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Z,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Update Employee"})]})]})})]})})},Ql=({userRole:y,currentUser:A})=>{const[s,i]=t.useState("biometric"),[v,u]=t.useState([]),[o,b]=t.useState(!1),[T,w]=t.useState(null),[$,d]=t.useState([]),[x,a]=t.useState(!1);t.useEffect(()=>{s==="biometric"?l():s==="attendance"&&n()},[s]);const l=async()=>{a(!0);try{const S=localStorage.getItem("token"),g=await fetch("http://localhost:5000/api/biometric/all",{headers:{Authorization:`Bearer ${S}`}});if(g.ok){const c=await g.json();u(c.biometrics||[])}}catch(S){console.error("Error fetching biometric data:",S)}finally{a(!1)}},n=async()=>{a(!0);try{const S=localStorage.getItem("token"),g=await fetch("http://localhost:5000/api/biometric/logs/all",{headers:{Authorization:`Bearer ${S}`}});if(g.ok){const c=await g.json();d(c.logs||[])}}catch(S){console.error("Error fetching attendance logs:",S)}finally{a(!1)}},h=async(S,N)=>{try{const g=localStorage.getItem("token"),p=await(await fetch("http://localhost:5000/api/biometric/enroll",{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({user_id:S,biometric_hash:N.hash,template_data:N.template,finger_position:N.finger_position,quality_score:N.quality_score,device_id:"web-enrollment"})})).json();p.success?(alert("✅ Fingerprint enrolled successfully!"),l(),b(!1),w(null)):alert(`❌ Enrollment failed: ${p.message}`)}catch(g){console.error("Enrollment error:",g),alert("Failed to enroll fingerprint")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Student Biometric Management"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage student fingerprint enrollment and biometric attendance tracking"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Enrolled Students"}),e.jsx("p",{className:"text-2xl font-bold text-green-800",children:v.length})]}),e.jsx(Ps,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Active Fingerprints"}),e.jsx("p",{className:"text-2xl font-bold text-blue-800",children:v.filter(S=>S.is_active).length})]}),e.jsx(Us,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Scans Today"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-800",children:$.filter(S=>new Date(S.scan_timestamp).toDateString()===new Date().toDateString()).length})]}),e.jsx(ie,{className:"w-8 h-8 text-yellow-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-800",children:[$.length>0?Math.round($.filter(S=>S.verification_status==="success").length/$.length*100):0,"%"]})]}),e.jsx(He,{className:"w-8 h-8 text-purple-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"biometric",label:"Fingerprint Enrollment",icon:Ps},{id:"attendance",label:"Attendance Logs",icon:ie},{id:"setup",label:"Device Setup",icon:Xe}].map(S=>e.jsxs("button",{onClick:()=>i(S.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===S.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(S.icon,{className:"w-4 h-4 mr-2"}),S.label]},S.id))})}),e.jsxs("div",{className:"p-6",children:[s==="biometric"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Fingerprint Enrollment"}),e.jsxs("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Enroll New Fingerprint"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.length===0?e.jsx("div",{className:"col-span-3 text-center text-gray-500 p-8 bg-gray-50 rounded-lg",children:"No fingerprints enrolled yet"}):v.map(S=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(Ps,{className:"w-8 h-8 text-blue-600"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.is_active?"Active":"Inactive"})]}),e.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Student ID: ",S.user_id]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("p",{children:["Finger: ",S.finger_position||"N/A"]}),e.jsxs("p",{children:["Quality: ",S.quality_score,"%"]}),e.jsxs("p",{children:["Verifications: ",S.verification_count]}),e.jsxs("p",{children:["Enrolled: ",new Date(S.enrollment_date).toLocaleDateString()]})]})]},S.id))})]}),s==="attendance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Biometric Attendance Logs"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Student ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scan Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Match Score"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Timestamp"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"No attendance logs"})}):$.map(S=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.user_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:S.scan_type}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:S.location||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.verification_status==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.verification_status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[S.match_score,"%"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(S.scan_timestamp).toLocaleString()})]},S.id))})]})})]}),s==="setup"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Biometric Device Setup & Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Fingerprint Scanner Configuration"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Name"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter device name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device ID"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"FP-001"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Connection Type"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"usb",children:"USB"}),e.jsx("option",{value:"network",children:"Network"}),e.jsx("option",{value:"bluetooth",children:"Bluetooth"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Location"}),e.jsx("option",{value:"main-gate",children:"Main Gate"}),e.jsx("option",{value:"library",children:"Library"}),e.jsx("option",{value:"lab-block",children:"Lab Block"}),e.jsx("option",{value:"dormitory",children:"Dormitory"}),e.jsx("option",{value:"dining-hall",children:"Dining Hall"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Device Status"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Device Connection"}),e.jsx("span",{className:"text-sm text-green-600",children:"✓ Connected"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Fingerprint Sensor"}),e.jsx("span",{className:"text-sm text-green-600",children:"✓ Active"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Database Connection"}),e.jsx("span",{className:"text-sm text-green-600",children:"✓ Connected"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Last Scan"}),e.jsx("span",{className:"text-sm text-gray-600",children:"2 minutes ago"})]})]}),e.jsx("button",{className:"w-full mt-4 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Test Device"})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Enrollment Settings"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-blue-800",children:"Minimum Quality Score"}),e.jsx("input",{type:"number",defaultValue:"70",className:"w-20 px-2 py-1 border rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-blue-800",children:"Required Finger Scans"}),e.jsx("input",{type:"number",defaultValue:"3",className:"w-20 px-2 py-1 border rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-blue-800",children:"Auto-verify on Scan"}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5"})]}),e.jsx("button",{className:"w-full mt-4 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Save Settings"})]})]})]})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Enroll Fingerprint"}),e.jsx("button",{onClick:()=>{b(!1),w(null)},className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("form",{onSubmit:S=>{S.preventDefault();const N=new FormData(S.target),g={hash:`FP-${Date.now()}`,template:`TEMPLATE-${Math.random().toString(36).substr(2,9)}`,finger_position:N.get("finger"),quality_score:parseInt(N.get("quality"))};h(N.get("studentId"),g)},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Student ID *"}),e.jsx("input",{name:"studentId",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter student ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Finger Position *"}),e.jsxs("select",{name:"finger",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select finger"}),e.jsx("option",{value:"right_thumb",children:"Right Thumb"}),e.jsx("option",{value:"right_index",children:"Right Index"}),e.jsx("option",{value:"right_middle",children:"Right Middle"}),e.jsx("option",{value:"left_thumb",children:"Left Thumb"}),e.jsx("option",{value:"left_index",children:"Left Index"}),e.jsx("option",{value:"left_middle",children:"Left Middle"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Quality Score (%) *"}),e.jsx("input",{name:"quality",type:"number",required:!0,min:"60",max:"100",defaultValue:"85",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Instructions:"})," Place finger on the scanner and hold steady until the scan completes."]})}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{b(!1),w(null)},className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Enroll Fingerprint"]})]})]})]})})]})},Xl=({userRole:y,currentUser:A,darkMode:s})=>{var M,P,Q,q,te,Z,I,F;const[i,v]=t.useState("overview"),[u,o]=t.useState([]),[b,T]=t.useState([]),[w,$]=t.useState([]),[d,x]=t.useState([]),[a,l]=t.useState([]),[n,h]=t.useState([]),[S,N]=t.useState({}),[g,c]=t.useState(!1),[r,p]=t.useState(!1),[k,m]=t.useState(""),[C,J]=t.useState(null),[_,z]=t.useState({});t.useEffect(()=>{y==="admin"&&(B(),f())},[y]);const B=async()=>{try{const G=localStorage.getItem("token"),H=await fetch("http://localhost:5000/api/transport/dashboard",{headers:{Authorization:`Bearer ${G}`}});if(H.ok){const xe=await H.json();N(xe.dashboard||{})}}catch(G){console.error("Error loading transport dashboard:",G)}},f=async()=>{c(!0);try{const G=localStorage.getItem("token"),le="http://localhost:5000",[H,xe,Y,V,E,K]=await Promise.all([fetch(`${le}/api/transport/vehicles`,{headers:{Authorization:`Bearer ${G}`}}),fetch(`${le}/api/transport/drivers`,{headers:{Authorization:`Bearer ${G}`}}),fetch(`${le}/api/transport/routes`,{headers:{Authorization:`Bearer ${G}`}}),fetch(`${le}/api/transport/student-assignments`,{headers:{Authorization:`Bearer ${G}`}}),fetch(`${le}/api/transport/trips`,{headers:{Authorization:`Bearer ${G}`}}),fetch(`${le}/api/transport/maintenance`,{headers:{Authorization:`Bearer ${G}`}})]);if(H.ok){const ae=await H.json();o(ae.vehicles||[])}if(xe.ok){const ae=await xe.json();T(ae.drivers||[])}if(Y.ok){const ae=await Y.json();$(ae.routes||[])}if(V.ok){const ae=await V.json();x(ae.assignments||[])}if(E.ok){const ae=await E.json();l(ae.trips||[])}if(K.ok){const ae=await K.json();h(ae.maintenance||[])}}catch(G){console.error("Error loading transport data:",G)}finally{c(!1)}},R=(G,le=null)=>{m(G),J(le),z(le?{...le}:L(G)),p(!0)},D=()=>{p(!1),m(""),J(null),z({})},L=G=>({vehicle:{vehicle_number:"",vehicle_type:"bus",capacity:30,make:"",model:"",year:new Date().getFullYear(),license_plate:"",fuel_type:"diesel",status:"active"},driver:{license_number:"",license_class:"D",experience_years:0,employment_type:"full_time",status:"active",availability:"available"},route:{route_name:"",route_number:"",start_location:"",end_location:"",pickup_time:"07:00",dropoff_time:"16:00",operating_days:"mon-fri",max_capacity:30,monthly_fee:0,status:"active"},assignment:{pickup_location:"",dropoff_location:"",pickup_contact:"",emergency_contact:"",status:"active",monthly_fee:0,payment_status:"pending"}})[G]||{},j=async G=>{G.preventDefault(),c(!0);try{const le=localStorage.getItem("token"),H="http://localhost:5000",xe=C?`${H}/api/transport/${k}s/${C.id}`:`${H}/api/transport/${k}s`,V=await fetch(xe,{method:C?"PUT":"POST",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"},body:JSON.stringify(_)});if(V.ok)alert(`✅ ${k} ${C?"updated":"created"} successfully!`),D(),f(),B();else{const E=await V.json();alert(`❌ Error: ${E.message}`)}}catch(le){console.error("Error saving data:",le),alert("❌ Error saving data")}finally{c(!1)}},O=async(G,le)=>{if(confirm(`Are you sure you want to delete this ${G}?`))try{const H=localStorage.getItem("token"),Y=await fetch(`http://localhost:5000/api/transport/${G}s/${le}`,{method:"DELETE",headers:{Authorization:`Bearer ${H}`}});if(Y.ok)alert(`✅ ${G} deleted successfully!`),f(),B();else{const V=await Y.json();alert(`❌ Error: ${V.message}`)}}catch(H){console.error("Error deleting data:",H),alert("❌ Error deleting data")}};return y!=="admin"?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx(Vs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Access Restricted"}),e.jsx("p",{className:"text-gray-500",children:"Transport Management is only available to administrators."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Vs,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transport Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage vehicles, drivers, routes, and student transport"})]})]}),e.jsxs("button",{onClick:()=>R("vehicle"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Vehicle"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Vehicles"}),e.jsx("p",{className:"text-2xl font-bold text-blue-800",children:((M=S.vehicles)==null?void 0:M.total)||0}),e.jsxs("p",{className:"text-xs text-blue-600",children:[((P=S.vehicles)==null?void 0:P.active)||0," active"]})]}),e.jsx(Vs,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Active Drivers"}),e.jsx("p",{className:"text-2xl font-bold text-green-800",children:((Q=S.drivers)==null?void 0:Q.active)||0}),e.jsxs("p",{className:"text-xs text-green-600",children:[((q=S.drivers)==null?void 0:q.available)||0," available"]})]}),e.jsx(me,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Active Routes"}),e.jsx("p",{className:"text-2xl font-bold text-purple-800",children:((te=S.routes)==null?void 0:te.active)||0}),e.jsxs("p",{className:"text-xs text-purple-600",children:[((Z=S.routes)==null?void 0:Z.utilization_rate)||0,"% utilization"]})]}),e.jsx(as,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Today's Trips"}),e.jsx("p",{className:"text-2xl font-bold text-orange-800",children:((I=S.trips)==null?void 0:I.today_total)||0}),e.jsxs("p",{className:"text-xs text-orange-600",children:[((F=S.trips)==null?void 0:F.completion_rate)||0,"% completed"]})]}),e.jsx(ie,{className:"w-8 h-8 text-orange-600"})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:de},{id:"vehicles",label:"Vehicles",icon:Vs},{id:"drivers",label:"Drivers",icon:me},{id:"routes",label:"Routes",icon:as},{id:"assignments",label:"Assignments",icon:me},{id:"trips",label:"Trips",icon:ie},{id:"maintenance",label:"Maintenance",icon:Bt}].map(G=>e.jsxs("button",{onClick:()=>v(G.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${i===G.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(G.icon,{className:"w-4 h-4 mr-2"}),G.label]},G.id))})}),e.jsxs("div",{className:"p-6",children:[i==="overview"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Trips"}),e.jsx("div",{className:"space-y-3",children:a.slice(0,5).map((G,le)=>{var H;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:(H=G.route)==null?void 0:H.route_name}),e.jsx("p",{className:"text-xs text-gray-500",children:G.trip_date})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${G.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:G.status})]},le)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Maintenance Alerts"}),e.jsx("div",{className:"space-y-3",children:n.filter(G=>G.status==="scheduled").slice(0,5).map((G,le)=>{var H;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:(H=G.vehicle)==null?void 0:H.vehicle_number}),e.jsx("p",{className:"text-xs text-gray-500",children:G.service_type})]}),e.jsx(oe,{className:"w-4 h-4 text-red-500"})]},le)})})]})]})}),i==="vehicles"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Vehicle Fleet"}),e.jsxs("button",{onClick:()=>R("vehicle"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Vehicle"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(G=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(Vs,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${G.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:G.status})]}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:G.vehicle_number}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[G.make," ",G.model]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Capacity: ",G.capacity," passengers"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["License: ",G.license_plate]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsxs("button",{onClick:()=>R("vehicle",G),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:[e.jsx(ms,{className:"w-4 h-4 inline mr-1"}),"Edit"]}),e.jsx("button",{onClick:()=>O("vehicle",G.id),className:"px-3 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:e.jsx(Rs,{className:"w-4 h-4"})})]})]},G.id))})]}),i==="drivers"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Driver Management"}),e.jsxs("button",{onClick:()=>R("driver"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Driver"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Driver"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"License"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Experience"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(G=>{var le,H;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:(le=G.user)==null?void 0:le.name}),e.jsx("p",{className:"text-sm text-gray-500",children:(H=G.user)==null?void 0:H.email})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[G.license_number," (",G.license_class,")"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[G.experience_years," years"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${G.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:G.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>R("driver",G),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),e.jsx("button",{onClick:()=>O("driver",G.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},G.id)})})]})})]}),i==="routes"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Transport Routes"}),e.jsxs("button",{onClick:()=>R("route"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Route"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map(G=>{var le;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(as,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${G.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:G.status})]}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:G.route_name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Route #",G.route_number]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[G.start_location," → ",G.end_location]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Pickup: ",G.pickup_time," | Dropoff: ",G.dropoff_time]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Capacity: ",G.current_enrollment,"/",G.max_capacity]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Fee: UGX ",(le=G.monthly_fee)==null?void 0:le.toLocaleString()]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsxs("button",{onClick:()=>R("route",G),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:[e.jsx(ms,{className:"w-4 h-4 inline mr-1"}),"Edit"]}),e.jsxs("button",{className:"px-3 py-2 border border-gray-300 text-sm rounded hover:bg-gray-50",children:[e.jsx(je,{className:"w-4 h-4 inline mr-1"}),"View"]})]})]},G.id)})})]}),i==="assignments"&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(me,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Student transport assignments will be displayed here"})]}),i==="trips"&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ie,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Transport trips will be displayed here"})]}),i==="maintenance"&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Bt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Vehicle maintenance records will be displayed here"})]})]})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[C?"Edit":"Add"," ",k.charAt(0).toUpperCase()+k.slice(1)]}),e.jsx("button",{onClick:D,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[k==="vehicle"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Number *"}),e.jsx("input",{type:"text",required:!0,value:_.vehicle_number||"",onChange:G=>z({..._,vehicle_number:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Type *"}),e.jsxs("select",{required:!0,value:_.vehicle_type||"",onChange:G=>z({..._,vehicle_type:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"bus",children:"Bus"}),e.jsx("option",{value:"van",children:"Van"}),e.jsx("option",{value:"car",children:"Car"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity *"}),e.jsx("input",{type:"number",required:!0,value:_.capacity||"",onChange:G=>z({..._,capacity:parseInt(G.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Plate *"}),e.jsx("input",{type:"text",required:!0,value:_.license_plate||"",onChange:G=>z({..._,license_plate:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})}),k==="driver"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Number *"}),e.jsx("input",{type:"text",required:!0,value:_.license_number||"",onChange:G=>z({..._,license_number:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Class *"}),e.jsxs("select",{required:!0,value:_.license_class||"",onChange:G=>z({..._,license_class:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"B",children:"Class B"}),e.jsx("option",{value:"C",children:"Class C"}),e.jsx("option",{value:"D",children:"Class D"})]})]})]})}),k==="route"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Route Name *"}),e.jsx("input",{type:"text",required:!0,value:_.route_name||"",onChange:G=>z({..._,route_name:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Route Number *"}),e.jsx("input",{type:"text",required:!0,value:_.route_number||"",onChange:G=>z({..._,route_number:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Location *"}),e.jsx("input",{type:"text",required:!0,value:_.start_location||"",onChange:G=>z({..._,start_location:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Location *"}),e.jsx("input",{type:"text",required:!0,value:_.end_location||"",onChange:G=>z({..._,end_location:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:D,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(ys,{className:"w-4 h-4 inline mr-2"}),g?"Saving...":C?"Update":"Create"]})]})]})]})})]})},Kl=({userRole:y,currentUser:A,darkMode:s})=>{var Q,q,te,Z,I,F,G,le;const[i,v]=t.useState("overview"),[u,o]=t.useState([]),[b,T]=t.useState([]),[w,$]=t.useState([]),[d,x]=t.useState([]),[a,l]=t.useState([]),[n,h]=t.useState([]),[S,N]=t.useState([]),[g,c]=t.useState({}),[r,p]=t.useState(!1),[k,m]=t.useState(!1),[C,J]=t.useState(""),[_,z]=t.useState(null),[B,f]=t.useState({});t.useEffect(()=>{y==="admin"&&(R(),D())},[y]);const R=async()=>{try{const H=localStorage.getItem("token"),Y=await fetch("http://localhost:5000/api/medical/dashboard",{headers:{Authorization:`Bearer ${H}`}});if(Y.ok){const V=await Y.json();c(V.dashboard||{})}}catch(H){console.error("Error loading medical dashboard:",H)}},D=async()=>{p(!0);try{const H=localStorage.getItem("token"),xe="http://localhost:5000",[Y,V,E,K,ae,Pe,Ee]=await Promise.all([fetch(`${xe}/api/medical/records`,{headers:{Authorization:`Bearer ${H}`}}),fetch(`${xe}/api/medical/vaccinations`,{headers:{Authorization:`Bearer ${H}`}}),fetch(`${xe}/api/medical/checkups`,{headers:{Authorization:`Bearer ${H}`}}),fetch(`${xe}/api/medical/incidents`,{headers:{Authorization:`Bearer ${H}`}}),fetch(`${xe}/api/medical/prescriptions`,{headers:{Authorization:`Bearer ${H}`}}),fetch(`${xe}/api/medical/alerts`,{headers:{Authorization:`Bearer ${H}`}}),fetch(`${xe}/api/medical/staff`,{headers:{Authorization:`Bearer ${H}`}})]);if(Y.ok){const Te=await Y.json();o(Te.records||[])}if(V.ok){const Te=await V.json();T(Te.vaccinations||[])}if(E.ok){const Te=await E.json();$(Te.checkups||[])}if(K.ok){const Te=await K.json();x(Te.incidents||[])}if(ae.ok){const Te=await ae.json();l(Te.prescriptions||[])}if(Pe.ok){const Te=await Pe.json();h(Te.alerts||[])}if(Ee.ok){const Te=await Ee.json();N(Te.staff||[])}}catch(H){console.error("Error loading medical data:",H)}finally{p(!1)}},L=(H,xe=null)=>{J(H),z(xe),f(xe?{...xe}:O(H)),m(!0)},j=()=>{m(!1),J(""),z(null),f({})},O=H=>({record:{blood_group:"",height_cm:0,weight_kg:0,allergies:[],chronic_conditions:[],status:"active"},vaccination:{vaccine_name:"",vaccine_type:"routine",vaccination_date:new Date().toISOString().split("T")[0],status:"completed"},checkup:{checkup_type:"annual",checkup_date:new Date().toISOString().split("T")[0],provider_name:"",status:"completed"},incident:{incident_type:"injury",severity:"minor",incident_date:new Date().toISOString(),status:"open"},prescription:{medication_name:"",dosage:"",frequency:"daily",status:"active"},alert:{alert_type:"allergy",severity:"medium",status:"active",created_date:new Date().toISOString().split("T")[0]},staff:{license_type:"RN",employment_type:"full_time",status:"active",availability:"available"}})[H]||{},M=async H=>{H.preventDefault(),p(!0);try{const xe=localStorage.getItem("token"),Y="http://localhost:5000",V=_?`${Y}/api/medical/${C}s/${_.id}`:`${Y}/api/medical/${C}s`,K=await fetch(V,{method:_?"PUT":"POST",headers:{Authorization:`Bearer ${xe}`,"Content-Type":"application/json"},body:JSON.stringify(B)});if(K.ok)alert(`✅ ${C} ${_?"updated":"created"} successfully!`),j(),D(),R();else{const ae=await K.json();alert(`❌ Error: ${ae.message}`)}}catch(xe){console.error("Error saving data:",xe),alert("❌ Error saving data")}finally{p(!1)}},P=async(H,xe)=>{if(confirm(`Are you sure you want to delete this ${H}?`))try{const Y=localStorage.getItem("token"),E=await fetch(`http://localhost:5000/api/medical/${H}s/${xe}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`}});if(E.ok)alert(`✅ ${H} deleted successfully!`),D(),R();else{const K=await E.json();alert(`❌ Error: ${K.message}`)}}catch(Y){console.error("Error deleting data:",Y),alert("❌ Error deleting data")}};return y!=="admin"?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx(ht,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Access Restricted"}),e.jsx("p",{className:"text-gray-500",children:"Medical Management is only available to administrators."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ht,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medical Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage student health records, vaccinations, and medical staff"})]})]}),e.jsxs("button",{onClick:()=>L("record"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Record"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Medical Records"}),e.jsx("p",{className:"text-2xl font-bold text-blue-800",children:((Q=g.records)==null?void 0:Q.total)||0}),e.jsxs("p",{className:"text-xs text-blue-600",children:[((q=g.records)==null?void 0:q.active)||0," active"]})]}),e.jsx(re,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Vaccinations"}),e.jsx("p",{className:"text-2xl font-bold text-green-800",children:((te=g.vaccinations)==null?void 0:te.completed)||0}),e.jsxs("p",{className:"text-xs text-green-600",children:[((Z=g.vaccinations)==null?void 0:Z.completion_rate)||0,"% completion"]})]}),e.jsx(yt,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"This Month Checkups"}),e.jsx("p",{className:"text-2xl font-bold text-purple-800",children:((I=g.checkups)==null?void 0:I.this_month)||0}),e.jsxs("p",{className:"text-xs text-purple-600",children:[((F=g.checkups)==null?void 0:F.upcoming)||0," upcoming"]})]}),e.jsx(ne,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Active Alerts"}),e.jsx("p",{className:"text-2xl font-bold text-red-800",children:((G=g.alerts)==null?void 0:G.active)||0}),e.jsxs("p",{className:"text-xs text-red-600",children:[((le=g.alerts)==null?void 0:le.emergency)||0," emergency"]})]}),e.jsx(oe,{className:"w-8 h-8 text-red-600"})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex overflow-x-auto scrollbar-hide px-6",children:e.jsx("div",{className:"flex space-x-6 min-w-max",children:[{id:"overview",label:"Overview",icon:Le},{id:"records",label:"Medical Records",icon:re},{id:"vaccinations",label:"Vaccinations",icon:yt},{id:"checkups",label:"Checkups",icon:ne},{id:"incidents",label:"Incidents",icon:oe},{id:"prescriptions",label:"Prescriptions",icon:Lt},{id:"alerts",label:"Alerts",icon:He},{id:"staff",label:"Medical Staff",icon:me}].map(H=>e.jsxs("button",{onClick:()=>v(H.id),className:`flex items-center py-4 px-2 border-b-2 font-medium text-sm whitespace-nowrap ${i===H.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(H.icon,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"hidden sm:inline",children:H.label}),e.jsx("span",{className:"sm:hidden",children:H.label.split(" ")[0]})]},H.id))})})}),e.jsxs("div",{className:"p-6",children:[i==="overview"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Medical Incidents"}),e.jsx("div",{className:"space-y-3",children:d.slice(0,5).map((H,xe)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:H.incident_type}),e.jsx("p",{className:"text-xs text-gray-500",children:H.incident_date})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${H.severity==="critical"?"bg-red-100 text-red-800":H.severity==="major"?"bg-orange-100 text-orange-800":H.severity==="minor"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:H.severity})]},xe))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Active Medical Alerts"}),e.jsx("div",{className:"space-y-3",children:n.filter(H=>H.status==="active").slice(0,5).map((H,xe)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:H.title}),e.jsx("p",{className:"text-xs text-gray-500",children:H.alert_type})]}),e.jsx(oe,{className:"w-4 h-4 text-red-500"})]},xe))})]})]})}),i==="records"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Student Medical Records"}),e.jsxs("button",{onClick:()=>L("record"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Record"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Blood Group"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Allergies"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Emergency Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(H=>{var xe,Y;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:(xe=H.student)==null?void 0:xe.name}),e.jsx("p",{className:"text-sm text-gray-500",children:(Y=H.student)==null?void 0:Y.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:H.blood_group||"N/A"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[H.allergies?JSON.parse(H.allergies).length:0," allergies"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:H.emergency_contact_name}),e.jsx("p",{className:"text-xs",children:H.emergency_contact_phone})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${H.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:H.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>L("record",H),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),e.jsx("button",{className:"text-green-600 hover:text-green-900 mr-3",children:e.jsx(je,{className:"w-4 h-4 inline"})}),e.jsx("button",{onClick:()=>P("record",H.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},H.id)})})]})})]}),i==="vaccinations"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Vaccination Records"}),e.jsxs("button",{onClick:()=>L("vaccination"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Add Vaccination"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(H=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(yt,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${H.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H.status})]}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:H.vaccine_name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Type: ",H.vaccine_type]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Date: ",H.vaccination_date]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Administered by: ",H.administered_by]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsxs("button",{onClick:()=>L("vaccination",H),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:[e.jsx(ms,{className:"w-4 h-4 inline mr-1"}),"Edit"]}),e.jsx("button",{onClick:()=>P("vaccination",H.id),className:"px-3 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:e.jsx(Rs,{className:"w-4 h-4"})})]})]},H.id))})]}),i==="checkups"&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ne,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Medical checkups will be displayed here"})]}),i==="incidents"&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(oe,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Medical incidents will be displayed here"})]}),i==="prescriptions"&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Lt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Prescriptions will be displayed here"})]}),i==="alerts"&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(He,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Medical alerts will be displayed here"})]}),i==="staff"&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(me,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Medical staff will be displayed here"})]})]})]}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[_?"Edit":"Add"," ",C.charAt(0).toUpperCase()+C.slice(1)]}),e.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[C==="record"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),e.jsxs("select",{value:B.blood_group||"",onChange:H=>f({...B,blood_group:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select blood group"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),e.jsx("input",{type:"number",value:B.height_cm||"",onChange:H=>f({...B,height_cm:parseFloat(H.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),e.jsx("input",{type:"number",value:B.weight_kg||"",onChange:H=>f({...B,weight_kg:parseFloat(H.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Name"}),e.jsx("input",{type:"text",value:B.emergency_contact_name||"",onChange:H=>f({...B,emergency_contact_name:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})}),C==="vaccination"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vaccine Name *"}),e.jsx("input",{type:"text",required:!0,value:B.vaccine_name||"",onChange:H=>f({...B,vaccine_name:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vaccine Type"}),e.jsxs("select",{value:B.vaccine_type||"",onChange:H=>f({...B,vaccine_type:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"routine",children:"Routine"}),e.jsx("option",{value:"travel",children:"Travel"}),e.jsx("option",{value:"seasonal",children:"Seasonal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vaccination Date *"}),e.jsx("input",{type:"date",required:!0,value:B.vaccination_date||"",onChange:H=>f({...B,vaccination_date:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Administered By"}),e.jsx("input",{type:"text",value:B.administered_by||"",onChange:H=>f({...B,administered_by:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:j,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(ys,{className:"w-4 h-4 inline mr-2"}),r?"Saving...":_?"Update":"Create"]})]})]})]})})]})},Zl=({userRole:y,currentUser:A,darkMode:s=!1})=>{const[i,v]=t.useState("faq"),[u,o]=t.useState(""),[b,T]=t.useState(!1),[w,$]=t.useState({subject:"",category:"general",priority:"medium",message:"",contactMethod:"email"}),d=s?"bg-gray-900":"bg-gray-50",x=s?"bg-gray-800 border-gray-700":"bg-white border-gray-200",a=s?"text-white":"text-gray-900",l=s?"text-gray-300":"text-gray-600",n=s?"text-gray-400":"text-gray-500",h=s?"border-gray-700":"border-gray-200",S=s?"hover:bg-gray-700":"hover:bg-gray-50",N={general:[{question:"How do I reset my password?",answer:"Click on 'Forgot Password' on the login page, enter your email, and follow the instructions sent to your email."},{question:"How do I update my profile information?",answer:"Go to 'My Profile' in the main menu, click 'Edit Profile', make your changes, and save."},{question:"How do I change my notification preferences?",answer:"Go to Settings > Notifications to customize your notification preferences for emails, SMS, and system notifications."}],academic:[{question:"How do I view my assignments?",answer:"Go to 'My Assignments' or 'Exam Schedule' to view all your assignments and their due dates."},{question:"How do I submit an assignment?",answer:"Click on the assignment, upload your file, add any comments, and click 'Submit Assignment'."},{question:"How do I view my grades?",answer:"Go to 'My Performance' or 'Grades & Reports' to view your academic performance and grades."}],technical:[{question:"The system is running slowly, what should I do?",answer:"Try refreshing your browser, clearing cache, or using a different browser. Contact IT support if the issue persists."},{question:"I can't upload files, what's wrong?",answer:"Check your file size (max 10MB), file format (PDF, DOC, DOCX, JPG, PNG), and internet connection."},{question:"How do I access the mobile app?",answer:"Download the Smart School app from your app store and log in with your school credentials."}]},g=[{icon:We,title:"Phone Support",description:"Call our support team",contact:"+256 700 000 000",availability:"Mon-Fri: 8AM-5PM"},{icon:ps,title:"Email Support",description:"Send us an email",contact:"support@smartschool.edu",availability:"24/7 Response"},{icon:Fe,title:"Live Chat",description:"Chat with support",contact:"Available Now",availability:"Mon-Fri: 9AM-4PM"}],c=p=>{p.preventDefault(),alert("✅ Support request submitted successfully! We will get back to you within 24 hours."),T(!1),$({subject:"",category:"general",priority:"medium",message:"",contactMethod:"email"})},r=Object.entries(N).reduce((p,[k,m])=>{const C=m.filter(J=>J.question.toLowerCase().includes(u.toLowerCase())||J.answer.toLowerCase().includes(u.toLowerCase()));return C.length>0&&(p[k]=C),p},{});return e.jsx("div",{className:`min-h-screen ${d} p-4`,children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:`${x} rounded-xl shadow-lg p-6 mb-6 border`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:`text-2xl font-bold ${a} flex items-center`,children:[e.jsx(ea,{className:"w-8 h-8 mr-3 text-blue-600"}),"Help & Support"]}),e.jsx("p",{className:`${l} mt-2`,children:"Get help with using Smart School platform"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-sm ${n}`,children:["Welcome, ",A==null?void 0:A.name]}),e.jsx("p",{className:`text-xs ${n} capitalize`,children:y})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:`${x} rounded-xl shadow-lg p-4 border sticky top-4`,children:[e.jsx("h3",{className:`font-semibold ${a} mb-4`,children:"Support Options"}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>v("faq"),className:`w-full text-left p-3 rounded-lg transition-colors ${i==="faq"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":`${S} ${l}`}`,children:[e.jsx(be,{className:"w-4 h-4 inline mr-2"}),"FAQ"]}),e.jsxs("button",{onClick:()=>v("contact"),className:`w-full text-left p-3 rounded-lg transition-colors ${i==="contact"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":`${S} ${l}`}`,children:[e.jsx(We,{className:"w-4 h-4 inline mr-2"}),"Contact Us"]}),e.jsxs("button",{onClick:()=>v("resources"),className:`w-full text-left p-3 rounded-lg transition-colors ${i==="resources"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":`${S} ${l}`}`,children:[e.jsx(re,{className:"w-4 h-4 inline mr-2"}),"Resources"]}),e.jsxs("button",{onClick:()=>v("tutorials"),className:`w-full text-left p-3 rounded-lg transition-colors ${i==="tutorials"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":`${S} ${l}`}`,children:[e.jsx(ke,{className:"w-4 h-4 inline mr-2"}),"Tutorials"]})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[i==="faq"&&e.jsxs("div",{className:`${x} rounded-xl shadow-lg p-6 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-semibold ${a}`,children:"Frequently Asked Questions"}),e.jsxs("div",{className:"relative w-64",children:[e.jsx(Je,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${n}`}),e.jsx("input",{type:"text",placeholder:"Search FAQs...",value:u,onChange:p=>o(p.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${h} ${x} ${a} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]})]}),e.jsx("div",{className:"space-y-6",children:Object.entries(r).map(([p,k])=>e.jsxs("div",{children:[e.jsxs("h3",{className:`text-lg font-medium ${a} mb-4 capitalize`,children:[p," Questions"]}),e.jsx("div",{className:"space-y-3",children:k.map((m,C)=>e.jsxs("div",{className:`p-4 rounded-lg border ${h} ${S}`,children:[e.jsx("h4",{className:`font-medium ${a} mb-2`,children:m.question}),e.jsx("p",{className:`text-sm ${l}`,children:m.answer})]},C))})]},p))})]}),i==="contact"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${x} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${a} mb-6`,children:"Contact Methods"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:g.map((p,k)=>e.jsxs("div",{className:`p-4 rounded-lg border ${h} ${S} text-center`,children:[e.jsx(p.icon,{className:"w-8 h-8 mx-auto mb-3 text-blue-600"}),e.jsx("h3",{className:`font-medium ${a} mb-2`,children:p.title}),e.jsx("p",{className:`text-sm ${l} mb-2`,children:p.description}),e.jsx("p",{className:`text-sm font-medium ${a}`,children:p.contact}),e.jsx("p",{className:`text-xs ${n}`,children:p.availability})]},k))})]}),e.jsxs("div",{className:`${x} rounded-xl shadow-lg p-6 border`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-semibold ${a}`,children:"Send Support Request"}),e.jsx("button",{onClick:()=>T(!b),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:b?"Cancel":"New Request"})]}),b&&e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${l} mb-2`,children:"Subject *"}),e.jsx("input",{type:"text",value:w.subject,onChange:p=>$(k=>({...k,subject:p.target.value})),placeholder:"Brief description of your issue",className:`w-full px-3 py-2 border ${h} rounded-lg ${x} ${a} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${l} mb-2`,children:"Category"}),e.jsxs("select",{value:w.category,onChange:p=>$(k=>({...k,category:p.target.value})),className:`w-full px-3 py-2 border ${h} rounded-lg ${x} ${a} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"technical",children:"Technical"}),e.jsx("option",{value:"academic",children:"Academic"}),e.jsx("option",{value:"account",children:"Account"}),e.jsx("option",{value:"billing",children:"Billing"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${l} mb-2`,children:"Priority"}),e.jsxs("select",{value:w.priority,onChange:p=>$(k=>({...k,priority:p.target.value})),className:`w-full px-3 py-2 border ${h} rounded-lg ${x} ${a} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${l} mb-2`,children:"Preferred Contact Method"}),e.jsxs("select",{value:w.contactMethod,onChange:p=>$(k=>({...k,contactMethod:p.target.value})),className:`w-full px-3 py-2 border ${h} rounded-lg ${x} ${a} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"phone",children:"Phone"}),e.jsx("option",{value:"chat",children:"Live Chat"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${l} mb-2`,children:"Message *"}),e.jsx("textarea",{value:w.message,onChange:p=>$(k=>({...k,message:p.target.value})),placeholder:"Please describe your issue in detail...",rows:6,className:`w-full px-3 py-2 border ${h} rounded-lg ${x} ${a} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>T(!1),className:`px-4 py-2 border ${h} ${l} rounded-lg ${S} transition-colors`,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Es,{className:"w-4 h-4 mr-2"}),"Send Request"]})]})]})]})]}),i==="resources"&&e.jsxs("div",{className:`${x} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${a} mb-6`,children:"Helpful Resources"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:`p-4 rounded-lg border ${h} ${S}`,children:[e.jsx("h3",{className:`font-medium ${a} mb-2`,children:"User Manual"}),e.jsx("p",{className:`text-sm ${l} mb-3`,children:"Complete guide to using Smart School platform"}),e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"Download PDF"]})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${h} ${S}`,children:[e.jsx("h3",{className:`font-medium ${a} mb-2`,children:"Quick Start Guide"}),e.jsx("p",{className:`text-sm ${l} mb-3`,children:"Get started quickly with essential features"}),e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"Download PDF"]})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${h} ${S}`,children:[e.jsx("h3",{className:`font-medium ${a} mb-2`,children:"Video Tutorials"}),e.jsx("p",{className:`text-sm ${l} mb-3`,children:"Step-by-step video guides"}),e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(ke,{className:"w-4 h-4 mr-1"}),"Watch Videos"]})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${h} ${S}`,children:[e.jsx("h3",{className:`font-medium ${a} mb-2`,children:"System Requirements"}),e.jsx("p",{className:`text-sm ${l} mb-3`,children:"Technical specifications and requirements"}),e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(re,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})]}),i==="tutorials"&&e.jsxs("div",{className:`${x} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${a} mb-6`,children:"Video Tutorials"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:`p-4 rounded-lg border ${h} ${S}`,children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg h-32 mb-3 flex items-center justify-center",children:e.jsx(ke,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:`font-medium ${a} mb-2`,children:"Getting Started"}),e.jsx("p",{className:`text-sm ${l} mb-3`,children:"Learn the basics of Smart School platform"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"Watch Now"})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${h} ${S}`,children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg h-32 mb-3 flex items-center justify-center",children:e.jsx(ke,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:`font-medium ${a} mb-2`,children:"Managing Assignments"}),e.jsx("p",{className:`text-sm ${l} mb-3`,children:"How to view and submit assignments"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"Watch Now"})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${h} ${S}`,children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg h-32 mb-3 flex items-center justify-center",children:e.jsx(ke,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:`font-medium ${a} mb-2`,children:"Using Messages"}),e.jsx("p",{className:`text-sm ${l} mb-3`,children:"Communication features and notifications"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"Watch Now"})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${h} ${S}`,children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg h-32 mb-3 flex items-center justify-center",children:e.jsx(ke,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:`font-medium ${a} mb-2`,children:"Mobile App"}),e.jsx("p",{className:`text-sm ${l} mb-3`,children:"Using Smart School on mobile devices"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"Watch Now"})]})]})]})]})]})]})})},er=({userRole:y,currentUser:A,darkMode:s=!1,setDarkMode:i,fontSize:v,setFontSize:u})=>{var p,k;const[o,b]=t.useState("notifications"),[T,w]=t.useState(!1),[$,d]=t.useState({profile:{firstName:((p=A==null?void 0:A.name)==null?void 0:p.split(" ")[0])||"",lastName:((k=A==null?void 0:A.name)==null?void 0:k.split(" ")[1])||"",email:(A==null?void 0:A.email)||"",phone:"",dateOfBirth:"",address:"",emergencyContact:"",emergencyPhone:""},notifications:{emailNotifications:!0,smsNotifications:!1,assignmentReminders:!0,examReminders:!0,gradeNotifications:!0,attendanceAlerts:!0,schoolAnnouncements:!0,teacherMessages:!0},privacy:{profileVisibility:"classmates",showGrades:"parents-only",showAttendance:"parents-only",allowMessages:"classmates-teachers",shareProgress:"parents-only"},appearance:{theme:s?"dark":"light",language:"en",fontSize:v||"medium",colorScheme:"default"},academic:{studyReminders:!0,breakReminders:!0,goalTracking:!0,progressSharing:!0,aiStudySuggestions:!0}}),x=s?"bg-gray-900":"bg-gray-50",a=s?"bg-gray-800 border-gray-700":"bg-white border-gray-200",l=s?"text-white":"text-gray-900",n=s?"text-gray-300":"text-gray-600",h=s?"text-gray-400":"text-gray-500",S=s?"border-gray-700":"border-gray-200",N=s?"hover:bg-gray-700":"hover:bg-gray-50",g=(m,C,J)=>{if(d(_=>({..._,[m]:{..._[m],[C]:J}})),m==="appearance"&&C==="theme"){if(J==="light")i(!1);else if(J==="dark")i(!0);else if(J==="auto"){const _=window.matchMedia("(prefers-color-scheme: dark)").matches;i(_)}}m==="appearance"&&C==="fontSize"&&u(J)},c=()=>{console.log("Settings saved:",$)},r=[{id:"notifications",label:"Notifications",icon:Ye},{id:"appearance",label:"Appearance",icon:gt},{id:"academic",label:"Academic",icon:Ms}];return e.jsx("div",{className:`min-h-screen ${x} p-4`,children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:`${a} rounded-xl shadow-lg p-6 mb-6 border`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:`text-2xl font-bold ${l} flex items-center`,children:[e.jsx(es,{className:"w-8 h-8 mr-3 text-blue-600"}),"Student Settings"]}),e.jsx("p",{className:`${n} mt-2`,children:"Manage your account preferences and academic settings"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-sm ${h}`,children:["Welcome, ",A==null?void 0:A.name]}),e.jsx("p",{className:`text-xs ${h} capitalize`,children:y})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-4 border sticky top-4`,children:[e.jsx("h3",{className:`font-semibold ${l} mb-4`,children:"Settings"}),e.jsx("nav",{className:"space-y-2",children:r.map(m=>e.jsxs("button",{onClick:()=>b(m.id),className:`w-full text-left p-3 rounded-lg transition-colors ${o===m.id?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":`${N} ${n}`}`,children:[e.jsx(m.icon,{className:"w-4 h-4 inline mr-2"}),m.label]},m.id))})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[o==="notifications"&&e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${l} mb-6`,children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Communication Channels"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ps,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${l}`,children:"Email Notifications"}),e.jsx("div",{className:`text-sm ${n}`,children:"Receive notifications via email"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:$.notifications.emailNotifications,onChange:m=>g("notifications","emailNotifications",m.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Fs,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${l}`,children:"SMS Notifications"}),e.jsx("div",{className:`text-sm ${n}`,children:"Receive notifications via SMS"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:$.notifications.smsNotifications,onChange:m=>g("notifications","smsNotifications",m.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Academic Notifications"}),e.jsx("div",{className:"space-y-4",children:[{key:"assignmentReminders",label:"Assignment Reminders",desc:"Get notified about upcoming assignments"},{key:"examReminders",label:"Exam Reminders",desc:"Get notified about upcoming exams"},{key:"gradeNotifications",label:"Grade Notifications",desc:"Get notified when grades are posted"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Get notified about attendance issues"},{key:"schoolAnnouncements",label:"School Announcements",desc:"Receive school-wide announcements"},{key:"teacherMessages",label:"Teacher Messages",desc:"Receive messages from teachers"}].map(m=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${l}`,children:m.label}),e.jsx("div",{className:`text-sm ${n}`,children:m.desc})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:$.notifications[m.key],onChange:C=>g("notifications",m.key,C.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},m.key))})]})]})]}),o==="appearance"&&e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${l} mb-6`,children:"Appearance Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Theme"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"light",label:"Light",icon:pt,color:"text-yellow-500"},{value:"dark",label:"Dark",icon:ut,color:"text-blue-500"},{value:"auto",label:"Auto",icon:As,color:"text-gray-500"}].map(m=>e.jsxs("label",{className:`flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${$.appearance.theme===m.value?s?"border-blue-400 bg-blue-900/20":"border-blue-500 bg-blue-50":s?"border-gray-600 hover:border-gray-500 hover:bg-gray-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"radio",name:"theme",value:m.value,checked:$.appearance.theme===m.value,onChange:C=>g("appearance","theme",C.target.value),className:"sr-only"}),e.jsx(m.icon,{className:`w-6 h-6 mb-2 ${m.color} ${$.appearance.theme===m.value?"opacity-100":"opacity-60"}`}),e.jsx("span",{className:`text-sm font-medium ${$.appearance.theme===m.value?s?"text-blue-300":"text-blue-700":n}`,children:m.label})]},m.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Language"}),e.jsxs("select",{value:$.appearance.language,onChange:m=>g("appearance","language",m.target.value),className:`w-full px-3 py-2 border ${S} rounded-lg ${a} ${l} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"fr",children:"French"}),e.jsx("option",{value:"de",children:"German"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Font Size"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"small",label:"Small",size:"text-sm",icon:"A"},{value:"medium",label:"Medium",size:"text-base",icon:"A"},{value:"large",label:"Large",size:"text-lg",icon:"A"}].map(m=>e.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 hover:scale-105 ${$.appearance.fontSize===m.value?s?"border-blue-400 bg-blue-900/20 shadow-lg shadow-blue-500/20":"border-blue-500 bg-blue-50 shadow-lg shadow-blue-500/20":s?"border-gray-600 hover:border-gray-500 hover:bg-gray-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"radio",name:"fontSize",value:m.value,checked:$.appearance.fontSize===m.value,onChange:C=>g("appearance","fontSize",C.target.value),className:"sr-only"}),e.jsx("div",{className:`${m.size} font-bold mb-2 ${$.appearance.fontSize===m.value?s?"text-blue-300":"text-blue-700":n}`,children:m.icon}),e.jsx("span",{className:`text-sm font-medium ${$.appearance.fontSize===m.value?s?"text-blue-300":"text-blue-700":n}`,children:m.label})]},m.value))}),e.jsx("p",{className:`text-sm ${h} mt-2`,children:"Choose your preferred font size for better readability"})]})]})]}),o==="academic"&&e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${l} mb-6`,children:"Academic Preferences"}),e.jsx("div",{className:"space-y-6",children:[{key:"studyReminders",label:"Study Reminders",desc:"Get reminders for scheduled study sessions"},{key:"breakReminders",label:"Break Reminders",desc:"Get reminders to take breaks during study sessions"},{key:"goalTracking",label:"Goal Tracking",desc:"Track and monitor your academic goals"},{key:"progressSharing",label:"Progress Sharing",desc:"Share your progress with parents and teachers"},{key:"aiStudySuggestions",label:"AI Study Suggestions",desc:"Receive AI-powered study recommendations"}].map(m=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${l}`,children:m.label}),e.jsx("div",{className:`text-sm ${n}`,children:m.desc})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:$.academic[m.key],onChange:C=>g("academic",m.key,C.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},m.key))})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{onClick:c,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Settings"})]})})]})]})]})})},sr=({userRole:y,currentUser:A,darkMode:s=!1,setDarkMode:i,fontSize:v,setFontSize:u,setActiveTab:o})=>{var k,m;const[b,T]=t.useState("children"),[w,$]=t.useState(!1),[d,x]=t.useState({profile:{firstName:((k=A==null?void 0:A.name)==null?void 0:k.split(" ")[0])||"",lastName:((m=A==null?void 0:A.name)==null?void 0:m.split(" ")[1])||"",email:(A==null?void 0:A.email)||"",phone:"",address:"",occupation:"",employer:"",emergencyContact:"",emergencyPhone:""},children:{addChildNotifications:!0,childProgressUpdates:!0,attendanceAlerts:!0,gradeNotifications:!0,behaviorReports:!0,schoolEvents:!0,teacherMessages:!0,feeReminders:!0},notifications:{emailNotifications:!0,smsNotifications:!0,pushNotifications:!0,weeklyReports:!0,monthlyReports:!0,urgentAlerts:!0,schoolAnnouncements:!0,parentTeacherMeetings:!0},privacy:{profileVisibility:"school-staff",showContactInfo:"teachers-only",allowMessages:"teachers-staff",shareProgress:"teachers-only",dataSharing:"minimal"},appearance:{theme:s?"dark":"light",language:"en",fontSize:v||"medium",colorScheme:"default"},financial:{feeNotifications:!0,paymentReminders:!0,receiptNotifications:!0,budgetTracking:!0,expenseReports:!0}}),a=s?"bg-gray-900":"bg-gray-50",l=s?"bg-gray-800 border-gray-700":"bg-white border-gray-200",n=s?"text-white":"text-gray-900",h=s?"text-gray-300":"text-gray-600",S=s?"text-gray-400":"text-gray-500",N=s?"border-gray-700":"border-gray-200",g=s?"hover:bg-gray-700":"hover:bg-gray-50",c=(C,J,_)=>{if(x(z=>({...z,[C]:{...z[C],[J]:_}})),C==="appearance"&&J==="theme"){if(_==="light")i(!1);else if(_==="dark")i(!0);else if(_==="auto"){const z=window.matchMedia("(prefers-color-scheme: dark)").matches;i(z)}}C==="appearance"&&J==="fontSize"&&u(_)},r=()=>{console.log("Settings saved:",d)},p=[{id:"children",label:"Children",icon:Xs},{id:"notifications",label:"Notifications",icon:Ye},{id:"appearance",label:"Appearance",icon:gt},{id:"financial",label:"Financial",icon:vs}];return e.jsx("div",{className:`min-h-screen ${a} p-4`,children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:`${l} rounded-xl shadow-lg p-6 mb-6 border`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:`text-2xl font-bold ${n} flex items-center`,children:[e.jsx(me,{className:"w-8 h-8 mr-3 text-blue-600"}),"Parent Settings"]}),e.jsx("p",{className:`${h} mt-2`,children:"Manage your account preferences and family settings"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-sm ${S}`,children:["Welcome, ",A==null?void 0:A.name]}),e.jsx("p",{className:`text-xs ${S} capitalize`,children:y})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:`${l} rounded-xl shadow-lg p-4 border sticky top-4`,children:[e.jsx("h3",{className:`font-semibold ${n} mb-4`,children:"Settings"}),e.jsx("nav",{className:"space-y-2",children:p.map(C=>e.jsxs("button",{onClick:()=>T(C.id),className:`w-full text-left p-3 rounded-lg transition-colors ${b===C.id?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":`${g} ${h}`}`,children:[e.jsx(C.icon,{className:"w-4 h-4 inline mr-2"}),C.label]},C.id))})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[b==="children"&&e.jsxs("div",{className:`${l} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${n} mb-6`,children:"Children Management"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${n} mb-4`,children:"Child-Related Notifications"}),e.jsx("div",{className:"space-y-4",children:[{key:"addChildNotifications",label:"Add Child Notifications",desc:"Get notified when new children are added to your account"},{key:"childProgressUpdates",label:"Progress Updates",desc:"Receive updates about your children's academic progress"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Get alerts about attendance issues"},{key:"gradeNotifications",label:"Grade Notifications",desc:"Get notified when grades are posted"},{key:"behaviorReports",label:"Behavior Reports",desc:"Receive behavior reports and updates"},{key:"schoolEvents",label:"School Events",desc:"Get notified about school events and activities"},{key:"teacherMessages",label:"Teacher Messages",desc:"Receive messages from your children's teachers"},{key:"feeReminders",label:"Fee Reminders",desc:"Get reminders about school fees and payments"}].map(C=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${n}`,children:C.label}),e.jsx("div",{className:`text-sm ${h}`,children:C.desc})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.children[C.key],onChange:J=>c("children",C.key,J.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},C.key))})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(va,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:`font-medium ${n}`,children:"Child Management"})]}),e.jsx("p",{className:`text-sm ${h} mb-3`,children:"To add or manage your children, please contact the school administration or use the Children Management section in the main menu."}),e.jsx("button",{onClick:()=>T&&T("children"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Manage Children"})]})]})]}),b==="notifications"&&e.jsxs("div",{className:`${l} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${n} mb-6`,children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${n} mb-4`,children:"Communication Channels"}),e.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Receive notifications via email",icon:ps},{key:"smsNotifications",label:"SMS Notifications",desc:"Receive notifications via SMS",icon:Fs},{key:"pushNotifications",label:"Push Notifications",desc:"Receive push notifications on mobile app",icon:Ye}].map(C=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(C.icon,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${n}`,children:C.label}),e.jsx("div",{className:`text-sm ${h}`,children:C.desc})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.notifications[C.key],onChange:J=>c("notifications",C.key,J.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},C.key))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${n} mb-4`,children:"Report Preferences"}),e.jsx("div",{className:"space-y-4",children:[{key:"weeklyReports",label:"Weekly Reports",desc:"Receive weekly progress reports"},{key:"monthlyReports",label:"Monthly Reports",desc:"Receive monthly comprehensive reports"},{key:"urgentAlerts",label:"Urgent Alerts",desc:"Receive urgent notifications immediately"},{key:"schoolAnnouncements",label:"School Announcements",desc:"Receive school-wide announcements"},{key:"parentTeacherMeetings",label:"Parent-Teacher Meetings",desc:"Get notified about meeting schedules"}].map(C=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${n}`,children:C.label}),e.jsx("div",{className:`text-sm ${h}`,children:C.desc})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.notifications[C.key],onChange:J=>c("notifications",C.key,J.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},C.key))})]})]})]}),b==="appearance"&&e.jsxs("div",{className:`${l} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${n} mb-6`,children:"Appearance Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${n} mb-4`,children:"Theme"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"light",label:"Light",icon:pt,color:"text-yellow-500"},{value:"dark",label:"Dark",icon:ut,color:"text-blue-500"},{value:"auto",label:"Auto",icon:As,color:"text-gray-500"}].map(C=>e.jsxs("label",{className:`flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${d.appearance.theme===C.value?s?"border-blue-400 bg-blue-900/20":"border-blue-500 bg-blue-50":s?"border-gray-600 hover:border-gray-500 hover:bg-gray-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"radio",name:"theme",value:C.value,checked:d.appearance.theme===C.value,onChange:J=>c("appearance","theme",J.target.value),className:"sr-only"}),e.jsx(C.icon,{className:`w-6 h-6 mb-2 ${C.color} ${d.appearance.theme===C.value?"opacity-100":"opacity-60"}`}),e.jsx("span",{className:`text-sm font-medium ${d.appearance.theme===C.value?s?"text-blue-300":"text-blue-700":h}`,children:C.label})]},C.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${n} mb-4`,children:"Language"}),e.jsxs("select",{value:d.appearance.language,onChange:C=>c("appearance","language",C.target.value),className:`w-full px-3 py-2 border ${N} rounded-lg ${l} ${n} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"fr",children:"French"}),e.jsx("option",{value:"de",children:"German"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${n} mb-4`,children:"Font Size"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"small",label:"Small",size:"text-sm",icon:"A"},{value:"medium",label:"Medium",size:"text-base",icon:"A"},{value:"large",label:"Large",size:"text-lg",icon:"A"}].map(C=>e.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 hover:scale-105 ${d.appearance.fontSize===C.value?s?"border-blue-400 bg-blue-900/20 shadow-lg shadow-blue-500/20":"border-blue-500 bg-blue-50 shadow-lg shadow-blue-500/20":s?"border-gray-600 hover:border-gray-500 hover:bg-gray-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"radio",name:"fontSize",value:C.value,checked:d.appearance.fontSize===C.value,onChange:J=>c("appearance","fontSize",J.target.value),className:"sr-only"}),e.jsx("div",{className:`${C.size} font-bold mb-2 ${d.appearance.fontSize===C.value?s?"text-blue-300":"text-blue-700":h}`,children:C.icon}),e.jsx("span",{className:`text-sm font-medium ${d.appearance.fontSize===C.value?s?"text-blue-300":"text-blue-700":h}`,children:C.label})]},C.value))}),e.jsx("p",{className:`text-sm ${S} mt-2`,children:"Choose your preferred font size for better readability"})]})]})]}),b==="financial"&&e.jsxs("div",{className:`${l} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${n} mb-6`,children:"Financial Preferences"}),e.jsx("div",{className:"space-y-6",children:[{key:"feeNotifications",label:"Fee Notifications",desc:"Get notified about school fees and payments"},{key:"paymentReminders",label:"Payment Reminders",desc:"Receive reminders about upcoming payments"},{key:"receiptNotifications",label:"Receipt Notifications",desc:"Get notified when receipts are available"},{key:"budgetTracking",label:"Budget Tracking",desc:"Track your school-related expenses"},{key:"expenseReports",label:"Expense Reports",desc:"Receive monthly expense reports"}].map(C=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${n}`,children:C.label}),e.jsx("div",{className:`text-sm ${h}`,children:C.desc})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.financial[C.key],onChange:J=>c("financial",C.key,J.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},C.key))})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{onClick:r,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Settings"})]})})]})]})]})})},tr=({userRole:y,currentUser:A,darkMode:s=!1,setDarkMode:i,fontSize:v,setFontSize:u})=>{var p,k;const[o,b]=t.useState("teaching"),[T,w]=t.useState(!1),[$,d]=t.useState({profile:{firstName:((p=A==null?void 0:A.name)==null?void 0:p.split(" ")[0])||"",lastName:((k=A==null?void 0:A.name)==null?void 0:k.split(" ")[1])||"",email:(A==null?void 0:A.email)||"",phone:"",address:"",qualification:"",specialization:"",experience:"",department:"",emergencyContact:"",emergencyPhone:""},teaching:{classNotifications:!0,assignmentReminders:!0,gradeDeadlines:!0,parentMessages:!0,studentMessages:!0,attendanceAlerts:!0,curriculumUpdates:!0,professionalDevelopment:!0},notifications:{emailNotifications:!0,smsNotifications:!0,pushNotifications:!0,urgentAlerts:!0,weeklyReports:!0,monthlyReports:!0,schoolAnnouncements:!0,staffMeetings:!0},privacy:{profileVisibility:"students-parents",showContactInfo:"students-parents",allowMessages:"students-parents",shareSchedule:"students-only",dataSharing:"standard"},appearance:{theme:s?"dark":"light",language:"en",fontSize:v||"medium",colorScheme:"default"},academic:{gradeTracking:!0,attendanceTracking:!0,lessonPlanning:!0,studentProgress:!0,parentCommunication:!0,curriculumManagement:!0}}),x=s?"bg-gray-900":"bg-gray-50",a=s?"bg-gray-800 border-gray-700":"bg-white border-gray-200",l=s?"text-white":"text-gray-900",n=s?"text-gray-300":"text-gray-600",h=s?"text-gray-400":"text-gray-500",S=s?"border-gray-700":"border-gray-200",N=s?"hover:bg-gray-700":"hover:bg-gray-50",g=(m,C,J)=>{if(d(_=>({..._,[m]:{..._[m],[C]:J}})),m==="appearance"&&C==="theme"){if(J==="light")i(!1);else if(J==="dark")i(!0);else if(J==="auto"){const _=window.matchMedia("(prefers-color-scheme: dark)").matches;i(_)}}m==="appearance"&&C==="fontSize"&&u(J)},c=()=>{console.log("Settings saved:",$)},r=[{id:"teaching",label:"Teaching",icon:be},{id:"notifications",label:"Notifications",icon:Ye},{id:"appearance",label:"Appearance",icon:gt},{id:"academic",label:"Academic",icon:de}];return e.jsx("div",{className:`min-h-screen ${x} p-4`,children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:`${a} rounded-xl shadow-lg p-6 mb-6 border`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:`text-2xl font-bold ${l} flex items-center`,children:[e.jsx($s,{className:"w-8 h-8 mr-3 text-blue-600"}),"Teacher Settings"]}),e.jsx("p",{className:`${n} mt-2`,children:"Manage your teaching preferences and professional settings"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-sm ${h}`,children:["Welcome, ",A==null?void 0:A.name]}),e.jsx("p",{className:`text-xs ${h} capitalize`,children:y})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-4 border sticky top-4`,children:[e.jsx("h3",{className:`font-semibold ${l} mb-4`,children:"Settings"}),e.jsx("nav",{className:"space-y-2",children:r.map(m=>e.jsxs("button",{onClick:()=>b(m.id),className:`w-full text-left p-3 rounded-lg transition-colors ${o===m.id?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":`${N} ${n}`}`,children:[e.jsx(m.icon,{className:"w-4 h-4 inline mr-2"}),m.label]},m.id))})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[o==="teaching"&&e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${l} mb-6`,children:"Teaching Preferences"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Class Management"}),e.jsx("div",{className:"space-y-4",children:[{key:"classNotifications",label:"Class Notifications",desc:"Get notified about class schedules and changes"},{key:"assignmentReminders",label:"Assignment Reminders",desc:"Get reminders about assignment deadlines"},{key:"gradeDeadlines",label:"Grade Deadlines",desc:"Get notified about grade submission deadlines"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Get alerts about student attendance issues"},{key:"curriculumUpdates",label:"Curriculum Updates",desc:"Receive updates about curriculum changes"},{key:"professionalDevelopment",label:"Professional Development",desc:"Get notified about training opportunities"}].map(m=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${l}`,children:m.label}),e.jsx("div",{className:`text-sm ${n}`,children:m.desc})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:$.teaching[m.key],onChange:C=>g("teaching",m.key,C.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},m.key))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Communication"}),e.jsx("div",{className:"space-y-4",children:[{key:"parentMessages",label:"Parent Messages",desc:"Receive messages from parents"},{key:"studentMessages",label:"Student Messages",desc:"Receive messages from students"}].map(m=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${l}`,children:m.label}),e.jsx("div",{className:`text-sm ${n}`,children:m.desc})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:$.teaching[m.key],onChange:C=>g("teaching",m.key,C.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},m.key))})]})]})]}),o==="notifications"&&e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${l} mb-6`,children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Communication Channels"}),e.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Receive notifications via email",icon:ps},{key:"smsNotifications",label:"SMS Notifications",desc:"Receive notifications via SMS",icon:Fs},{key:"pushNotifications",label:"Push Notifications",desc:"Receive push notifications on mobile app",icon:Ye}].map(m=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(m.icon,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${l}`,children:m.label}),e.jsx("div",{className:`text-sm ${n}`,children:m.desc})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:$.notifications[m.key],onChange:C=>g("notifications",m.key,C.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},m.key))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Professional Notifications"}),e.jsx("div",{className:"space-y-4",children:[{key:"urgentAlerts",label:"Urgent Alerts",desc:"Receive urgent notifications immediately"},{key:"weeklyReports",label:"Weekly Reports",desc:"Receive weekly teaching reports"},{key:"monthlyReports",label:"Monthly Reports",desc:"Receive monthly comprehensive reports"},{key:"schoolAnnouncements",label:"School Announcements",desc:"Receive school-wide announcements"},{key:"staffMeetings",label:"Staff Meetings",desc:"Get notified about staff meetings"}].map(m=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${l}`,children:m.label}),e.jsx("div",{className:`text-sm ${n}`,children:m.desc})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:$.notifications[m.key],onChange:C=>g("notifications",m.key,C.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},m.key))})]})]})]}),o==="appearance"&&e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${l} mb-6`,children:"Appearance Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Theme"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"light",label:"Light",icon:pt,color:"text-yellow-500"},{value:"dark",label:"Dark",icon:ut,color:"text-blue-500"},{value:"auto",label:"Auto",icon:As,color:"text-gray-500"}].map(m=>e.jsxs("label",{className:`flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${$.appearance.theme===m.value?s?"border-blue-400 bg-blue-900/20":"border-blue-500 bg-blue-50":s?"border-gray-600 hover:border-gray-500 hover:bg-gray-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"radio",name:"theme",value:m.value,checked:$.appearance.theme===m.value,onChange:C=>g("appearance","theme",C.target.value),className:"sr-only"}),e.jsx(m.icon,{className:`w-6 h-6 mb-2 ${m.color} ${$.appearance.theme===m.value?"opacity-100":"opacity-60"}`}),e.jsx("span",{className:`text-sm font-medium ${$.appearance.theme===m.value?s?"text-blue-300":"text-blue-700":n}`,children:m.label})]},m.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Language"}),e.jsxs("select",{value:$.appearance.language,onChange:m=>g("appearance","language",m.target.value),className:`w-full px-3 py-2 border ${S} rounded-lg ${a} ${l} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"fr",children:"French"}),e.jsx("option",{value:"de",children:"German"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-medium ${l} mb-4`,children:"Font Size"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"small",label:"Small",size:"text-sm",icon:"A"},{value:"medium",label:"Medium",size:"text-base",icon:"A"},{value:"large",label:"Large",size:"text-lg",icon:"A"}].map(m=>e.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 hover:scale-105 ${$.appearance.fontSize===m.value?s?"border-blue-400 bg-blue-900/20 shadow-lg shadow-blue-500/20":"border-blue-500 bg-blue-50 shadow-lg shadow-blue-500/20":s?"border-gray-600 hover:border-gray-500 hover:bg-gray-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"radio",name:"fontSize",value:m.value,checked:$.appearance.fontSize===m.value,onChange:C=>g("appearance","fontSize",C.target.value),className:"sr-only"}),e.jsx("div",{className:`${m.size} font-bold mb-2 ${$.appearance.fontSize===m.value?s?"text-blue-300":"text-blue-700":n}`,children:m.icon}),e.jsx("span",{className:`text-sm font-medium ${$.appearance.fontSize===m.value?s?"text-blue-300":"text-blue-700":n}`,children:m.label})]},m.value))}),e.jsx("p",{className:`text-sm ${h} mt-2`,children:"Choose your preferred font size for better readability"})]})]})]}),o==="academic"&&e.jsxs("div",{className:`${a} rounded-xl shadow-lg p-6 border`,children:[e.jsx("h2",{className:`text-xl font-semibold ${l} mb-6`,children:"Academic Preferences"}),e.jsx("div",{className:"space-y-6",children:[{key:"gradeTracking",label:"Grade Tracking",desc:"Track and manage student grades"},{key:"attendanceTracking",label:"Attendance Tracking",desc:"Track student attendance and patterns"},{key:"lessonPlanning",label:"Lesson Planning",desc:"Plan and organize lesson content"},{key:"studentProgress",label:"Student Progress",desc:"Monitor individual student progress"},{key:"parentCommunication",label:"Parent Communication",desc:"Communicate with parents about student progress"},{key:"curriculumManagement",label:"Curriculum Management",desc:"Manage curriculum and course content"}].map(m=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${l}`,children:m.label}),e.jsx("div",{className:`text-sm ${n}`,children:m.desc})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:$.academic[m.key],onChange:C=>g("academic",m.key,C.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},m.key))})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{onClick:c,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Settings"})]})})]})]})]})})},ar=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const a=await fetch("http://localhost:5000/api/admin/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const l=await a.json();l.success&&(i(l.stats),u(l.recentActivities||[]),b(l.systemHealth||{}))}}catch(a){console.error("Error loading administration dashboard:",a),i({totalUsers:1250,activeUsers:1180,totalDepartments:15,systemUptime:"99.8%",pendingApprovals:12,alerts:3}),u([{id:1,type:"user_created",message:"New teacher account created",time:"2 minutes ago",status:"success"},{id:2,type:"system_alert",message:"Database backup completed",time:"15 minutes ago",status:"info"},{id:3,type:"approval",message:"Department budget approval pending",time:"1 hour ago",status:"warning"}]),b({database:98.5,server:99.2,network:97.8,storage:95.2})}finally{w(!1)}},d=a=>{switch(a){case"success":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"error":return"text-red-600 bg-red-50";default:return"text-blue-600 bg-blue-50"}},x=a=>{switch(a){case"success":return e.jsx(se,{className:"w-4 h-4"});case"warning":return e.jsx(oe,{className:"w-4 h-4"});case"error":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Ys,{className:"w-8 h-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Administration Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Central management and oversight of all school operations"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalUsers||1250}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+5.2% from last month"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Active Users"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.activeUsers||1180}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"94.4% active rate"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Le,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"System Uptime"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.systemUptime||"99.8%"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Excellent performance"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(he,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Departments"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalDepartments||15}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"All operational"})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(Ys,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Pending Approvals"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.pendingApprovals||12}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Requires attention"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Active Alerts"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.alerts||3}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Needs review"})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-red-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(He,{className:"w-5 h-5 mr-2 text-blue-600"}),"System Health"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Database"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.database||98.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.database||98.5,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Server"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.server||99.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.server||99.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Network"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.network||97.8}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.network||97.8,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Storage"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.storage||95.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.storage||95.2,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Activities"]}),e.jsx("div",{className:"space-y-3",children:v.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`p-1 rounded-full ${d(a.status)}`,children:x(a.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.message}),e.jsx("p",{className:"text-xs text-gray-500",children:a.time})]})]},a.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(Xs,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Add New User"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(re,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Generate Report"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(Xe,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"System Settings"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-orange-50 border border-orange-200 rounded-lg hover:bg-orange-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"View Logs"})]})]})]})]})},lr=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const l=await fetch("http://localhost:5000/api/finance/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(l.ok){const n=await l.json();n.success&&(i(n.stats),u(n.recentTransactions||[]),b(n.paymentMethods||{}))}}catch(l){console.error("Error loading finance dashboard:",l),i({totalRevenue:245e4,monthlyRevenue:85e4,pendingPayments:125e3,overduePayments:45e3,totalStudents:1200,paymentRate:87.5}),u([{id:1,student:"John Doe",amount:5e5,method:"Bank Transfer",status:"completed",date:"2 hours ago"},{id:2,student:"Jane Smith",amount:3e5,method:"Mobile Money",status:"completed",date:"4 hours ago"},{id:3,student:"Mike Johnson",amount:25e4,method:"Cash",status:"pending",date:"1 day ago"}]),b({bankTransfer:45.2,mobileMoney:32.8,cash:15.6,card:6.4})}finally{w(!1)}},d=l=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(l),x=l=>{switch(l){case"completed":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"overdue":return"text-red-600 bg-red-50";default:return"text-blue-600 bg-blue-50"}},a=l=>{switch(l){case"completed":return e.jsx(se,{className:"w-4 h-4"});case"pending":return e.jsx(ie,{className:"w-4 h-4"});case"overdue":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(ie,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(de,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Finance & Accounts Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Financial management, payments, and revenue tracking"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d(s.totalRevenue||245e4)}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+12.5% from last year"]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(ze,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Monthly Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d(s.monthlyRevenue||85e4)}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+8.3% from last month"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Payment Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[s.paymentRate||87.5,"%"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Above target (85%)"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Ct,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Pending Payments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d(s.pendingPayments||125e3)}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Requires follow-up"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Overdue Payments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d(s.overduePayments||45e3)}),e.jsxs("p",{className:"text-sm text-red-600 mt-1 flex items-center",children:[e.jsx(lt,{className:"w-4 h-4 mr-1"}),"-5.2% from last month"]})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalStudents||1200}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Fee-paying students"})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ct,{className:"w-5 h-5 mr-2 text-blue-600"}),"Payment Methods"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Bank Transfer"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o.bankTransfer||45.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.bankTransfer||45.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Mobile Money"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.mobileMoney||32.8}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.mobileMoney||32.8,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Cash"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.cash||15.6}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.cash||15.6,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Card"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${o.card||6.4}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.card||6.4,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ds,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Transactions"]}),e.jsx("div",{className:"space-y-3",children:v.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-1 rounded-full ${x(l.status)}`,children:a(l.status)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.student}),e.jsxs("p",{className:"text-xs text-gray-500",children:[l.method," • ",l.date]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:d(l.amount)}),e.jsx("p",{className:`text-xs ${x(l.status)}`,children:l.status})]})]},l.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(vs,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(Ds,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Generate Receipt"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(re,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Fee Statement"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(de,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Revenue Report"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-orange-50 border border-orange-200 rounded-lg hover:bg-orange-100 transition-colors",children:[e.jsx(oe,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Overdue Alerts"})]})]})]})]})},rr=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const a=await fetch("http://localhost:5000/api/academic/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const l=await a.json();l.success&&(i(l.stats),u(l.recentActivities||[]),b(l.subjectPerformance||{}))}}catch(a){console.error("Error loading academic dashboard:",a),i({totalStudents:1200,totalTeachers:45,totalSubjects:28,averageGrade:78.5,attendanceRate:94.2,assignmentsSubmitted:85.7}),u([{id:1,type:"grade_entered",message:"Mathematics grades entered for S.4",time:"30 minutes ago",status:"success"},{id:2,type:"assignment",message:"Physics assignment deadline approaching",time:"2 hours ago",status:"warning"},{id:3,type:"lesson",message:"Chemistry lesson plan uploaded",time:"4 hours ago",status:"info"}]),b({mathematics:82.3,physics:79.1,chemistry:76.8,biology:81.5,english:85.2,history:77.9})}finally{w(!1)}},d=a=>{switch(a){case"success":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"error":return"text-red-600 bg-red-50";default:return"text-blue-600 bg-blue-50"}},x=a=>{switch(a){case"success":return e.jsx(se,{className:"w-4 h-4"});case"warning":return e.jsx(oe,{className:"w-4 h-4"});case"error":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(be,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx($s,{className:"w-8 h-8 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Departments Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Sciences, Humanities, Business, ICT, and other academic areas"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Students"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalStudents||1200}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+3.2% from last term"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Teachers"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalTeachers||45}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Active faculty"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx($s,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Subjects"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalSubjects||28}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Across all levels"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(be,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Grade"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.averageGrade||78.5,"%"]}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+2.1% improvement"]})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(Se,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Attendance Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.attendanceRate||94.2,"%"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Excellent attendance"})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Assignments Submitted"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.assignmentsSubmitted||85.7,"%"]}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"On-time submission"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(re,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-blue-600"}),"Subject Performance"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Mathematics"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o.mathematics||82.3}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.mathematics||82.3,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Physics"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.physics||79.1}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.physics||79.1,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Chemistry"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.chemistry||76.8}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.chemistry||76.8,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Biology"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.biology||81.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.biology||81.5,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"English"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${o.english||85.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.english||85.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"History"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${o.history||77.9}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.history||77.9,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Activity,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Activities"]}),e.jsx("div",{className:"space-y-3",children:v.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`p-1 rounded-full ${d(a.status)}`,children:x(a.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.message}),e.jsx("p",{className:"text-xs text-gray-500",children:a.time})]})]},a.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ce,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(be,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Create Lesson Plan"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(re,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Enter Grades"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(ne,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Schedule Class"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-orange-50 border border-orange-200 rounded-lg hover:bg-orange-100 transition-colors",children:[e.jsx(pe,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"AI Grading"})]})]})]})]})},nr=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const d=await fetch("http://localhost:5000/api/examinations/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(d.ok){const x=await d.json();x.success&&(i(x.stats),u(x.upcomingExams||[]),b(x.examResults||{}))}}catch(d){console.error("Error loading examinations dashboard:",d),i({totalExams:156,completedExams:142,pendingExams:14,averageScore:76.8,passRate:89.2,unebReadiness:85.5}),u([{id:1,subject:"Mathematics",class:"S.4",date:"2024-01-15",time:"09:00",type:"Mock UNEB"},{id:2,subject:"Physics",class:"S.6",date:"2024-01-16",time:"14:00",type:"End of Term"},{id:3,subject:"Chemistry",class:"S.5",date:"2024-01-17",time:"10:00",type:"Continuous Assessment"}]),b({distinction:15.2,credit:42.8,pass:31.2,fail:10.8})}finally{w(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(re,{className:"w-8 h-8 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Examinations & Assessment Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive exam management and assessment systems"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Exams"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalExams||156}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"This academic year"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(re,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Completed Exams"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.completedExams||142}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"91% completion rate"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Pending Exams"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.pendingExams||14}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Requires attention"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Score"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.averageScore||76.8,"%"]}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+3.2% improvement"]})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Pass Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.passRate||89.2,"%"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Above target (85%)"})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(Se,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"UNEB Readiness"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.unebReadiness||85.5,"%"]}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Mock exam performance"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(Ce,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-blue-600"}),"Exam Results Distribution"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Distinction (80%+)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.distinction||15.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.distinction||15.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Credit (60-79%)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o.credit||42.8}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.credit||42.8,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pass (50-59%)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.pass||31.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.pass||31.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Fail (Below 50%)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${o.fail||10.8}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.fail||10.8,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2 text-orange-600"}),"Upcoming Exams"]}),e.jsx("div",{className:"space-y-3",children:v.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(be,{className:"w-4 h-4 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.subject}),e.jsxs("p",{className:"text-xs text-gray-500",children:[d.class," • ",d.type]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:d.date}),e.jsx("p",{className:"text-xs text-gray-500",children:d.time})]})]},d.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-orange-50 border border-orange-200 rounded-lg hover:bg-orange-100 transition-colors",children:[e.jsx(ne,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Schedule Exam"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(re,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Generate Report"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"AI Proctoring"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(pe,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Auto Grading"})]})]})]})]})},ir=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const a=await fetch("http://localhost:5000/api/ict/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const l=await a.json();l.success&&(i(l.stats),u(l.systemAlerts||[]),b(l.systemHealth||{}))}}catch(a){console.error("Error loading ICT dashboard:",a),i({totalDevices:450,activeConnections:380,serverUptime:99.8,storageUsed:78.5,networkSpeed:95.2,securityScore:92.1}),u([{id:1,type:"warning",message:"Database backup scheduled for tonight",time:"2 hours ago",status:"info"},{id:2,type:"error",message:"High CPU usage detected on server-02",time:"4 hours ago",status:"warning"},{id:3,type:"success",message:"Security patch installed successfully",time:"1 day ago",status:"success"}]),b({database:98.5,server:99.2,network:97.8,storage:95.2,security:92.1})}finally{w(!1)}},d=a=>{switch(a){case"success":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"error":return"text-red-600 bg-red-50";default:return"text-blue-600 bg-blue-50"}},x=a=>{switch(a){case"success":return e.jsx(se,{className:"w-4 h-4"});case"warning":return e.jsx(oe,{className:"w-4 h-4"});case"error":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(As,{className:"w-8 h-8 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ICT & Data Management Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Digital systems, databases, and technology infrastructure"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Devices"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalDevices||450}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Connected devices"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(As,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Active Connections"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.activeConnections||380}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"84% utilization"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(ia,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Server Uptime"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.serverUptime||99.8,"%"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Excellent performance"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(na,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Storage Used"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.storageUsed||78.5,"%"]}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"21.5% available"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(ya,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Network Speed"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.networkSpeed||95.2,"%"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Optimal performance"})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(Ss,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Security Score"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.securityScore||92.1,"%"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"High security"})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(He,{className:"w-6 h-6 text-red-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2 text-blue-600"}),"System Health"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Database"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.database||98.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.database||98.5,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Server"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.server||99.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.server||99.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Network"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.network||97.8}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.network||97.8,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Storage"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.storage||95.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.storage||95.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Security"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.security||92.1}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.security||92.1,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(oe,{className:"w-5 h-5 mr-2 text-yellow-600"}),"System Alerts"]}),e.jsx("div",{className:"space-y-3",children:v.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`p-1 rounded-full ${d(a.status)}`,children:x(a.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.message}),e.jsx("p",{className:"text-xs text-gray-500",children:a.time})]})]},a.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-indigo-50 border border-indigo-200 rounded-lg hover:bg-indigo-100 transition-colors",children:[e.jsx(vt,{className:"w-5 h-5 text-indigo-600"}),e.jsx("span",{className:"text-sm font-medium text-indigo-900",children:"Backup Database"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(He,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Security Scan"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"System Monitor"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(pa,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Performance"})]})]})]})]})},cr=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const a=await fetch("http://localhost:5000/api/hr/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const l=await a.json();l.success&&(i(l.stats),u(l.recentActivities||[]),b(l.attendanceData||{}))}}catch(a){console.error("Error loading HR dashboard:",a),i({totalStaff:85,presentToday:78,onLeave:5,lateArrivals:2,averageAttendance:94.2,pendingApprovals:8}),u([{id:1,type:"attendance",message:"John Doe checked in late",time:"30 minutes ago",status:"warning"},{id:2,type:"leave",message:"Jane Smith leave request approved",time:"2 hours ago",status:"success"},{id:3,type:"payroll",message:"Monthly payroll processed",time:"1 day ago",status:"info"}]),b({present:78,absent:7,late:2,onLeave:5})}finally{w(!1)}},d=a=>{switch(a){case"success":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"error":return"text-red-600 bg-red-50";default:return"text-blue-600 bg-blue-50"}},x=a=>{switch(a){case"success":return e.jsx(se,{className:"w-4 h-4"});case"warning":return e.jsx(oe,{className:"w-4 h-4"});case"error":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-pink-100 rounded-lg",children:e.jsx(Us,{className:"w-8 h-8 text-pink-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Human Resource Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Staff management, payroll, and human resource operations"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Staff"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalStaff||85}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Teachers & non-teaching"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Present Today"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.presentToday||78}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"91.8% attendance"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"On Leave"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.onLeave||5}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Approved leave"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(ne,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Late Arrivals"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.lateArrivals||2}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Requires attention"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Attendance"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.averageAttendance||94.2,"%"]}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+2.1% improvement"]})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Pending Approvals"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.pendingApprovals||8}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Leave requests"})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-red-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ie,{className:"w-5 h-5 mr-2 text-blue-600"}),"Today's Attendance"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Present"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${(o.present||78)/(s.totalStaff||85)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.present||78})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Absent"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${(o.absent||7)/(s.totalStaff||85)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.absent||7})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Late"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${(o.late||2)/(s.totalStaff||85)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.late||2})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"On Leave"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${(o.onLeave||5)/(s.totalStaff||85)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.onLeave||5})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Activities"]}),e.jsx("div",{className:"space-y-3",children:v.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`p-1 rounded-full ${d(a.status)}`,children:x(a.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.message}),e.jsx("p",{className:"text-xs text-gray-500",children:a.time})]})]},a.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-pink-50 border border-pink-200 rounded-lg hover:bg-pink-100 transition-colors",children:[e.jsx(Us,{className:"w-5 h-5 text-pink-600"}),e.jsx("span",{className:"text-sm font-medium text-pink-900",children:"Add Staff"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(ne,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Leave Requests"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(re,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Payroll"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Attendance"})]})]})]})]})},dr=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const a=await fetch("http://localhost:5000/api/laboratory/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const l=await a.json();l.success&&(i(l.stats),u(l.recentActivities||[]),b(l.equipmentStatus||{}))}}catch(a){console.error("Error loading laboratory dashboard:",a),i({totalEquipment:156,functionalEquipment:142,maintenanceRequired:8,safetyIncidents:2,practicalSessions:45,resourceUtilization:78.5}),u([{id:1,type:"maintenance",message:"Microscope maintenance completed",time:"2 hours ago",status:"success"},{id:2,type:"safety",message:"Safety inspection scheduled",time:"4 hours ago",status:"info"},{id:3,type:"usage",message:"Chemistry practical session completed",time:"1 day ago",status:"success"}]),b({functional:142,maintenance:8,damaged:4,new:2})}finally{w(!1)}},d=a=>{switch(a){case"success":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"error":return"text-red-600 bg-red-50";default:return"text-blue-600 bg-blue-50"}},x=a=>{switch(a){case"success":return e.jsx(se,{className:"w-4 h-4"});case"warning":return e.jsx(oe,{className:"w-4 h-4"});case"error":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-cyan-100 rounded-lg",children:e.jsx(tt,{className:"w-8 h-8 text-cyan-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Laboratory & Science Resource Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Science equipment, resources, and practical learning support"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Equipment"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalEquipment||156}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Science equipment"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(tt,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Functional Equipment"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.functionalEquipment||142}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"91% operational"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Maintenance Required"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.maintenanceRequired||8}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Scheduled maintenance"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Safety Incidents"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.safetyIncidents||2}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"This month"})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Practical Sessions"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.practicalSessions||45}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"This week"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(xa,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Resource Utilization"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.resourceUtilization||78.5,"%"]}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+5.2% improvement"]})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(tt,{className:"w-5 h-5 mr-2 text-cyan-600"}),"Equipment Status"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Functional"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${(o.functional||142)/(s.totalEquipment||156)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.functional||142})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Maintenance"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${(o.maintenance||8)/(s.totalEquipment||156)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.maintenance||8})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Damaged"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${(o.damaged||4)/(s.totalEquipment||156)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.damaged||4})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"New"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${(o.new||2)/(s.totalEquipment||156)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.new||2})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Activities"]}),e.jsx("div",{className:"space-y-3",children:v.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`p-1 rounded-full ${d(a.status)}`,children:x(a.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.message}),e.jsx("p",{className:"text-xs text-gray-500",children:a.time})]})]},a.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-cyan-50 border border-cyan-200 rounded-lg hover:bg-cyan-100 transition-colors",children:[e.jsx(tt,{className:"w-5 h-5 text-cyan-600"}),e.jsx("span",{className:"text-sm font-medium text-cyan-900",children:"Equipment Check"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(ne,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Schedule Session"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(re,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Safety Report"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Inventory"})]})]})]})]})},or=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const x=await fetch("http://localhost:5000/api/counseling/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(x.ok){const a=await x.json();a.success&&(i(a.stats),u(a.recentSessions||[]),b(a.behaviorData||{}))}}catch(x){console.error("Error loading counseling dashboard:",x),i({totalStudents:1200,activeCases:45,resolvedCases:28,pendingSessions:12,averageSessions:3.2,improvementRate:78.5}),u([{id:1,student:"John Doe",type:"Academic Support",date:"2024-01-15",status:"completed"},{id:2,student:"Jane Smith",type:"Behavioral",date:"2024-01-14",status:"scheduled"},{id:3,student:"Mike Johnson",type:"Emotional Support",date:"2024-01-13",status:"completed"}]),b({excellent:65.2,good:25.8,needsAttention:7.5,critical:1.5})}finally{w(!1)}},d=x=>{switch(x){case"completed":return"text-green-600 bg-green-50";case"scheduled":return"text-blue-600 bg-blue-50";case"pending":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(js,{className:"w-8 h-8 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Guidance & Counseling Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Student welfare, counseling, and behavioral support"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Students"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalStudents||1200}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Under guidance"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Active Cases"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.activeCases||45}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Requires attention"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Resolved Cases"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.resolvedCases||28}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This month"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Pending Sessions"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.pendingSessions||12}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Scheduled"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Sessions"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.averageSessions||3.2}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Per student"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Fe,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Improvement Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.improvementRate||78.5,"%"]}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+5.2% improvement"]})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-blue-600"}),"Student Behavior Analysis"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Excellent"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.excellent||65.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.excellent||65.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Good"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o.good||25.8}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.good||25.8,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Needs Attention"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.needsAttention||7.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.needsAttention||7.5,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Critical"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${o.critical||1.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.critical||1.5,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2 text-red-600"}),"Recent Sessions"]}),e.jsx("div",{className:"space-y-3",children:v.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(js,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.student}),e.jsx("p",{className:"text-xs text-gray-500",children:x.type})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:x.date}),e.jsx("p",{className:`text-xs ${d(x.status)}`,children:x.status})]})]},x.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors",children:[e.jsx(js,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"text-sm font-medium text-red-900",children:"Schedule Session"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(re,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Case Report"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Behavior Analysis"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(Le,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Progress Tracking"})]})]})]})]})},xr=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const d=await fetch("http://localhost:5000/api/sports/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(d.ok){const x=await d.json();x.success&&(i(x.stats),u(x.upcomingEvents||[]),b(x.teamPerformance||{}))}}catch(d){console.error("Error loading sports dashboard:",d),i({totalStudents:450,activeTeams:12,totalEvents:28,wins:18,participationRate:85.2,injuries:3}),u([{id:1,sport:"Football",event:"Inter-school Match",date:"2024-01-20",time:"14:00",venue:"School Field"},{id:2,sport:"Basketball",event:"District Tournament",date:"2024-01-25",time:"10:00",venue:"District Stadium"},{id:3,sport:"Athletics",event:"Track & Field",date:"2024-01-30",time:"09:00",venue:"School Track"}]),b({football:85.2,basketball:78.9,volleyball:82.1,athletics:88.5,tennis:75.3})}finally{w(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(Le,{className:"w-8 h-8 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Games & Sports Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Sports activities, physical education, and athletic programs"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Students"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalStudents||450}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"In sports programs"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Active Teams"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.activeTeams||12}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Competitive teams"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(xs,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Events"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalEvents||28}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"This season"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(ne,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Wins"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.wins||18}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"64% win rate"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(Se,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Participation Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.participationRate||85.2,"%"]}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+3.2% improvement"]})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Injuries"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.injuries||3}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"This month"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-blue-600"}),"Team Performance"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Football"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.football||85.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.football||85.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Basketball"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o.basketball||78.9}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.basketball||78.9,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Volleyball"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${o.volleyball||82.1}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.volleyball||82.1,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Athletics"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.athletics||88.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.athletics||88.5,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tennis"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${o.tennis||75.3}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.tennis||75.3,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Upcoming Events"]}),e.jsx("div",{className:"space-y-3",children:v.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Le,{className:"w-4 h-4 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.event}),e.jsxs("p",{className:"text-xs text-gray-500",children:[d.sport," • ",d.venue]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:d.date}),e.jsx("p",{className:"text-xs text-gray-500",children:d.time})]})]},d.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg hover:bg-yellow-100 transition-colors",children:[e.jsx(Le,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"Schedule Event"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(xs,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Team Selection"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Performance"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(Ce,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Training"})]})]})]})]})},mr=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const x=await fetch("http://localhost:5000/api/health/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(x.ok){const a=await x.json();a.success&&(i(a.stats),u(a.recentVisits||[]),b(a.healthTrends||{}))}}catch(x){console.error("Error loading health dashboard:",x),i({totalStudents:1200,sickBayVisits:45,activeCases:8,recovered:37,averageRecoveryTime:2.5,healthScore:92.5}),u([{id:1,student:"John Doe",condition:"Fever",date:"2024-01-15",status:"recovered"},{id:2,student:"Jane Smith",condition:"Headache",date:"2024-01-14",status:"active"},{id:3,student:"Mike Johnson",condition:"Cough",date:"2024-01-13",status:"recovered"}]),b({healthy:85.2,mild:10.5,moderate:3.8,severe:.5})}finally{w(!1)}},d=x=>{switch(x){case"recovered":return"text-green-600 bg-green-50";case"active":return"text-yellow-600 bg-yellow-50";case"critical":return"text-red-600 bg-red-50";default:return"text-blue-600 bg-blue-50"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:e.jsx(js,{className:"w-8 h-8 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Health / Sick Bay Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Student health care, medical records, and wellness programs"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Students"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalStudents||1200}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Under health care"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Sick Bay Visits"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.sickBayVisits||45}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"This month"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(ht,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Active Cases"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.activeCases||8}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Requires attention"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Recovered"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.recovered||37}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This month"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Avg Recovery Time"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.averageRecoveryTime||2.5}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Days"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Health Score"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.healthScore||92.5,"%"]}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+2.1% improvement"]})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-blue-600"}),"Health Trends"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Healthy"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.healthy||85.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.healthy||85.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Mild Conditions"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.mild||10.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.mild||10.5,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Moderate"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${o.moderate||3.8}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.moderate||3.8,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Severe"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${o.severe||.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.severe||.5,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Recent Visits"]}),e.jsx("div",{className:"space-y-3",children:v.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:e.jsx(js,{className:"w-4 h-4 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.student}),e.jsx("p",{className:"text-xs text-gray-500",children:x.condition})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:x.date}),e.jsx("p",{className:`text-xs ${d(x.status)}`,children:x.status})]})]},x.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-emerald-50 border border-emerald-200 rounded-lg hover:bg-emerald-100 transition-colors",children:[e.jsx(js,{className:"w-5 h-5 text-emerald-600"}),e.jsx("span",{className:"text-sm font-medium text-emerald-900",children:"Health Check"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(re,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Medical Record"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Health Monitor"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(_a,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Wellness Program"})]})]})]})]})},hr=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const a=await fetch("http://localhost:5000/api/boarding/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const l=await a.json();l.success&&(i(l.stats),u(l.recentActivities||[]),b(l.dormitoryStatus||{}))}}catch(a){console.error("Error loading boarding dashboard:",a),i({totalStudents:450,presentStudents:420,absentStudents:25,lateStudents:5,dormitoryCapacity:500,occupancyRate:90}),u([{id:1,type:"checkin",message:"John Doe checked into dormitory",time:"2 hours ago",status:"success"},{id:2,type:"curfew",message:"Curfew violation - 3 students",time:"4 hours ago",status:"warning"},{id:3,type:"maintenance",message:"Dormitory A maintenance completed",time:"1 day ago",status:"info"}]),b({dormitoryA:95.2,dormitoryB:88.5,dormitoryC:92.1,dormitoryD:85.8})}finally{w(!1)}},d=a=>{switch(a){case"success":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"error":return"text-red-600 bg-red-50";default:return"text-blue-600 bg-blue-50"}},x=a=>{switch(a){case"success":return e.jsx(se,{className:"w-4 h-4"});case"warning":return e.jsx(oe,{className:"w-4 h-4"});case"error":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-teal-100 rounded-lg",children:e.jsx(Gs,{className:"w-8 h-8 text-teal-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Boarding & Dormitory Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Residential facilities, student accommodation, and boarding life"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Students"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalStudents||450}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Boarding students"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Present Students"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.presentStudents||420}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"93.3% present"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Absent Students"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.absentStudents||25}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"5.6% absent"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Late Students"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.lateStudents||5}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Curfew violations"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Dormitory Capacity"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.dormitoryCapacity||500}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Total capacity"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Gs,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Occupancy Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.occupancyRate||90,"%"]}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"Optimal occupancy"]})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-blue-600"}),"Dormitory Occupancy"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dormitory A"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.dormitoryA||95.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.dormitoryA||95.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dormitory B"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o.dormitoryB||88.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.dormitoryB||88.5,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dormitory C"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${o.dormitoryC||92.1}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.dormitoryC||92.1,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dormitory D"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.dormitoryD||85.8}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.dormitoryD||85.8,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Activities"]}),e.jsx("div",{className:"space-y-3",children:v.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`p-1 rounded-full ${d(a.status)}`,children:x(a.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.message}),e.jsx("p",{className:"text-xs text-gray-500",children:a.time})]})]},a.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-teal-50 border border-teal-200 rounded-lg hover:bg-teal-100 transition-colors",children:[e.jsx(Gs,{className:"w-5 h-5 text-teal-600"}),e.jsx("span",{className:"text-sm font-medium text-teal-900",children:"Room Assignment"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(Us,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Check-in/out"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Monitor Activity"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(He,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Discipline Report"})]})]})]})]})},ur=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const a=await fetch("http://localhost:5000/api/catering/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const l=await a.json();l.success&&(i(l.stats),u(l.recentActivities||[]),b(l.mealDistribution||{}))}}catch(a){console.error("Error loading catering dashboard:",a),i({totalStudents:1200,mealsServed:3600,dailyMeals:1200,budgetUsed:78.5,foodWaste:5.2,satisfactionRate:92.8}),u([{id:1,type:"meal",message:"Breakfast served to 400 students",time:"2 hours ago",status:"success"},{id:2,type:"supply",message:"Food supplies delivered",time:"4 hours ago",status:"info"},{id:3,type:"waste",message:"Food waste reduced by 2%",time:"1 day ago",status:"success"}]),b({breakfast:400,lunch:450,dinner:350,snacks:200})}finally{w(!1)}},d=a=>{switch(a){case"success":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"error":return"text-red-600 bg-red-50";default:return"text-blue-600 bg-blue-50"}},x=a=>{switch(a){case"success":return e.jsx(se,{className:"w-4 h-4"});case"warning":return e.jsx(oe,{className:"w-4 h-4"});case"error":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:e.jsx(ot,{className:"w-8 h-8 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Catering & Nutrition Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Food services, nutrition planning, and meal management"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Students"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalStudents||1200}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Meal recipients"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Meals Served"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.mealsServed||3600}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This week"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(ot,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Daily Meals"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.dailyMeals||1200}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Today"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Budget Used"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.budgetUsed||78.5,"%"]}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Monthly budget"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Food Waste"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.foodWaste||5.2,"%"]}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"-2.1% reduction"]})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Satisfaction Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.satisfactionRate||92.8,"%"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Student satisfaction"})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(js,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-blue-600"}),"Daily Meal Distribution"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Breakfast"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${(o.breakfast||400)/(s.totalStudents||1200)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.breakfast||400})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Lunch"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${(o.lunch||450)/(s.totalStudents||1200)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.lunch||450})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dinner"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${(o.dinner||350)/(s.totalStudents||1200)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.dinner||350})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Snacks"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${(o.snacks||200)/(s.totalStudents||1200)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.snacks||200})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Activities"]}),e.jsx("div",{className:"space-y-3",children:v.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`p-1 rounded-full ${d(a.status)}`,children:x(a.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.message}),e.jsx("p",{className:"text-xs text-gray-500",children:a.time})]})]},a.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-amber-50 border border-amber-200 rounded-lg hover:bg-amber-100 transition-colors",children:[e.jsx(ot,{className:"w-5 h-5 text-amber-600"}),e.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Meal Planning"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(dt,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Order Supplies"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Nutrition Report"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(js,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Dietary Plans"})]})]})]})]})},gr=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const a=await fetch("http://localhost:5000/api/security/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const l=await a.json();l.success&&(i(l.stats),u(l.recentIncidents||[]),b(l.securityMetrics||{}))}}catch(a){console.error("Error loading security dashboard:",a),i({totalGuards:12,activePatrols:8,incidentsToday:2,resolvedIncidents:1,accessViolations:3,securityScore:94.5}),u([{id:1,type:"unauthorized",message:"Unauthorized access attempt at Gate A",time:"2 hours ago",status:"resolved"},{id:2,type:"late",message:"Student late entry detected",time:"4 hours ago",status:"investigating"},{id:3,type:"patrol",message:"Night patrol completed successfully",time:"6 hours ago",status:"completed"}]),b({cctv:98.5,accessControl:96.2,patrols:92.8,responseTime:89.3})}finally{w(!1)}},d=a=>{switch(a){case"resolved":return"text-green-600 bg-green-50";case"investigating":return"text-yellow-600 bg-yellow-50";case"critical":return"text-red-600 bg-red-50";default:return"text-blue-600 bg-blue-50"}},x=a=>{switch(a){case"resolved":return e.jsx(se,{className:"w-4 h-4"});case"investigating":return e.jsx(oe,{className:"w-4 h-4"});case"critical":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:e.jsx(He,{className:"w-8 h-8 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Security Department Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Campus security, access control, and safety management"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Guards"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalGuards||12}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Security personnel"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Active Patrols"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.activePatrols||8}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"On duty"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Incidents Today"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.incidentsToday||2}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Requires attention"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Resolved Incidents"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.resolvedIncidents||1}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Today"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Access Violations"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.accessViolations||3}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"This week"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Security Score"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.securityScore||94.5,"%"]}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+2.1% improvement"]})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-blue-600"}),"Security Metrics"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"CCTV Coverage"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.cctv||98.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.cctv||98.5,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Access Control"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o.accessControl||96.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.accessControl||96.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Patrol Coverage"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${o.patrols||92.8}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.patrols||92.8,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Response Time"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.responseTime||89.3}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.responseTime||89.3,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2 text-red-600"}),"Recent Incidents"]}),e.jsx("div",{className:"space-y-3",children:v.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`p-1 rounded-full ${d(a.status)}`,children:x(a.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.message}),e.jsx("p",{className:"text-xs text-gray-500",children:a.time})]})]},a.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(He,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Security Report"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(Ws,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"CCTV Monitor"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(Us,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Access Control"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Patrol Schedule"})]})]})]})]})},pr=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const x=await fetch("http://localhost:5000/api/media/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(x.ok){const a=await x.json();a.success&&(i(a.stats),u(a.recentPosts||[]),b(a.engagementMetrics||{}))}}catch(x){console.error("Error loading media dashboard:",x),i({totalPosts:156,websiteViews:12500,socialFollowers:2800,videoViews:45e3,engagementRate:78.5,contentApproval:12}),u([{id:1,title:"School Sports Day Highlights",type:"Video",date:"2024-01-15",status:"published",views:1250},{id:2,title:"Academic Excellence Awards",type:"Article",date:"2024-01-14",status:"pending",views:0},{id:3,title:"New Science Laboratory Opening",type:"Photo",date:"2024-01-13",status:"published",views:890}]),b({website:85.2,facebook:78.9,instagram:82.1,youtube:88.5,twitter:75.3})}finally{w(!1)}},d=x=>{switch(x){case"published":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"draft":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-violet-100 rounded-lg",children:e.jsx(Ms,{className:"w-8 h-8 text-violet-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Public Relations & Media Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Communication, media management, and public relations"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Posts"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalPosts||156}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"This month"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(re,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Website Views"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.websiteViews||12500}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This month"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(je,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Social Followers"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.socialFollowers||2800}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Across platforms"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Video Views"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.videoViews||45e3}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+15.2% growth"]})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(ke,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Engagement Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.engagementRate||78.5,"%"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"High engagement"})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Content Approval"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.contentApproval||12}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Pending review"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-blue-600"}),"Platform Engagement"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Website"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o.website||85.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.website||85.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Facebook"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.facebook||78.9}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.facebook||78.9,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Instagram"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${o.instagram||82.1}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.instagram||82.1,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"YouTube"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${o.youtube||88.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.youtube||88.5,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Twitter"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-400 h-2 rounded-full",style:{width:`${o.twitter||75.3}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.twitter||75.3,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ne,{className:"w-5 h-5 mr-2 text-violet-600"}),"Recent Posts"]}),e.jsx("div",{className:"space-y-3",children:v.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-violet-100 rounded-lg",children:e.jsx(Ms,{className:"w-4 h-4 text-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[x.type," • ",x.date]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[x.views," views"]}),e.jsx("p",{className:`text-xs ${d(x.status)}`,children:x.status})]})]},x.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-violet-50 border border-violet-200 rounded-lg hover:bg-violet-100 transition-colors",children:[e.jsx(Ms,{className:"w-5 h-5 text-violet-600"}),e.jsx("span",{className:"text-sm font-medium text-violet-900",children:"Create Post"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(ke,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Upload Video"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Analytics"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(Js,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Social Media"})]})]})]})]})},br=({userRole:y,currentUser:A})=>{const[s,i]=t.useState({}),[v,u]=t.useState([]),[o,b]=t.useState({}),[T,w]=t.useState(!1);t.useEffect(()=>{$()},[]);const $=async()=>{w(!0);try{const a=await fetch("http://localhost:5000/api/student-affairs/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(a.ok){const l=await a.json();l.success&&(i(l.stats),u(l.recentActivities||[]),b(l.clubPerformance||{}))}}catch(a){console.error("Error loading student affairs dashboard:",a),i({totalStudents:1200,activeClubs:15,totalEvents:28,leadershipRoles:45,volunteerHours:1250,participationRate:85.2}),u([{id:1,type:"event",message:"Science Club organized lab visit",time:"2 hours ago",status:"completed"},{id:2,type:"leadership",message:"New student council elections",time:"4 hours ago",status:"ongoing"},{id:3,type:"volunteer",message:"Community service project completed",time:"1 day ago",status:"success"}]),b({scienceClub:92.5,dramaClub:88.3,sportsClub:95.1,musicClub:89.7,debateClub:91.2,artClub:87.8})}finally{w(!1)}},d=a=>{switch(a){case"completed":return"text-green-600 bg-green-50";case"ongoing":return"text-blue-600 bg-blue-50";case"success":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}},x=a=>{switch(a){case"completed":return e.jsx(se,{className:"w-4 h-4"});case"ongoing":return e.jsx(Le,{className:"w-4 h-4"});case"success":return e.jsx(se,{className:"w-4 h-4"});case"pending":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-rose-100 rounded-lg",children:e.jsx(Se,{className:"w-8 h-8 text-rose-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Affairs & Clubs Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Student activities, clubs, leadership, and extracurricular programs"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleTimeString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Students"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalStudents||1200}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"In activities"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Active Clubs"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.activeClubs||15}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Student clubs"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Se,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Events"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalEvents||28}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"This month"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(ne,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Leadership Roles"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.leadershipRoles||45}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Student leaders"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(Ie,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Volunteer Hours"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.volunteerHours||1250}),e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"+15.2% increase"]})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Participation Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.participationRate||85.2,"%"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"High engagement"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(Ce,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-blue-600"}),"Club Performance"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Science Club"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o.scienceClub||92.5}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.scienceClub||92.5,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Drama Club"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${o.dramaClub||88.3}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.dramaClub||88.3,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sports Club"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${o.sportsClub||95.1}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.sportsClub||95.1,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Music Club"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.musicClub||89.7}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.musicClub||89.7,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Debate Club"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${o.debateClub||91.2}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.debateClub||91.2,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Art Club"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${o.artClub||87.8}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[o.artClub||87.8,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Activities"]}),e.jsx("div",{className:"space-y-3",children:v.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`p-1 rounded-full ${d(a.status)}`,children:x(a.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.message}),e.jsx("p",{className:"text-xs text-gray-500",children:a.time})]})]},a.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Quick Actions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-rose-50 border border-rose-200 rounded-lg hover:bg-rose-100 transition-colors",children:[e.jsx(Se,{className:"w-5 h-5 text-rose-600"}),e.jsx("span",{className:"text-sm font-medium text-rose-900",children:"Create Club"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(ne,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Schedule Event"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Activity Report"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(Fe,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Student Feedback"})]})]})]})]})},jr=({userRole:y,currentUser:A})=>{const[s,i]=t.useState(null),[v,u]=t.useState([]),[o,b]=t.useState(!1),[T,w]=t.useState({}),[$,d]=t.useState(null),[x,a]=t.useState({}),[l,n]=t.useState({}),[h,S]=t.useState(!1),[N,g]=t.useState(!1),[c,r]=t.useState(!1),[p,k]=t.useState({name:"",description:"",icon:"Building2",color:"bg-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-600",systemAccess:"",status:"active",staffCount:0}),m={Building2:Ys,BarChart3:de,GraduationCap:$s,FileText:re,Monitor:As,UserCheck:Us,FlaskConical:tt,Heart:js,Activity:Le,Home:Gs,Utensils:ot,Shield:He,Globe:Ms,Award:Se};t.useEffect(()=>{C(),_(),z()},[]);const C=async()=>{b(!0);try{const I=localStorage.getItem("token");console.log("Loading departments with token:",I?"Present":"Missing");const F=await fetch("http://localhost:5000/api/departments/",{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});console.log("Response status:",F.status);const G=await F.json();console.log("Departments data:",G),G.success?u(G.data):(console.error("API returned error:",G.message),u(J()))}catch(I){console.error("Error loading departments:",I),u(J())}finally{b(!1)}},J=()=>[],_=async()=>{try{const F=await(await fetch("http://localhost:5000/api/departments/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();F.success&&w(F.data)}catch(I){console.error("Error loading department stats:",I)}},z=async()=>{try{const F=await(await fetch("http://localhost:5000/api/departments/permissions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();F.success&&n(F.data)}catch(I){console.error("Error loading user permissions:",I)}},B=I=>{i(I)},f=I=>{S(!0),i(I)},R=I=>{g(!0),i(I)},D=()=>{i(null),S(!1),g(!1),d(null),r(!1)},L=()=>{r(!0)},j=async()=>{b(!0);try{const F=await(await fetch("http://localhost:5000/api/departments/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(p)})).json();F.success?(alert("Department added successfully!"),r(!1),k({name:"",description:"",icon:"Building2",color:"bg-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-600",systemAccess:"",status:"active",staffCount:0}),C()):alert(F.message||"Failed to add department")}catch(I){console.error("Error adding department:",I),alert("Error adding department")}finally{b(!1)}},O=()=>{r(!1),k({name:"",description:"",icon:"Building2",color:"bg-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-600",systemAccess:"",status:"active",staffCount:0})},M=I=>{const G={"Administration Department":ar,"Finance & Accounts Department":lr,"Academic Departments":rr,"Examinations & Assessment Department":nr,"ICT & Data Management Department":ir,"Human Resource Department":cr,"Laboratory & Science Resource Department":dr,"Guidance & Counseling Department":or,"Games & Sports Department":xr,"Health / Sick Bay Department":mr,"Boarding & Dormitory Department":hr,"Catering & Nutrition Department":ur,"Security Department":gr,"Public Relations & Media Department":pr,"Student Affairs & Clubs Department":br}[I];return G?e.jsx(G,{userRole:y,currentUser:A}):null},P=I=>{d(I.id),a({name:I.name,description:I.description,status:I.status,staffCount:I.staffCount})},Q=async I=>{b(!0);try{const G=await(await fetch(`http://localhost:5000/api/departments/${I}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(x)})).json();G.success?(alert("Department updated successfully!"),d(null),C()):alert(G.message||"Failed to update department")}catch(F){console.error("Error updating department:",F),alert("Error updating department")}finally{b(!1)}},q=()=>{d(null),a({})},te=I=>{switch(I){case"active":return e.jsx(se,{className:"w-4 h-4 text-green-500"});case"maintenance":return e.jsx(ie,{className:"w-4 h-4 text-yellow-500"});case"inactive":return e.jsx(oe,{className:"w-4 h-4 text-red-500"});default:return e.jsx(se,{className:"w-4 h-4 text-green-500"})}},Z=I=>{switch(I){case"active":return"bg-green-100 text-green-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-red-100 text-red-800";default:return"bg-green-100 text-green-800"}};return h&&s?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-3 rounded-lg ${s.bgColor} ${s.borderColor} border`,children:m[s.icon]&&Me.createElement(m[s.icon],{className:`w-8 h-8 ${s.textColor}`})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[s.name," Dashboard"]}),e.jsx("p",{className:"text-gray-600",children:"Real-time monitoring and management"})]})]})]})}),M(s.name)]}):N&&s?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-3 rounded-lg ${s.bgColor} ${s.borderColor} border`,children:m[s.icon]&&Me.createElement(m[s.icon],{className:`w-8 h-8 ${s.textColor}`})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[s.name," Analytics"]}),e.jsx("p",{className:"text-gray-600",children:"Performance insights and data analysis"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(de,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-500",children:"Analytics data will be loaded from the API"})]})})]}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-3 rounded-lg ${s.bgColor} ${s.borderColor} border`,children:m[s.icon]&&Me.createElement(m[s.icon],{className:`w-8 h-8 ${s.textColor}`})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.description})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[te(s.status),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Z(s.status)}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(As,{className:"w-5 h-5 mr-2 text-blue-600"}),"System Access"]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-blue-800 font-medium",children:s.systemAccess})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2 text-gray-600"}),"Core Functions"]}),e.jsx("div",{className:"space-y-3",children:s.coreFunctions.map((I,F)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700",children:I})]},F))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(pe,{className:"w-5 h-5 mr-2 text-purple-600"}),"AI Features"]}),e.jsx("div",{className:"space-y-3",children:s.aiFeatures.map((I,F)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ss,{className:"w-4 h-4 text-purple-500 mt-1 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700",children:I})]},F))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Staff Count"}),e.jsx("span",{className:"font-semibold text-gray-900",children:s.staffCount})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Last Activity"}),e.jsx("span",{className:"font-semibold text-gray-900",children:s.lastActivity})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"AI Features"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[s.aiFeatures.length," Active"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>f(s),className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:"View Dashboard"})]}),s.canEdit&&e.jsxs("button",{onClick:()=>P(s),className:"w-full flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(ms,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit Department"})]}),e.jsxs("button",{onClick:()=>R(s),className:"w-full flex items-center justify-center space-x-2 bg-green-100 text-green-700 py-2 px-4 rounded-lg hover:bg-green-200 transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"View Analytics"})]})]})]})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Departments"}),e.jsx("p",{className:"text-2xl font-bold text-blue-800",children:T.totalDepartments||0})]}),e.jsx(Ys,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Active Departments"}),e.jsx("p",{className:"text-2xl font-bold text-green-800",children:T.activeDepartments||0})]}),e.jsx(se,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Total Staff"}),e.jsx("p",{className:"text-2xl font-bold text-purple-800",children:T.totalStaff||0})]}),e.jsx(me,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"AI Enabled"}),e.jsx("p",{className:"text-2xl font-bold text-orange-800",children:T.aiEnabledDepartments||0})]}),e.jsx(pe,{className:"w-8 h-8 text-orange-600"})]})}),e.jsx("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-indigo-600 font-medium",children:"System Health"}),e.jsxs("p",{className:"text-2xl font-bold text-indigo-800",children:[T.systemHealth||0,"%"]})]}),e.jsx(he,{className:"w-8 h-8 text-indigo-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"School Departments"}),e.jsx("div",{className:"flex items-center space-x-2",children:y==="admin"&&e.jsxs("button",{onClick:L,className:"flex items-center space-x-2 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Department"})]})})]})}),e.jsx("div",{className:"p-6",children:o?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading departments..."})]}):v.length===0?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ys,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Departments Found"}),e.jsx("p",{className:"text-gray-500",children:"Check your connection or contact administrator"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(I=>e.jsxs("div",{onClick:()=>B(I),className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg hover:border-gray-300 transition-all duration-200 cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${I.bgColor} ${I.borderColor} border group-hover:scale-110 transition-transform`,children:m[I.icon]&&Me.createElement(m[I.icon],{className:`w-6 h-6 ${I.textColor}`})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[te(I.status),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z(I.status)}`,children:I.status})]})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:I.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:I.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(me,{className:"w-4 h-4"}),e.jsxs("span",{children:[I.staffCount," staff"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(pe,{className:"w-4 h-4 text-purple-500"}),e.jsxs("span",{children:[I.aiFeatures.length," AI features"]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Last activity: ",I.lastActivity]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[I.canEdit&&e.jsx("button",{onClick:F=>{F.stopPropagation(),P(I)},className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit Department",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex items-center space-x-1 text-blue-600 group-hover:text-blue-700",children:[e.jsx("span",{className:"text-sm font-medium",children:"View Details"}),e.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:F=>{F.stopPropagation(),f(I)},className:"flex-1 flex items-center justify-center space-x-1 bg-blue-50 text-blue-600 py-1.5 px-2 rounded text-xs font-medium hover:bg-blue-100 transition-colors",title:"View Dashboard",children:[e.jsx(je,{className:"w-3 h-3"}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs("button",{onClick:F=>{F.stopPropagation(),R(I)},className:"flex-1 flex items-center justify-center space-x-1 bg-green-50 text-green-600 py-1.5 px-2 rounded text-xs font-medium hover:bg-green-100 transition-colors",title:"View Analytics",children:[e.jsx(de,{className:"w-3 h-3"}),e.jsx("span",{children:"Analytics"})]})]})]})]},I.id))})})]}),$&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Department"}),e.jsx("button",{onClick:q,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name"}),e.jsx("input",{type:"text",value:x.name||"",onChange:I=>a({...x,name:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:x.description||"",onChange:I=>a({...x,description:I.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:x.status||"active",onChange:I=>a({...x,status:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Count"}),e.jsx("input",{type:"number",value:x.staffCount||0,onChange:I=>a({...x,staffCount:parseInt(I.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:q,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:()=>Q($),disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center space-x-2",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:o?"Saving...":"Save Changes"})]})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add New Department"}),e.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Qe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name"}),e.jsx("input",{type:"text",value:p.name,onChange:I=>k({...p,name:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter department name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:p.description,onChange:I=>k({...p,description:I.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter department description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"System Access"}),e.jsx("input",{type:"text",value:p.systemAccess,onChange:I=>k({...p,systemAccess:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter system access description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:p.status,onChange:I=>k({...p,status:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Count"}),e.jsx("input",{type:"number",value:p.staffCount,onChange:I=>k({...p,staffCount:parseInt(I.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter staff count"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:O,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:j,disabled:o||!p.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center space-x-2",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:o?"Adding...":"Add Department"})]})]})]})})]})},yr=({userRole:y,currentUser:A,darkMode:s,setActiveTab:i})=>{const[v,u]=t.useState([]),[o,b]=t.useState(null),[T,w]=t.useState(!0),[$,d]=t.useState("overview"),[x,a]=t.useState(!1),[l,n]=t.useState([]);t.useEffect(()=>{const r=[{id:1,name:"John Doe",grade:"S.4",class:"S.4A",studentId:"ST001",photo:null,dateOfBirth:"2008-05-15",age:15,gender:"Male",bloodType:"O+",attendance:95,averageGrade:85,lastActivity:"2024-01-15",subjects:[{name:"Mathematics",grade:88,teacher:"Mr. Johnson",room:"Room 101"},{name:"Physics",grade:82,teacher:"Dr. Brown",room:"Lab 1"},{name:"Chemistry",grade:90,teacher:"Ms. Wilson",room:"Lab 2"},{name:"Biology",grade:85,teacher:"Dr. Smith",room:"Lab 3"},{name:"English",grade:87,teacher:"Ms. Davis",room:"Room 102"}],upcomingExams:[{subject:"Mathematics",date:"2024-01-20",time:"09:00",duration:"2 hours",room:"Room 101"},{subject:"Physics",date:"2024-01-22",time:"09:00",duration:"2 hours",room:"Lab 1"}],recentGrades:[{subject:"Mathematics",grade:88,date:"2024-01-10",type:"Test",maxGrade:100},{subject:"Physics",grade:82,date:"2024-01-08",type:"Assignment",maxGrade:100},{subject:"Chemistry",grade:90,date:"2024-01-05",type:"Quiz",maxGrade:100}],emergencyContact:"+256 700 123 456",medicalInfo:"No known allergies",transportRoute:"Route A - Kampala Central",feeStatus:"Paid",feeBalance:0,behaviorScore:92,extracurricularActivities:[{name:"Football",coach:"Coach Wilson",schedule:"Mon, Wed, Fri 4:00 PM"},{name:"Debate Club",teacher:"Ms. Davis",schedule:"Tue, Thu 3:30 PM"}],achievements:[{title:"Best in Mathematics",date:"2024-01-10",type:"Academic"},{title:"Football Team Captain",date:"2024-01-05",type:"Sports"}],attendanceHistory:[{date:"2024-01-15",status:"Present",time:"08:00"},{date:"2024-01-14",status:"Present",time:"08:05"},{date:"2024-01-13",status:"Late",time:"08:15"},{date:"2024-01-12",status:"Present",time:"07:55"},{date:"2024-01-11",status:"Absent",time:null}],performanceTrend:[{month:"Sep",grade:78},{month:"Oct",grade:82},{month:"Nov",grade:85},{month:"Dec",grade:87},{month:"Jan",grade:85}],goals:[{title:"Improve Physics Grade",target:90,current:82,deadline:"2024-02-15"},{title:"Maintain Attendance Above 95%",target:95,current:95,deadline:"2024-03-31"}]},{id:2,name:"Jane Doe",grade:"S.2",class:"S.2B",studentId:"ST002",photo:null,dateOfBirth:"2010-03-22",age:13,gender:"Female",bloodType:"A+",attendance:98,averageGrade:92,lastActivity:"2024-01-14",subjects:[{name:"Mathematics",grade:95,teacher:"Mr. Johnson",room:"Room 101"},{name:"Biology",grade:88,teacher:"Dr. Smith",room:"Lab 3"},{name:"English",grade:94,teacher:"Ms. Davis",room:"Room 102"},{name:"History",grade:89,teacher:"Mr. Taylor",room:"Room 103"},{name:"Geography",grade:91,teacher:"Ms. Anderson",room:"Room 104"},{name:"Physics",grade:87,teacher:"Dr. Brown",room:"Lab 1"}],upcomingExams:[{subject:"Biology",date:"2024-01-25",time:"09:00",duration:"2 hours",room:"Lab 3"},{subject:"English",date:"2024-01-28",time:"09:00",duration:"2 hours",room:"Room 102"}],recentGrades:[{subject:"Mathematics",grade:95,date:"2024-01-12",type:"Test",maxGrade:100},{subject:"Biology",grade:88,date:"2024-01-09",type:"Assignment",maxGrade:100},{subject:"English",grade:94,date:"2024-01-07",type:"Quiz",maxGrade:100}],emergencyContact:"+256 700 123 456",medicalInfo:"Asthma - inhaler required",transportRoute:"Route B - Entebbe Road",feeStatus:"Partial",feeBalance:15e4,behaviorScore:96,extracurricularActivities:[{name:"Music Club",teacher:"Ms. Johnson",schedule:"Mon, Wed 4:30 PM"},{name:"Art Club",teacher:"Mr. Brown",schedule:"Fri 3:00 PM"}],achievements:[{title:"Top Performer in Mathematics",date:"2024-01-12",type:"Academic"},{title:"Art Competition Winner",date:"2024-01-08",type:"Creative"}],attendanceHistory:[{date:"2024-01-14",status:"Present",time:"07:55"},{date:"2024-01-13",status:"Present",time:"08:00"},{date:"2024-01-12",status:"Present",time:"07:50"},{date:"2024-01-11",status:"Present",time:"08:02"},{date:"2024-01-10",status:"Present",time:"07:58"}],performanceTrend:[{month:"Sep",grade:88},{month:"Oct",grade:90},{month:"Nov",grade:91},{month:"Dec",grade:93},{month:"Jan",grade:92}],goals:[{title:"Achieve 95% Average",target:95,current:92,deadline:"2024-02-28"},{title:"Join School Orchestra",target:100,current:75,deadline:"2024-03-15"}]}];u(r),b(r[0]),w(!1),n([{id:1,type:"exam",message:"John has Mathematics exam tomorrow at 9:00 AM",time:"2 hours ago",unread:!0},{id:2,type:"grade",message:"Jane received 95% in Mathematics test",time:"1 day ago",unread:!0},{id:3,type:"attendance",message:"John was late to school today",time:"2 days ago",unread:!1},{id:4,type:"fee",message:"Jane has outstanding fees of UGX 150,000",time:"3 days ago",unread:!1}])},[]);const h=r=>r>=90?"text-green-600 bg-green-100":r>=80?"text-blue-600 bg-blue-100":r>=70?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",S=r=>r>=95?"text-green-600 bg-green-100":r>=90?"text-blue-600 bg-blue-100":r>=80?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",N=r=>{switch(r){case"Paid":return"text-green-600 bg-green-100";case"Partial":return"text-yellow-600 bg-yellow-100";case"Overdue":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},g=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:`rounded-lg shadow-sm p-4 ${s?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Total Children"}),e.jsx("p",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:v.length})]})]})}),e.jsx("div",{className:`rounded-lg shadow-sm p-4 ${s?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(he,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Avg Performance"}),e.jsxs("p",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:[Math.round(v.reduce((r,p)=>r+p.averageGrade,0)/v.length),"%"]})]})]})}),e.jsx("div",{className:`rounded-lg shadow-sm p-4 ${s?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(ie,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Avg Attendance"}),e.jsxs("p",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:[Math.round(v.reduce((r,p)=>r+p.attendance,0)/v.length),"%"]})]})]})}),e.jsx("div",{className:`rounded-lg shadow-sm p-4 ${s?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Ye,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Notifications"}),e.jsx("p",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:l.filter(r=>r.unread).length})]})]})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Children Performance Overview"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:v.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s?"bg-gray-600":"bg-gray-200"}`,children:e.jsx(es,{className:`w-6 h-6 ${s?"text-gray-300":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:r.name}),e.jsxs("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:[r.grade," • ",r.class]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Grade"}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${h(r.averageGrade)}`,children:[r.averageGrade,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Attendance"}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${S(r.attendance)}`,children:[r.attendance,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Fees"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${N(r.feeStatus)}`,children:r.feeStatus})]})]})]},r.id))})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Recent Notifications"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All"})]})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:l.slice(0,3).map(r=>e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${r.unread?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-gray-700"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${r.unread?"bg-blue-600":"bg-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm ${s?"text-white":"text-gray-900"}`,children:r.message}),e.jsx("p",{className:`text-xs ${s?"text-gray-400":"text-gray-500"}`,children:r.time})]})]},r.id))})})]})]}),c=()=>o?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center ${s?"bg-gray-600":"bg-gray-200"}`,children:e.jsx(es,{className:`w-10 h-10 ${s?"text-gray-300":"text-gray-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:o.name}),e.jsxs("p",{className:`text-lg ${s?"text-gray-300":"text-gray-600"}`,children:[o.grade," • ",o.class," • ID: ",o.studentId]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:`w-4 h-4 ${s?"text-gray-400":"text-gray-500"}`}),e.jsxs("span",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:["Last Activity: ",new Date(o.lastActivity).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(js,{className:`w-4 h-4 ${s?"text-gray-400":"text-gray-500"}`}),e.jsxs("span",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:["Age: ",o.age," years"]})]})]})]}),e.jsxs("div",{className:"text-right space-y-2",children:[e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${S(o.attendance)}`,children:[o.attendance,"% Attendance"]}),e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${h(o.averageGrade)}`,children:[o.averageGrade,"% Average"]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${N(o.feeStatus)}`,children:o.feeStatus})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:`rounded-lg shadow-sm p-4 ${s?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(be,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Subjects"}),e.jsx("p",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:o.subjects.length})]})]})}),e.jsx("div",{className:`rounded-lg shadow-sm p-4 ${s?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ne,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Upcoming Exams"}),e.jsx("p",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:o.upcomingExams.length})]})]})}),e.jsx("div",{className:`rounded-lg shadow-sm p-4 ${s?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Se,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Achievements"}),e.jsx("p",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:o.achievements.length})]})]})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Subject Performance"})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.subjects.map((r,p)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-blue-100",children:e.jsx(be,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:r.name}),e.jsxs("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:[r.teacher," • ",r.room]})]})]}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${h(r.grade)}`,children:[r.grade,"%"]})]},p))})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Recent Grades"})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:o.recentGrades.map((r,p)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:r.subject}),e.jsxs("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:[new Date(r.date).toLocaleDateString()," • ",r.type]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${h(r.grade)}`,children:[r.grade,"%"]}),e.jsxs("p",{className:`text-xs ${s?"text-gray-400":"text-gray-500"}`,children:["out of ",r.maxGrade]})]})]},p))})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Upcoming Exams"})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:o.upcomingExams.map((r,p)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:r.subject}),e.jsxs("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:[new Date(r.date).toLocaleDateString()," at ",r.time," • ",r.duration]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Room: ",r.room]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:`w-4 h-4 ${s?"text-gray-400":"text-gray-500"}`}),e.jsxs("span",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:[Math.ceil((new Date(r.date)-new Date)/(1e3*60*60*24))," days"]})]})]},p))})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Extracurricular Activities"})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.extracurricularActivities.map((r,p)=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Le,{className:"w-4 h-4 text-blue-600"})}),e.jsx("h4",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:r.name})]}),e.jsxs("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:["Coach/Teacher: ",r.coach||r.teacher]}),e.jsxs("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:["Schedule: ",r.schedule]})]},p))})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Recent Achievements"})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:o.achievements.map((r,p)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Se,{className:"w-4 h-4 text-yellow-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:r.title}),e.jsxs("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:[r.type," • ",new Date(r.date).toLocaleDateString()]})]})]},p))})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Recent Attendance"})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-2",children:o.attendanceHistory.slice(0,5).map((r,p)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${r.status==="Present"?"bg-green-500":r.status==="Late"?"bg-yellow-500":"bg-red-500"}`}),e.jsx("span",{className:`text-sm ${s?"text-white":"text-gray-900"}`,children:new Date(r.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-sm font-medium ${r.status==="Present"?"text-green-600":r.status==="Late"?"text-yellow-600":"text-red-600"}`,children:r.status}),r.time&&e.jsx("span",{className:`text-xs ${s?"text-gray-400":"text-gray-500"}`,children:r.time})]})]},p))})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Goals & Targets"})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-4",children:o.goals.map((r,p)=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:r.title}),e.jsxs("span",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:["Due: ",new Date(r.deadline).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r.current/r.target*100}%`}})}),e.jsxs("span",{className:`text-sm font-medium ${s?"text-white":"text-gray-900"}`,children:[r.current,"/",r.target]})]})]},p))})})]}),e.jsxs("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Contact & Emergency Information"})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(We,{className:`w-5 h-5 ${s?"text-gray-400":"text-gray-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Emergency Contact"}),e.jsx("p",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:o.emergencyContact})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(as,{className:`w-5 h-5 ${s?"text-gray-400":"text-gray-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Transport Route"}),e.jsx("p",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:o.transportRoute})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ts,{className:`w-5 h-5 ${s?"text-gray-400":"text-gray-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Medical Information"}),e.jsx("p",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:o.medicalInfo})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(js,{className:`w-5 h-5 ${s?"text-gray-400":"text-gray-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Blood Type"}),e.jsx("p",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:o.bloodType})]})]})]})]})})]})]}):e.jsxs("div",{className:`rounded-lg shadow-sm p-6 ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("h2",{className:`text-xl font-bold ${s?"text-white":"text-gray-900"}`,children:"No Child Selected"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"Click on a child from the sidebar to view their details."})]});return T?e.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"} flex items-center justify-center`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"Loading children information..."})]})}):e.jsx("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"} p-4`,children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:`rounded-lg shadow-sm p-6 mb-6 ${s?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Children's Overview"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"Manage and monitor your children's academic progress"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(me,{className:`w-6 h-6 ${s?"text-blue-400":"text-blue-600"}`}),e.jsxs("span",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:[v.length," Child",v.length!==1?"ren":""]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Child"})]}),e.jsxs("button",{className:"relative p-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[e.jsx(Ye,{className:"w-5 h-5"}),l.filter(r=>r.unread).length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:l.filter(r=>r.unread).length})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:`rounded-lg shadow-sm ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Your Children"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>d("overview"),className:`p-1 rounded ${$==="overview"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,title:"Overview",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>d("details"),className:`p-1 rounded ${$==="details"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,title:"Details",children:e.jsx(je,{className:"w-4 h-4"})})]})]})}),e.jsx("div",{className:"p-4 space-y-3",children:v.map(r=>e.jsx("div",{onClick:()=>{b(r),d("details")},className:`p-4 rounded-lg cursor-pointer transition-colors ${(o==null?void 0:o.id)===r.id?s?"bg-blue-900 border-blue-700":"bg-blue-50 border-blue-200":s?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} border`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s?"bg-gray-600":"bg-gray-200"}`,children:e.jsx(es,{className:`w-6 h-6 ${s?"text-gray-300":"text-gray-600"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`font-medium truncate ${s?"text-white":"text-gray-900"}`,children:r.name}),e.jsxs("p",{className:`text-sm truncate ${s?"text-gray-400":"text-gray-600"}`,children:[r.grade," • ",r.class]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(r.attendance)}`,children:[r.attendance,"%"]}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h(r.averageGrade)}`,children:[r.averageGrade,"%"]})]})]})]})},r.id))})]})}),e.jsx("div",{className:"lg:col-span-3",children:$==="overview"?g():c()})]})]})})},Lr=()=>{const[y,A]=Me.useState(null),[s,i]=Me.useState({email:"",password:"",showPassword:!1}),[v,u]=Me.useState("dashboard"),[o,b]=Me.useState([]),[T,w]=Me.useState([]),[$,d]=Me.useState(new Date),[x,a]=Me.useState(null),[l,n]=Me.useState(!1),[h,S]=Me.useState("medium"),[N,g]=Me.useState(!1),[c,r]=Me.useState(!1),[p,k]=Me.useState(!1),[m,C]=Me.useState(!1),[J,_]=Me.useState(!1),[z,B]=Me.useState(null),f={"2024-09-25":[{title:"Parent-Teacher Meeting",time:"2:00 PM",type:"meeting",color:"green"}],"2024-09-26":[{title:"Science Fair Preparation",time:"9:00 AM",type:"academic",color:"blue"}],"2024-09-27":[{title:"Sports Practice",time:"4:00 PM",type:"sports",color:"orange"}],"2024-09-28":[{title:"UNEB Mock Exams Begin",time:"8:00 AM",type:"exam",color:"red"},{title:"Drama Club Rehearsal",time:"3:00 PM",type:"cultural",color:"purple"}],"2024-09-30":[{title:"Monthly Assembly",time:"8:30 AM",type:"event",color:"indigo"}],"2024-10-01":[{title:"Term 3 Opening Assembly",time:"8:30 AM",type:"event",color:"indigo"}],"2024-10-03":[{title:"Computer Lab Training",time:"11:00 AM",type:"academic",color:"blue"}],"2024-10-05":[{title:"School Open Day",time:"10:00 AM",type:"event",color:"indigo"}],"2024-10-08":[{title:"Cultural Day Rehearsal",time:"10:00 AM",type:"cultural",color:"purple"}],"2024-10-10":[{title:"Mid-term Exams Start",time:"8:00 AM",type:"exam",color:"red"}],"2024-10-15":[{title:"Fee Payment Deadline",time:"All Day",type:"financial",color:"yellow"}],"2024-10-20":[{title:"Inter-house Sports",time:"8:00 AM",type:"sports",color:"orange"}]};Me.useEffect(()=>{const Z=localStorage.getItem("currentUser");if(Z)try{const I=JSON.parse(Z);A(I)}catch(I){console.error("Error loading saved user:",I),localStorage.removeItem("currentUser")}},[]),Me.useEffect(()=>{y&&(w([]),b([]))},[y]),Me.useEffect(()=>{const Z=document.documentElement;switch(h){case"small":Z.style.fontSize="14px";break;case"medium":Z.style.fontSize="16px";break;case"large":Z.style.fontSize="18px";break;default:Z.style.fontSize="16px"}},[h]),Me.useEffect(()=>{const Z=I=>{N&&!I.target.closest(".notification-dropdown")&&g(!1)};return document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[N]);const R=async Z=>{Z.preventDefault();const{email:I,password:F}=s;try{const le=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:I,password:F})}),H=await le.json();if(!le.ok||!H.success)throw new Error(H.msg||"Invalid email or password");if(!H.user.role||H.user.role===""||H.user.role===null)throw new Error("Your account does not have a role assigned. Please contact the administrator.");const xe={id:H.user.id,email:H.user.email,name:H.user.name,role:H.user.role};A(xe),i({email:"",password:"",showPassword:!1}),u("dashboard"),localStorage.setItem("currentUser",JSON.stringify(xe)),localStorage.setItem("token",H.token)}catch(G){console.error("Backend login failed, trying localStorage fallback:",G);try{const H=JSON.parse(localStorage.getItem("registeredUsers")||"[]").find(Y=>Y.email===I&&Y.password===F);if(!H)throw new Error("Invalid email or password");const xe={id:H.id,email:H.email,name:H.name,role:H.role};A(xe),i({email:"",password:"",showPassword:!1}),u("dashboard"),localStorage.setItem("currentUser",JSON.stringify(xe)),localStorage.setItem("token",`local_${H.id}`)}catch(le){console.error("LocalStorage login error:",le),alert(le.message||"Login failed. Please check your credentials.")}}},D=()=>{A(null),u("dashboard"),b([]),w([]),g(!1),localStorage.removeItem("currentUser"),localStorage.removeItem("token")},L=Z=>{b(I=>I.map(F=>F.id===Z?{...F,read:!0}:F))},j=Z=>new Date(Z.getFullYear(),Z.getMonth()+1,0).getDate(),O=Z=>new Date(Z.getFullYear(),Z.getMonth(),1).getDay(),M=Z=>Z.toISOString().split("T")[0],P=Z=>{d(I=>{const F=new Date(I);return F.setMonth(I.getMonth()+Z),F})},Q=()=>{const Z=j($),I=O($),F=[],G=["January","February","March","April","May","June","July","August","September","October","November","December"],le=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let H=0;H<I;H++)F.push(e.jsx("div",{className:"h-10"},`empty-${H}`));for(let H=1;H<=Z;H++){const xe=new Date($.getFullYear(),$.getMonth(),H),Y=M(xe),V=f[Y],E=new Date().toDateString()===xe.toDateString(),K=x&&x.toDateString()===xe.toDateString();F.push(e.jsxs("div",{onClick:()=>a(xe),className:`h-10 flex items-center justify-center text-sm cursor-pointer rounded-lg relative transition-colors ${E?"bg-blue-100 text-blue-800 font-semibold":K?"bg-blue-500 text-white":V?"bg-green-50 text-green-800 hover:bg-green-100":"hover:bg-gray-100"}`,children:[H,V&&e.jsx("div",{className:"absolute bottom-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]},H))}return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:[G[$.getMonth()]," ",$.getFullYear()]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>P(-1),className:"p-1 rounded hover:bg-gray-100",children:e.jsx(Tt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>P(1),className:"p-1 rounded hover:bg-gray-100",children:e.jsx(rt,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:le.map(H=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs font-medium text-gray-500",children:H},H))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:F}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-1"}),e.jsx("span",{children:"Events"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1"}),e.jsx("span",{children:"Today"})]})]})}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:x?`Events on ${x.toLocaleDateString()}`:"Upcoming Events"}),e.jsx("button",{onClick:()=>u("events"),className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:(()=>{if(x&&f[M(x)])return f[M(x)].map((H,xe)=>e.jsxs("div",{className:"flex items-center p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>u("events"),children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-3 bg-${H.color}-500`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:H.title}),e.jsx("p",{className:"text-xs text-gray-600",children:H.time})]})]},xe));{const H=new Date,xe=[];return Object.entries(f).forEach(([Y,V])=>{const E=new Date(Y);E>=H&&V.forEach(K=>{xe.push({...K,date:E,dateKey:Y})})}),xe.sort((Y,V)=>Y.date-V.date),xe.slice(0,8).map((Y,V)=>e.jsxs("div",{className:"flex items-center p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>u("events"),children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-3 bg-${Y.color}-500`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:Y.title}),e.jsxs("p",{className:"text-xs text-gray-600",children:[Y.date.toLocaleDateString()," at ",Y.time]})]})]},V))}})()})]})]})},q=Z=>{const I=[{id:"dashboard",label:"Dashboard",icon:Gs,section:"main"},{id:"profile",label:"My Profile",icon:es,section:"main"},{id:"messaging",label:"Messages",icon:Fe,section:"communication"},{id:"settings",label:"Settings",icon:Xe,section:"system"},{id:"help-support",label:"Help & Support",icon:We,section:"system"}],F={admin:[{id:"users",label:"User Management",icon:me,section:"management"},{id:"departments",label:"Department Management",icon:Ys,section:"management"},{id:"classes",label:"Class Management",icon:be,section:"academic"},{id:"subjects",label:"Library",icon:re,section:"academic"},{id:"curriculum",label:"Curriculum Setup",icon:$s,section:"academic"},{id:"assignments",label:"Assignment Overview",icon:re,section:"academic"},{id:"attendance",label:"Attendance System",icon:ie,section:"tracking"},{id:"biometric-setup",label:"Biometric Setup",icon:je,section:"tracking"},{id:"student-biometric",label:"Student Biometric",icon:Ps,section:"tracking"},{id:"holiday-planner",label:"Holiday Planner",icon:ne,section:"management"},{id:"biometric-payroll",label:"Biometric Payroll",icon:ze,section:"financial"},{id:"payments",label:"Payment Management",icon:vs,section:"financial"},{id:"fee-structure",label:"Fee Structure",icon:ze,section:"financial"},{id:"term-management",label:"Term Management",icon:ne,section:"financial"},{id:"invoices",label:"Invoices",icon:re,section:"financial"},{id:"expenses",label:"Expenses",icon:Ds,section:"financial"},{id:"ai-analytics",label:"AI Analytics",icon:de,section:"analytics"},{id:"reports",label:"Reports",icon:re,section:"analytics"},{id:"events",label:"School Events",icon:ne,section:"analytics"},{id:"complaints",label:"Complaints Management",icon:Fe,section:"system"},{id:"hostels",label:"Hostel Management",icon:Gs,section:"management"},{id:"transport",label:"Transport Management",icon:Vs,section:"management"},{id:"medical",label:"Medical Management",icon:ht,section:"management"},{id:"awards",label:"Awards & Recognition",icon:Se,section:"academic"},{id:"ai-automation",label:"AI Automation Hub",icon:xt,section:"system"},{id:"proctoring",label:"Exam Proctoring",icon:ke,section:"academic"},{id:"revenue-dashboard",label:"Revenue Dashboard",icon:ze,section:"financial"}],teacher:[{id:"online-class",label:"Online Classes",icon:ke,section:"teaching"},{id:"lesson-planning",label:"Lesson Planning",icon:be,section:"teaching"},{id:"unit-plan-generator",label:"AI Unit Plan Generator",icon:pe,section:"teaching"},{id:"ai-teaching-tools",label:"AI Teaching Tools",icon:Ce,section:"teaching"},{id:"curriculum-alignment",label:"UNEB Alignment",icon:$s,section:"teaching"},{id:"teaching-resources",label:"AI Teaching Resources",icon:pe,section:"teaching"},{id:"classes",label:"My Classes",icon:me,section:"classes"},{id:"student-roster",label:"Student Roster",icon:me,section:"classes"},{id:"assignments",label:"AI Assignment Management",icon:pe,section:"assessment"},{id:"grading",label:"Grading & Marking",icon:Se,section:"assessment"},{id:"exam-setting",label:"Exam Setting",icon:be,section:"assessment"},{id:"plagiarism-check",label:"AI Plagiarism Detection",icon:pe,section:"assessment"},{id:"proctoring",label:"AI Exam Proctoring",icon:pe,section:"assessment"},{id:"attendance",label:"Attendance Tracking",icon:ie,section:"tracking"},{id:"student-progress",label:"Student Progress",icon:he,section:"tracking"},{id:"ai-analytics",label:"Student Analytics",icon:de,section:"tracking"},{id:"events",label:"School Events",icon:ne,section:"communication"},{id:"reports",label:"AI Generate Reports",icon:pe,section:"admin"},{id:"library",label:"Digital Library",icon:be,section:"resources"},{id:"holiday-planner",label:"AI Holiday Planner",icon:pe,section:"holiday"}],student:[{id:"online-class",label:"Online Classes",icon:ke,section:"academic"},{id:"subjects",label:"My Subjects",icon:be,section:"academic"},{id:"exam-schedule",label:"Exam Schedule & Assignments",icon:ne,section:"academic"},{id:"ai-analytics",label:"My Performance",icon:he,section:"progress"},{id:"leaderboard",label:"Leaderboard",icon:xs,section:"progress"},{id:"uneb-readiness",label:"UNEB Readiness",icon:$s,section:"progress"},{id:"progress-reports",label:"Progress Reports",icon:de,section:"progress"},{id:"attendance",label:"My Attendance",icon:ie,section:"schedule"},{id:"timetable",label:"📅 CLASS TIMETABLE",icon:ne,section:"schedule"},{id:"study-timetable",label:"AI Study Timetable",icon:be,section:"schedule"},{id:"activities",label:"Co-curricular Activities",icon:ne,section:"schedule"},{id:"events",label:"School Events",icon:ne,section:"schedule"},{id:"library",label:"Digital Library",icon:be,section:"resources"},{id:"holiday-tests",label:"Holiday Tests",icon:re,section:"academic"},{id:"subject-selection-ai",label:"AI Subject Selection",icon:pe,section:"progress"}],parent:[{id:"children",label:"Children's Overview",icon:me,section:"children"},{id:"child-grades",label:"Grades & Reports",icon:Se,section:"children"},{id:"parent-meetings",label:"Parent-Teacher Meetings",icon:ne,section:"communication"},{id:"emergency-contacts",label:"Emergency Contacts",icon:We,section:"communication"},{id:"payments",label:"Fee Payments",icon:vs,section:"financial"},{id:"fee-statements",label:"Fee Statements",icon:re,section:"financial"},{id:"ai-analytics",label:"Child Analytics",icon:de,section:"analytics"},{id:"teacher-ratings",label:"Teacher Ratings",icon:Ie,section:"analytics"},{id:"leaderboard",label:"Class Leaderboard",icon:xs,section:"analytics"},{id:"performance-trends",label:"Performance Trends",icon:he,section:"analytics"},{id:"attendance-patterns",label:"Attendance Patterns",icon:ie,section:"analytics"},{id:"events",label:"School Events",icon:ne,section:"involvement"},{id:"volunteer",label:"Volunteer Opportunities",icon:me,section:"involvement"},{id:"feedback",label:"School Feedback",icon:Fe,section:"involvement"}]};return[...I,...F[Z]]};if(!y)return e.jsx(La,{loginForm:s,setLoginForm:i,handleLogin:R});const te=q(y.role);return e.jsxs("div",{className:`flex h-screen transition-colors duration-300 ${l?"dark bg-gray-900":"bg-gray-100"}`,children:[e.jsxs("div",{className:`w-64 shadow-lg flex flex-col transition-colors duration-300 ${l?"bg-gray-800":"bg-white"}`,children:[e.jsx("div",{className:"p-6 border-b flex-shrink-0",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-blue-100 rounded-full p-2 mr-3",children:e.jsx($s,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-lg",children:"Smart School"}),e.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[y.role," Panel"]})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("nav",{className:"mt-6 pb-6",children:(()=>{const Z={};return te.forEach(F=>{Z[F.section]||(Z[F.section]=[]),Z[F.section].push(F)}),Object.entries({main:"Main",management:"Management",academic:"Academic",teaching:"Teaching & Planning",classes:"Class Management",assessment:"Assessment",tracking:"Tracking & Monitoring",children:"Children Management",progress:"Performance & Progress",schedule:"Schedule & Activities",financial:"Financial Management",resources:"Resources",communication:"Communication",analytics:"Analytics & Reports",involvement:"School Involvement",admin:"Administrative",holiday:"Holiday Management",system:"System Management"}).map(([F,G])=>{const le=Z[F];return!le||le.length===0?null:e.jsxs("div",{className:"mb-6",children:[F!=="main"&&e.jsx("div",{className:"px-6 mb-2",children:e.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:G})}),e.jsx("div",{className:"space-y-1",children:le.map(H=>e.jsxs("button",{onClick:()=>u(H.id),className:`w-full flex items-center px-6 py-2.5 text-left hover:bg-blue-50 transition-colors text-sm ${v===H.id?"bg-blue-50 border-r-2 border-blue-500 text-blue-600 font-medium":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(H.icon,{className:"w-4 h-4 mr-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:H.label})]},H.id))})]},F)})})()})}),e.jsx("div",{className:"flex-shrink-0 p-6 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:y.name}),e.jsx("p",{className:"text-xs text-gray-500",children:y.email})]}),e.jsx("button",{onClick:D,className:"text-gray-400 hover:text-gray-600",children:e.jsx($a,{className:"w-5 h-5"})})]})})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[!["rfid-management","profile"].includes(v)&&e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${l?"text-white":"text-gray-800"}`,children:v==="ai-analytics"&&y.role==="student"?"My Performance":v.charAt(0).toUpperCase()+v.slice(1).replace("-"," ")}),e.jsxs("p",{className:`${l?"text-gray-300":"text-gray-600"}`,children:["Welcome back, ",y.name]})]}),e.jsxs("div",{className:`flex items-center space-x-4 ${["rfid-management","profile"].includes(v)?"ml-auto":""}`,children:[e.jsx("button",{onClick:()=>n(!l),className:`p-2 rounded-lg transition-all duration-300 ${l?"bg-gray-700 text-yellow-400 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:l?"Switch to Light Mode":"Switch to Dark Mode",children:l?e.jsx(pt,{className:"w-5 h-5"}):e.jsx(ut,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative notification-dropdown",children:[e.jsxs("button",{onClick:()=>g(!N),className:`relative p-2 rounded-lg transition-all duration-300 ${l?"hover:bg-gray-700 text-gray-300 hover:text-white":"hover:bg-gray-100 text-gray-600 hover:text-gray-800"} ${N?l?"bg-gray-700":"bg-gray-100":""}`,title:"View Notifications",children:[e.jsx(Ye,{className:"w-6 h-6"}),o.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:o.length})]}),N&&e.jsxs("div",{className:`absolute right-0 top-12 w-80 rounded-lg shadow-xl border z-50 ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`p-4 border-b ${l?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`font-semibold ${l?"text-white":"text-gray-900"}`,children:"Notifications"}),e.jsx("button",{onClick:()=>{u("notifications"),g(!1)},className:`text-sm px-3 py-1 rounded-lg transition-colors ${l?"text-blue-400 hover:bg-gray-700":"text-blue-600 hover:bg-gray-100"}`,children:"View All"})]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:o.length>0?o.slice(0,5).map(Z=>e.jsx("div",{onClick:()=>{L(Z.id),g(!1)},className:`p-4 border-b last:border-b-0 hover:bg-opacity-50 transition-colors cursor-pointer ${l?"border-gray-700 hover:bg-gray-700":"border-gray-100 hover:bg-gray-50"} ${Z.read?"opacity-60":""}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${Z.priority==="high"?"bg-red-500":Z.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:Z.message}),e.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"Just now"})]})]})},Z.id)):e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{className:`text-sm ${l?"text-gray-400":"text-gray-500"}`,children:"No new notifications"})})})]})]})]})]}),e.jsxs(Wt,{darkMode:l,onRetry:()=>window.location.reload(),onGoHome:()=>u("dashboard"),children:[v==="dashboard"&&e.jsxs(e.Fragment,{children:[y.role==="parent"&&e.jsx("div",{className:"w-full",children:e.jsx(Ua,{aiInsights:T,setActiveTab:u,darkMode:l,currentUser:y})}),y.role!=="parent"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[y.role==="admin"&&e.jsx(Ba,{aiInsights:T,setActiveTab:u,darkMode:l}),y.role==="teacher"&&e.jsx(Ma,{aiInsights:T,setActiveTab:u,darkMode:l}),y.role==="student"&&e.jsx(Ga,{aiInsights:T,setActiveTab:u,darkMode:l,currentUser:y})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6 lg:sticky lg:top-6 self-start",children:[Q(),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"School Events"}),e.jsx("button",{onClick:()=>u("events"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:(()=>{const Z=new Date,I=[];return Object.entries(f).forEach(([F,G])=>{const le=new Date(F);le>=Z&&G.forEach(H=>{I.push({...H,date:le,dateKey:F})})}),I.sort((F,G)=>F.date-G.date),I.slice(0,8).map((F,G)=>{const le={academic:"bg-blue-100 text-blue-800",meeting:"bg-green-100 text-green-800",sports:"bg-orange-100 text-orange-800",cultural:"bg-purple-100 text-purple-800",exam:"bg-red-100 text-red-800",event:"bg-indigo-100 text-indigo-800"};return e.jsx("div",{className:"p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>u("events"),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:F.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[F.date.toLocaleDateString()," • ",F.time]})]}),e.jsx("span",{className:`ml-3 px-2 py-1 text-xs rounded whitespace-nowrap ${le[F.type]||"bg-gray-100 text-gray-800"}`,children:F.type})]})},G)})})()})]})]})]})]}),v==="profile"&&e.jsx(Wa,{userRole:y.role,currentUser:y}),v==="messaging"&&e.jsx(zt,{userRole:y.role,currentUser:y,darkMode:l,notifications:o,setNotifications:b}),v==="assignments"&&e.jsx(Ot,{userRole:y.role,currentUser:y}),v==="online-class"&&e.jsx(ql,{userRole:y.role,currentUser:y,darkMode:l}),v==="lesson-planning"&&e.jsx(Ja,{userRole:y.role,currentUser:y,darkMode:l}),v==="attendance"&&y.role==="teacher"&&e.jsx(Jt,{userRole:y.role,currentUser:y,darkMode:l}),v==="attendance"&&y.role!=="teacher"&&e.jsx(Mt,{userRole:y.role,currentUser:y}),v==="payments"&&e.jsx(Gt,{userRole:y.role,currentUser:y}),v==="ai-analytics"&&y.role==="student"&&e.jsx(el,{userRole:y.role,currentUser:y,darkMode:l}),v==="ai-analytics"&&(y.role==="admin"||y.role==="teacher")&&e.jsx(Ut,{userRole:y.role,currentUser:y,darkMode:l}),v==="leaderboard"&&e.jsx(cl,{userRole:y.role,currentUser:y,darkMode:l}),v==="settings"&&y.role==="student"&&e.jsx(er,{userRole:y.role,currentUser:y,darkMode:l,setDarkMode:n,fontSize:h,setFontSize:S}),v==="settings"&&y.role==="parent"&&e.jsx(sr,{userRole:y.role,currentUser:y,darkMode:l,setDarkMode:n,fontSize:h,setFontSize:S,setActiveTab:u}),v==="settings"&&y.role==="teacher"&&e.jsx(tr,{userRole:y.role,currentUser:y,darkMode:l,setDarkMode:n,fontSize:h,setFontSize:S}),v==="settings"&&y.role==="admin"&&e.jsx(Ya,{userRole:y.role,currentUser:y,darkMode:l}),v==="help-support"&&e.jsx(Zl,{userRole:y.role,currentUser:y,darkMode:l}),v==="submit-assignment"&&y.role==="student"&&e.jsx(Ka,{userRole:y.role,currentUser:y,darkMode:l}),v==="subjects"&&y.role==="student"&&e.jsx(Za,{userRole:y.role,currentUser:y,darkMode:l,setActiveTab:u}),v==="uneb-readiness"&&e.jsx(nl,{userRole:y.role,currentUser:y,darkMode:l}),v==="recommendations"&&e.jsx(il,{userRole:y.role,currentUser:y,darkMode:l}),v==="study-materials"&&e.jsx(ll,{userRole:y.role,currentUser:y,darkMode:l}),v==="past-papers"&&e.jsx(rl,{userRole:y.role,currentUser:y,darkMode:l}),v==="fee-balance"&&e.jsx(tl,{userRole:y.role,currentUser:y,darkMode:l}),v==="teaching-resources"&&e.jsx(dl,{userRole:y.role,currentUser:y,darkMode:l}),(v==="classes"||v==="class-schedules")&&y.role==="teacher"&&e.jsx(ol,{userRole:y.role,currentUser:y,darkMode:l,activeTab:v}),v==="performance-trends"&&e.jsx(Nt,{userRole:y.role,currentUser:y,darkMode:l,restrictionType:"performance",children:e.jsx(Ol,{userRole:y.role,currentUser:y,darkMode:l,setActiveTab:u})}),v==="library"&&e.jsx(st,{userRole:y.role,currentUser:y,darkMode:l}),v==="activities"&&e.jsx(hl,{userRole:y.role,currentUser:y}),(v==="grades"||v==="child-grades"||v==="progress-reports")&&e.jsx(Nt,{userRole:y.role,currentUser:y,darkMode:l,restrictionType:"grades",children:e.jsx(ul,{userRole:y.role,currentUser:y})}),v==="grading"&&e.jsx(Ht,{userRole:y.role,currentUser:y}),v==="fee-statements"&&e.jsx(gl,{userRole:y.role,currentUser:y,darkMode:l}),(v==="payment-history"||v==="payment-plans")&&e.jsx(Gt,{userRole:y.role,currentUser:y}),(v==="parent-communication"||v==="teacher-communication"||v==="announcements")&&e.jsx(zt,{userRole:y.role,currentUser:y,darkMode:l}),v==="school-announcements"&&y.role==="parent"&&e.jsx(zl,{userRole:y.role,currentUser:y,darkMode:l}),v==="submit-assignment"&&y.role!=="student"&&e.jsx(Ot,{userRole:y.role,currentUser:y}),v==="subjects"&&y.role!=="student"&&e.jsx(st,{userRole:y.role,currentUser:y}),v==="ai-analytics"&&y.role==="parent"&&e.jsx(Ml,{userRole:y.role,currentUser:y,darkMode:l,setActiveTab:u}),v==="teacher-ratings"&&y.role==="parent"&&e.jsx(Nt,{userRole:y.role,currentUser:y,darkMode:l,restrictionType:"performance",children:e.jsx(al,{userRole:y.role,currentUser:y,darkMode:l})}),v==="performance-trends"&&e.jsx(Gl,{userRole:y.role,currentUser:y,darkMode:l,setActiveTab:u}),v==="attendance-patterns"&&e.jsx(Ul,{userRole:y.role,currentUser:y,darkMode:l,setActiveTab:u}),v==="child-attendance"&&e.jsx(Mt,{userRole:y.role,currentUser:y}),v==="student-biometric"&&y.role==="admin"&&e.jsx(Ql,{userRole:y.role,currentUser:y}),v==="biometric-setup"&&e.jsx(Dl,{userRole:y.role}),v==="users"&&e.jsx(qt,{userRole:y.role,currentUser:y}),v==="children"&&e.jsx(yr,{userRole:y.role,currentUser:y,darkMode:l,setActiveTab:u}),v==="classes"&&e.jsx(pl,{userRole:y.role,currentUser:y,darkMode:l}),v==="student-roster"&&y.role==="teacher"&&e.jsx(xl,{userRole:y.role,currentUser:y,darkMode:l}),v==="student-roster"&&y.role==="admin"&&e.jsx(qt,{userRole:y.role,currentUser:y,darkMode:l}),v==="exam-setting"&&e.jsx(Qa,{userRole:y.role,currentUser:y,darkMode:l}),v==="plagiarism-check"&&e.jsx(ml,{userRole:y.role,currentUser:y,darkMode:l}),v==="student-progress"&&y.role==="teacher"&&e.jsx(Xa,{userRole:y.role,currentUser:y,darkMode:l}),v==="student-progress"&&y.role!=="teacher"&&e.jsx(Ut,{userRole:y.role,currentUser:y,darkMode:l}),(v==="curriculum-alignment"||v==="curriculum")&&e.jsx(Cl,{userRole:y.role,currentUser:y,darkMode:l}),v==="fee-structure"&&e.jsx(Nl,{userRole:y.role,currentUser:y,darkMode:l}),v==="reports"&&e.jsx(vl,{userRole:y.role,currentUser:y}),v==="term-management"&&e.jsx(El,{userRole:y.role,currentUser:y,darkMode:l}),v==="invoices"&&e.jsx(Rl,{userRole:y.role,currentUser:y,darkMode:l}),v==="expenses"&&e.jsx(_l,{userRole:y.role,currentUser:y,darkMode:l}),v==="complaints"&&e.jsx(Al,{userRole:y.role,currentUser:y,darkMode:l}),v==="hostels"&&e.jsx(Pl,{userRole:y.role,currentUser:y,darkMode:l}),v==="awards"&&e.jsx(Tl,{userRole:y.role,currentUser:y,darkMode:l}),v==="ai-automation"&&e.jsx(Fl,{userRole:y.role,currentUser:y,darkMode:l}),v==="proctoring"&&e.jsx(Wt,{children:e.jsx(Hl,{user:y})}),v==="revenue-dashboard"&&y.role==="admin"&&e.jsx(Vl,{user:y}),v==="biometric-attendance"&&y.role==="admin"&&e.jsx(Jt,{userRole:y.role,currentUser:y,darkMode:l}),v==="subject-selection-ai"&&e.jsx(Wl,{user:y}),(v==="holiday-planner"||v==="holiday-tests")&&e.jsx(Jl,{userRole:y.role,currentUser:y,darkMode:l}),v==="biometric-payroll"&&e.jsx(Yl,{userRole:y.role,currentUser:y,darkMode:l}),v==="transport"&&e.jsx(Xl,{userRole:y.role,currentUser:y,darkMode:l}),v==="medical"&&e.jsx(Kl,{userRole:y.role,currentUser:y,darkMode:l}),v==="departments"&&e.jsx(jr,{userRole:y.role,currentUser:y}),v==="unit-plan-generator"&&e.jsx(Il,{userRole:y.role,currentUser:y,darkMode:l}),v==="ai-teaching-tools"&&e.jsx(Ll,{userRole:y.role,currentUser:y,darkMode:l}),v==="ai-learning-tools"&&e.jsx(Bl,{userRole:y.role,currentUser:y,darkMode:l}),v==="parent-meetings"&&e.jsx(wl,{userRole:y.role,currentUser:y,darkMode:l}),v==="emergency-contacts"&&e.jsx(Sl,{userRole:y.role,currentUser:y}),v==="volunteer"&&e.jsx($l,{userRole:y.role,currentUser:y}),v==="feedback"&&e.jsx(kl,{userRole:y.role,currentUser:y}),v==="class-schedules"&&e.jsx(bl,{userRole:y.role,currentUser:y,darkMode:l}),v==="timetable"&&y.role==="student"&&e.jsx(yl,{userRole:y.role,currentUser:y,darkMode:l,setActiveTab:u}),v==="study-timetable"&&y.role==="student"&&e.jsx(jl,{userRole:y.role,currentUser:y,darkMode:l}),v==="timetable"&&y.role!=="student"&&e.jsx(st,{userRole:y.role,currentUser:y,darkMode:l}),v==="study-materials"&&y.role!=="student"&&e.jsx(st,{userRole:y.role,currentUser:y,darkMode:l}),v==="past-papers"&&y.role!=="student"&&e.jsx(st,{userRole:y.role,currentUser:y,darkMode:l}),v==="exam-schedule"&&y.role==="student"&&e.jsx(fl,{userRole:y.role,currentUser:y,darkMode:l}),v==="exam-schedule"&&y.role!=="student"&&e.jsx(Ht,{userRole:y.role,currentUser:y,darkMode:l}),v==="events"&&e.jsx("div",{className:`min-h-screen ${l?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:e.jsxs("div",{className:"max-w-5xl mx-auto px-2 sm:px-3 lg:px-4 py-3 space-y-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg shadow-sm p-2 sm:p-3 text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ne,{className:"w-5 h-5 text-white"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-base sm:text-lg font-bold",children:"School Events Calendar"}),e.jsx("p",{className:"text-indigo-100 text-xs",children:"Stay updated with school activities"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:`rounded-lg shadow-sm border p-3 ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-100"}`,children:Q()})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`rounded-lg shadow-sm border p-3 ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-100"}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Ce,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("h3",{className:`text-sm font-bold ${l?"text-white":"text-gray-800"}`,children:"Quick Actions"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>r(!0),className:"w-full bg-blue-500 text-white p-2 rounded text-xs hover:bg-blue-600 transition-colors",children:"Add to Calendar"}),e.jsx("button",{onClick:()=>k(!0),className:"w-full bg-green-500 text-white p-2 rounded text-xs hover:bg-green-600 transition-colors",children:"Set Reminders"}),e.jsx("button",{onClick:()=>C(!0),className:"w-full bg-purple-500 text-white p-2 rounded text-xs hover:bg-purple-600 transition-colors",children:"RSVP Events"}),e.jsx("button",{onClick:()=>_(!0),className:"w-full bg-orange-500 text-white p-2 rounded text-xs hover:bg-orange-600 transition-colors",children:"Contact Organizer"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-3",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Ie,{className:"w-4 h-4 text-yellow-600 mr-2"}),e.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Categories"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center p-2 bg-red-50 rounded border border-red-200",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),e.jsx("div",{children:e.jsx("p",{className:"font-medium text-red-800 text-xs",children:"Exams"})})]}),e.jsxs("div",{className:"flex items-center p-2 bg-blue-50 rounded border border-blue-200",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),e.jsx("div",{children:e.jsx("p",{className:"font-medium text-blue-800 text-xs",children:"Academic"})})]}),e.jsxs("div",{className:"flex items-center p-2 bg-green-50 rounded border border-green-200",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),e.jsx("div",{children:e.jsx("p",{className:"font-medium text-green-800 text-xs",children:"Meetings"})})]}),e.jsxs("div",{className:"flex items-center p-2 bg-orange-50 rounded border border-orange-200",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),e.jsx("div",{children:e.jsx("p",{className:"font-medium text-orange-800 text-xs",children:"Sports"})})]}),e.jsxs("div",{className:"flex items-center p-2 bg-purple-50 rounded border border-purple-200",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),e.jsx("div",{children:e.jsx("p",{className:"font-medium text-purple-800 text-xs",children:"Cultural"})})]})]})]})]})]})]})}),!1]})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`max-w-md w-full rounded-lg shadow-xl ${l?"bg-gray-800":"bg-white"} p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${l?"text-white":"text-gray-900"}`,children:"📅 Add to Calendar"}),e.jsx("button",{onClick:()=>r(!1),className:`text-gray-400 hover:text-gray-600 ${l?"hover:text-gray-300":""}`,children:"✕"})]}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Calendar Type"}),e.jsxs("select",{className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{children:"Google Calendar"}),e.jsx("option",{children:"Outlook Calendar"}),e.jsx("option",{children:"Apple Calendar"}),e.jsx("option",{children:"Export as iCal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Events to Add"}),e.jsx("div",{className:"space-y-2",children:Object.entries(f).slice(0,5).map(([Z,I])=>I.map((F,G)=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsxs("span",{className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:[F.title," - ",Z]})]},`${Z}-${G}`)))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Notification Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:"Email reminders"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:"SMS notifications"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:"Push notifications"})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:`flex-1 py-2 px-4 rounded-lg border ${l?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Add to Calendar"})]})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`max-w-md w-full rounded-lg shadow-xl ${l?"bg-gray-800":"bg-white"} p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${l?"text-white":"text-gray-900"}`,children:"🔔 Set Reminders"}),e.jsx("button",{onClick:()=>k(!1),className:`text-gray-400 hover:text-gray-600 ${l?"hover:text-gray-300":""}`,children:"✕"})]}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Event Type"}),e.jsxs("select",{className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{children:"All Events"}),e.jsx("option",{children:"Exams Only"}),e.jsx("option",{children:"Meetings Only"}),e.jsx("option",{children:"Sports Events"}),e.jsx("option",{children:"Academic Events"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Reminder Time"}),e.jsxs("select",{className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{children:"15 minutes before"}),e.jsx("option",{children:"30 minutes before"}),e.jsx("option",{children:"1 hour before"}),e.jsx("option",{children:"1 day before"}),e.jsx("option",{children:"1 week before"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Notification Methods"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:"Email"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:"SMS"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:"Push Notification"})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>k(!1),className:`flex-1 py-2 px-4 rounded-lg border ${l?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Set Reminders"})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`max-w-md w-full rounded-lg shadow-xl ${l?"bg-gray-800":"bg-white"} p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${l?"text-white":"text-gray-900"}`,children:"✅ RSVP Events"}),e.jsx("button",{onClick:()=>C(!1),className:`text-gray-400 hover:text-gray-600 ${l?"hover:text-gray-300":""}`,children:"✕"})]}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Select Event"}),e.jsxs("select",{className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{children:"Parent-Teacher Meeting - Oct 15"}),e.jsx("option",{children:"Science Fair - Oct 20"}),e.jsx("option",{children:"Sports Day - Oct 25"}),e.jsx("option",{children:"Cultural Day - Nov 1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Your Response"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"rsvp",value:"attending",className:"mr-2"}),e.jsx("span",{className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:"✅ Attending"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"rsvp",value:"not_attending",className:"mr-2"}),e.jsx("span",{className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:"❌ Not Attending"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"rsvp",value:"maybe",className:"mr-2"}),e.jsx("span",{className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:"🤔 Maybe"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Number of Attendees"}),e.jsx("input",{type:"number",min:"1",max:"10",className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Special Requirements"}),e.jsx("textarea",{rows:"3",className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Any special dietary requirements, accessibility needs, etc."})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>C(!1),className:`flex-1 py-2 px-4 rounded-lg border ${l?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:"Submit RSVP"})]})]})]})}),J&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`max-w-md w-full max-h-[90vh] rounded-lg shadow-xl ${l?"bg-gray-800":"bg-white"} flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:`text-lg font-semibold ${l?"text-white":"text-gray-900"}`,children:"📧 Contact Event Organizer"}),e.jsx("button",{onClick:()=>_(!1),className:`text-gray-400 hover:text-gray-600 ${l?"hover:text-gray-300":""}`,children:"✕"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:e.jsxs("form",{id:"contact-form",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Select Event"}),e.jsxs("select",{className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{children:"Parent-Teacher Meeting - Oct 15"}),e.jsx("option",{children:"Science Fair - Oct 20"}),e.jsx("option",{children:"Sports Day - Oct 25"}),e.jsx("option",{children:"Cultural Day - Nov 1"}),e.jsx("option",{children:"General Inquiry"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Your Name *"}),e.jsx("input",{type:"text",className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Email Address *"}),e.jsx("input",{type:"email",className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"your.email@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Phone Number"}),e.jsx("input",{type:"tel",className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"+256 700 000 000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Subject *"}),e.jsxs("select",{className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Subject"}),e.jsx("option",{value:"question",children:"General Question"}),e.jsx("option",{value:"information",children:"Request Information"}),e.jsx("option",{value:"issue",children:"Report Issue"}),e.jsx("option",{value:"suggestion",children:"Suggestion"}),e.jsx("option",{value:"complaint",children:"Complaint"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Message *"}),e.jsx("textarea",{rows:"4",className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Please provide details about your inquiry, question, or concern...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${l?"text-gray-300":"text-gray-700"}`,children:"Priority Level"}),e.jsxs("select",{className:`w-full p-3 rounded-lg border ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"low",children:"Low - General inquiry"}),e.jsx("option",{value:"medium",selected:!0,children:"Medium - Standard request"}),e.jsx("option",{value:"high",children:"High - Urgent matter"}),e.jsx("option",{value:"urgent",children:"Urgent - Immediate attention needed"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"follow-up",className:"mr-2"}),e.jsx("label",{htmlFor:"follow-up",className:`text-sm ${l?"text-gray-300":"text-gray-700"}`,children:"I would like to receive a follow-up response"})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>_(!1),className:`flex-1 py-2 px-4 rounded-lg border ${l?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"}),e.jsx("button",{type:"submit",form:"contact-form",className:"flex-1 py-2 px-4 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"Send Message"})]})})]})})]})};export{Lr as default};
